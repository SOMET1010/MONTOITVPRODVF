const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/HomePage-C0QQdpvj.js","assets/chevron-left-D_g2OCjs.js","assets/chevron-right-BLDTVMXn.js","assets/users-D0C3GH6f.js","assets/star-J2u9mmDL.js","assets/arrow-right-BMU2yZYX.js","assets/homepage-modern-DypopUJa.css","assets/NotFoundPage-C5DiKzdQ.js","assets/arrow-left-CUrD3XQM.js","assets/AddPropertyLandingPage-DAN1PDhz.js","assets/camera-DDPwGsR6.js","assets/trending-up-Ca7BDRTc.js","assets/AuthPage-Cvo0rBnX.js","assets/check-B8KQdvXQ.js","assets/lock-BLZJFCmc.js","assets/key-round-BmYKC-sl.js","assets/ModernAuthPage-CJR8GOSC.js","assets/building-2-CQh0d5u_.js","assets/eye-off-CN76Ut5Z.js","assets/eye-f08BSrcS.js","assets/loader-2-CIW_ehiM.js","assets/ForgotPasswordPage-BgR10loZ.js","assets/ResetPasswordPage-Da7YcgVM.js","assets/VerifyOTPPage-C8twSI0N.js","assets/ProfileSelectionPage-CILnYf6d.js","assets/briefcase-DWKJ1B8Q.js","assets/ProfilePage-CdpXbGRr.js","assets/AnsutBadge-CcqaNmle.js","assets/award-2q7Tc0Kf.js","assets/features.config-Da65fS3d.js","assets/RoleSwitcher-DdW0nMLl.js","assets/save-ncL7ygJi.js","assets/SearchPropertiesPage-vwnySx0Y.js","assets/Breadcrumb-C4JkyeYG.js","assets/PropertyDetailPage-Db2UWPEP.js","assets/bed-DV_GX0tK.js","assets/FavoritesPage-CL8uzXV5.js","assets/Footer-CYhjxjQS.js","assets/chevron-down-GdfEXwfR.js","assets/wrench-dlnr59pN.js","assets/user-check-Cq0J7EDk.js","assets/user-plus-DUn9Uik4.js","assets/SavedSearchesPage-DD5-rrr-.js","assets/RecommendationsPage-D8fMkvcV.js","assets/ApplicationFormPage-CmXcgWSi.js","assets/scoringService-C5qT6ZEu.js","assets/ApplicationDetailPage-e-5aBDDc.js","assets/ScheduleVisitPage-D_tq9FU3.js","assets/video-B5u8LL_X.js","assets/MyVisitsPage-B5fdMtsI.js","assets/MessagesPage-6SDxsApY.js","assets/paperclip-aiI-fdSs.js","assets/CreateContractPage-B4aTdmkZ.js","assets/coins-Bus8zOAQ.js","assets/MyContractsPage-CsxvUAxw.js","assets/square-pen-n6U2Mz-R.js","assets/ContractDetailPage-Brao6C73.js","assets/ContractDetailEnhancedPage-CD2T_v8Z.js","assets/jspdf.es.min-DlspuGIN.js","assets/download-Cz2iaR0v.js","assets/upload-Bvkz2vdP.js","assets/SignLeasePage-BO6uiiin.js","assets/ContractsListPage-Av3xkRlj.js","assets/MakePaymentPage-DRDaOacs.js","assets/apiKeyService-BvGbMXGQ.js","assets/smartphone-zYpm6pF8.js","assets/PaymentHistoryPage-AhIIfxjF.js","assets/RequestPage-Buyntz1t.js","assets/IdentityVerificationPage-D85SaFy5.js","assets/badge-D0lDMt7k.js","assets/SettingsPage-BOLlH74c.js","assets/MyCertificatesPage-DLzLofAt.js","assets/RequestValidationPage-Bsprz3in.js","assets/trustValidationService-69rJfG7o.js","assets/RequestCEVPage-DSz8p10P.js","assets/cevService-v3SFRgNO.js","assets/CEVRequestDetailPage-CX3T47FA.js","assets/DashboardPage-BDuMa7vP.js","assets/message-square-BAJ_G9GZ.js","assets/CalendarPage-D0kIbCJU.js","assets/ScorePage-DD-iDpxp.js","assets/MaintenancePage-C_sw2mzp.js","assets/AddPropertyPage-BwCtxXyb.js","assets/image-BKLjttnb.js","assets/PropertyStatsPage-TjFSIOtD.js","assets/RegistrationPage-mynmbEQv.js","assets/TeamPage-BVR7_Ui9.js","assets/PropertiesPage-DUIy8nwH.js","assets/CommissionsPage-HOtaEjhl.js","assets/SimpleBarChart-CIz7KRiF.js","assets/MaintenanceRequestPage-BsmWUMe_.js","assets/UsersPage-B1gk3NBz.js","assets/UserRolesPage-BVF5YoZw.js","assets/ApiKeysPage-BOZFu-pb.js","assets/ServiceProvidersPage-BouvpPAD.js","assets/bar-chart-3-qusyvWT-.js","assets/ServiceMonitoringPage-_qpMMhRq.js","assets/ServiceConfigurationPage-CjgXN6fj.js","assets/TestDataGeneratorPage-CwU_rdMi.js","assets/QuickDemoPage-CM6cXjVe.js","assets/CEVManagementPage-CvNz2U7G.js","assets/TrustAgentsPage-yjESEvKk.js","assets/ModerationPage-Dj_ezGRw.js","assets/MediationPage-DRXg7b8k.js","assets/arrow-up-circle-Brx5LliZ.js","assets/AnalyticsPage-BvYCBXln.js","assets/NotificationPreferencesPage-CJGoWdr4.js","assets/MyDisputesPage-DWZ2tmD4.js","assets/CreateDisputePage-CTscvBZT.js","assets/DisputeDetailPage-DfhtXG0l.js","assets/AboutPage-Bhoc1qeo.js","assets/TermsOfServicePage-S8K4AoyH.js","assets/PrivacyPolicyPage-bQLoeuzW.js","assets/ContactPage-B5DTCNdD.js","assets/FooterCTA-B_2276Rw.js","assets/HelpPage-SzHfQhcq.js","assets/FAQPage-BOfjUm2u.js"])))=>i.map(i=>d[i]);
var qv=Object.defineProperty;var Nd=t=>{throw TypeError(t)};var Hv=(t,e,r)=>e in t?qv(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Vn=(t,e,r)=>Hv(t,typeof e!="symbol"?e+"":e,r),al=(t,e,r)=>e.has(t)||Nd("Cannot "+r);var C=(t,e,r)=>(al(t,e,"read from private field"),r?r.call(t):e.get(t)),ne=(t,e,r)=>e.has(t)?Nd("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),J=(t,e,r,n)=>(al(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),qe=(t,e,r)=>(al(t,e,"access private method"),r);var mo=(t,e,r,n)=>({set _(i){J(t,e,i,r)},get _(){return C(t,e,n)}});function sp(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var Ct=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Wv(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var op={exports:{}},Oa={},ap={exports:{}},te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zs=Symbol.for("react.element"),Kv=Symbol.for("react.portal"),Qv=Symbol.for("react.fragment"),Jv=Symbol.for("react.strict_mode"),Gv=Symbol.for("react.profiler"),Yv=Symbol.for("react.provider"),Xv=Symbol.for("react.context"),Zv=Symbol.for("react.forward_ref"),ey=Symbol.for("react.suspense"),ty=Symbol.for("react.memo"),ry=Symbol.for("react.lazy"),Id=Symbol.iterator;function ny(t){return t===null||typeof t!="object"?null:(t=Id&&t[Id]||t["@@iterator"],typeof t=="function"?t:null)}var lp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},up=Object.assign,cp={};function Di(t,e,r){this.props=t,this.context=e,this.refs=cp,this.updater=r||lp}Di.prototype.isReactComponent={};Di.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Di.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function dp(){}dp.prototype=Di.prototype;function dc(t,e,r){this.props=t,this.context=e,this.refs=cp,this.updater=r||lp}var hc=dc.prototype=new dp;hc.constructor=dc;up(hc,Di.prototype);hc.isPureReactComponent=!0;var Ld=Array.isArray,hp=Object.prototype.hasOwnProperty,fc={current:null},fp={key:!0,ref:!0,__self:!0,__source:!0};function pp(t,e,r){var n,i={},s=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)hp.call(e,n)&&!fp.hasOwnProperty(n)&&(i[n]=e[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:Zs,type:t,key:s,ref:o,props:i,_owner:fc.current}}function iy(t,e){return{$$typeof:Zs,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function pc(t){return typeof t=="object"&&t!==null&&t.$$typeof===Zs}function sy(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Dd=/\/+/g;function ll(t,e){return typeof t=="object"&&t!==null&&t.key!=null?sy(""+t.key):e.toString(36)}function Fo(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Zs:case Kv:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+ll(o,0):n,Ld(i)?(r="",t!=null&&(r=t.replace(Dd,"$&/")+"/"),Fo(i,e,r,"",function(u){return u})):i!=null&&(pc(i)&&(i=iy(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Dd,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",Ld(t))for(var a=0;a<t.length;a++){s=t[a];var l=n+ll(s,a);o+=Fo(s,e,r,l,i)}else if(l=ny(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=n+ll(s,a++),o+=Fo(s,e,r,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function go(t,e,r){if(t==null)return t;var n=[],i=0;return Fo(t,n,"","",function(s){return e.call(r,s,i++)}),n}function oy(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var nt={current:null},Bo={transition:null},ay={ReactCurrentDispatcher:nt,ReactCurrentBatchConfig:Bo,ReactCurrentOwner:fc};function mp(){throw Error("act(...) is not supported in production builds of React.")}te.Children={map:go,forEach:function(t,e,r){go(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return go(t,function(){e++}),e},toArray:function(t){return go(t,function(e){return e})||[]},only:function(t){if(!pc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};te.Component=Di;te.Fragment=Qv;te.Profiler=Gv;te.PureComponent=dc;te.StrictMode=Jv;te.Suspense=ey;te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ay;te.act=mp;te.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=up({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=fc.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)hp.call(e,l)&&!fp.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:Zs,type:t.type,key:i,ref:s,props:n,_owner:o}};te.createContext=function(t){return t={$$typeof:Xv,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Yv,_context:t},t.Consumer=t};te.createElement=pp;te.createFactory=function(t){var e=pp.bind(null,t);return e.type=t,e};te.createRef=function(){return{current:null}};te.forwardRef=function(t){return{$$typeof:Zv,render:t}};te.isValidElement=pc;te.lazy=function(t){return{$$typeof:ry,_payload:{_status:-1,_result:t},_init:oy}};te.memo=function(t,e){return{$$typeof:ty,type:t,compare:e===void 0?null:e}};te.startTransition=function(t){var e=Bo.transition;Bo.transition={};try{t()}finally{Bo.transition=e}};te.unstable_act=mp;te.useCallback=function(t,e){return nt.current.useCallback(t,e)};te.useContext=function(t){return nt.current.useContext(t)};te.useDebugValue=function(){};te.useDeferredValue=function(t){return nt.current.useDeferredValue(t)};te.useEffect=function(t,e){return nt.current.useEffect(t,e)};te.useId=function(){return nt.current.useId()};te.useImperativeHandle=function(t,e,r){return nt.current.useImperativeHandle(t,e,r)};te.useInsertionEffect=function(t,e){return nt.current.useInsertionEffect(t,e)};te.useLayoutEffect=function(t,e){return nt.current.useLayoutEffect(t,e)};te.useMemo=function(t,e){return nt.current.useMemo(t,e)};te.useReducer=function(t,e,r){return nt.current.useReducer(t,e,r)};te.useRef=function(t){return nt.current.useRef(t)};te.useState=function(t){return nt.current.useState(t)};te.useSyncExternalStore=function(t,e,r){return nt.current.useSyncExternalStore(t,e,r)};te.useTransition=function(){return nt.current.useTransition()};te.version="18.3.1";ap.exports=te;var x=ap.exports;const gp=cc(x),ly=sp({__proto__:null,default:gp},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uy=x,cy=Symbol.for("react.element"),dy=Symbol.for("react.fragment"),hy=Object.prototype.hasOwnProperty,fy=uy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,py={key:!0,ref:!0,__self:!0,__source:!0};function vp(t,e,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)hy.call(e,n)&&!py.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:cy,type:t,key:s,ref:o,props:i,_owner:fy.current}}Oa.Fragment=dy;Oa.jsx=vp;Oa.jsxs=vp;op.exports=Oa;var d=op.exports,yp={exports:{}},xt={},wp={exports:{}},_p={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(I,K){var G=I.length;I.push(K);e:for(;0<G;){var de=G-1>>>1,he=I[de];if(0<i(he,K))I[de]=K,I[G]=he,G=de;else break e}}function r(I){return I.length===0?null:I[0]}function n(I){if(I.length===0)return null;var K=I[0],G=I.pop();if(G!==K){I[0]=G;e:for(var de=0,he=I.length,Ot=he>>>1;de<Ot;){var mt=2*(de+1)-1,Je=I[mt],Ge=mt+1,Et=I[Ge];if(0>i(Je,G))Ge<he&&0>i(Et,Je)?(I[de]=Et,I[Ge]=G,de=Ge):(I[de]=Je,I[mt]=G,de=mt);else if(Ge<he&&0>i(Et,G))I[de]=Et,I[Ge]=G,de=Ge;else break e}}return K}function i(I,K){var G=I.sortIndex-K.sortIndex;return G!==0?G:I.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,f=3,v=!1,y=!1,w=!1,k=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(I){for(var K=r(u);K!==null;){if(K.callback===null)n(u);else if(K.startTime<=I)n(u),K.sortIndex=K.expirationTime,e(l,K);else break;K=r(u)}}function E(I){if(w=!1,g(I),!y)if(r(l)!==null)y=!0,ot(P);else{var K=r(u);K!==null&&at(E,K.startTime-I)}}function P(I,K){y=!1,w&&(w=!1,m(R),R=-1),v=!0;var G=f;try{for(g(K),h=r(l);h!==null&&(!(h.expirationTime>K)||I&&!W());){var de=h.callback;if(typeof de=="function"){h.callback=null,f=h.priorityLevel;var he=de(h.expirationTime<=K);K=t.unstable_now(),typeof he=="function"?h.callback=he:h===r(l)&&n(l),g(K)}else n(l);h=r(l)}if(h!==null)var Ot=!0;else{var mt=r(u);mt!==null&&at(E,mt.startTime-K),Ot=!1}return Ot}finally{h=null,f=G,v=!1}}var j=!1,_=null,R=-1,z=5,A=-1;function W(){return!(t.unstable_now()-A<z)}function M(){if(_!==null){var I=t.unstable_now();A=I;var K=!0;try{K=_(!0,I)}finally{K?ie():(j=!1,_=null)}}else j=!1}var ie;if(typeof p=="function")ie=function(){p(M)};else if(typeof MessageChannel<"u"){var ke=new MessageChannel,st=ke.port2;ke.port1.onmessage=M,ie=function(){st.postMessage(null)}}else ie=function(){k(M,0)};function ot(I){_=I,j||(j=!0,ie())}function at(I,K){R=k(function(){I(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_continueExecution=function(){y||v||(y=!0,ot(P))},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(I){switch(f){case 1:case 2:case 3:var K=3;break;default:K=f}var G=f;f=K;try{return I()}finally{f=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(I,K){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var G=f;f=I;try{return K()}finally{f=G}},t.unstable_scheduleCallback=function(I,K,G){var de=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?de+G:de):G=de,I){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=G+he,I={id:c++,callback:K,priorityLevel:I,startTime:G,expirationTime:he,sortIndex:-1},G>de?(I.sortIndex=G,e(u,I),r(l)===null&&I===r(u)&&(w?(m(R),R=-1):w=!0,at(E,G-de))):(I.sortIndex=he,e(l,I),y||v||(y=!0,ot(P))),I},t.unstable_shouldYield=W,t.unstable_wrapCallback=function(I){var K=f;return function(){var G=f;f=K;try{return I.apply(this,arguments)}finally{f=G}}}})(_p);wp.exports=_p;var my=wp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gy=x,_t=my;function N(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var xp=new Set,ks={};function Ln(t,e){ji(t,e),ji(t+"Capture",e)}function ji(t,e){for(ks[t]=e,t=0;t<e.length;t++)xp.add(e[t])}var gr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ql=Object.prototype.hasOwnProperty,vy=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Md={},Ud={};function yy(t){return Ql.call(Ud,t)?!0:Ql.call(Md,t)?!1:vy.test(t)?Ud[t]=!0:(Md[t]=!0,!1)}function wy(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function _y(t,e,r,n){if(e===null||typeof e>"u"||wy(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function it(t,e,r,n,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ve={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ve[t]=new it(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ve[e]=new it(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ve[t]=new it(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ve[t]=new it(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ve[t]=new it(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ve[t]=new it(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ve[t]=new it(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ve[t]=new it(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ve[t]=new it(t,5,!1,t.toLowerCase(),null,!1,!1)});var mc=/[\-:]([a-z])/g;function gc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(mc,gc);Ve[e]=new it(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(mc,gc);Ve[e]=new it(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(mc,gc);Ve[e]=new it(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ve[t]=new it(t,1,!1,t.toLowerCase(),null,!1,!1)});Ve.xlinkHref=new it("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ve[t]=new it(t,1,!1,t.toLowerCase(),null,!0,!0)});function vc(t,e,r,n){var i=Ve.hasOwnProperty(e)?Ve[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(_y(e,r,i,n)&&(r=null),n||i===null?yy(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var _r=gy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vo=Symbol.for("react.element"),ei=Symbol.for("react.portal"),ti=Symbol.for("react.fragment"),yc=Symbol.for("react.strict_mode"),Jl=Symbol.for("react.profiler"),Sp=Symbol.for("react.provider"),Ep=Symbol.for("react.context"),wc=Symbol.for("react.forward_ref"),Gl=Symbol.for("react.suspense"),Yl=Symbol.for("react.suspense_list"),_c=Symbol.for("react.memo"),Cr=Symbol.for("react.lazy"),kp=Symbol.for("react.offscreen"),zd=Symbol.iterator;function Ki(t){return t===null||typeof t!="object"?null:(t=zd&&t[zd]||t["@@iterator"],typeof t=="function"?t:null)}var Ee=Object.assign,ul;function ss(t){if(ul===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);ul=e&&e[1]||""}return`
`+ul+t}var cl=!1;function dl(t,e){if(!t||cl)return"";cl=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{cl=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?ss(t):""}function xy(t){switch(t.tag){case 5:return ss(t.type);case 16:return ss("Lazy");case 13:return ss("Suspense");case 19:return ss("SuspenseList");case 0:case 2:case 15:return t=dl(t.type,!1),t;case 11:return t=dl(t.type.render,!1),t;case 1:return t=dl(t.type,!0),t;default:return""}}function Xl(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ti:return"Fragment";case ei:return"Portal";case Jl:return"Profiler";case yc:return"StrictMode";case Gl:return"Suspense";case Yl:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Ep:return(t.displayName||"Context")+".Consumer";case Sp:return(t._context.displayName||"Context")+".Provider";case wc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case _c:return e=t.displayName||null,e!==null?e:Xl(t.type)||"Memo";case Cr:e=t._payload,t=t._init;try{return Xl(t(e))}catch{}}return null}function Sy(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xl(e);case 8:return e===yc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Xr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function bp(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ey(t){var e=bp(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function yo(t){t._valueTracker||(t._valueTracker=Ey(t))}function jp(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=bp(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function ta(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Zl(t,e){var r=e.checked;return Ee({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function $d(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Xr(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Pp(t,e){e=e.checked,e!=null&&vc(t,"checked",e,!1)}function eu(t,e){Pp(t,e);var r=Xr(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?tu(t,e.type,r):e.hasOwnProperty("defaultValue")&&tu(t,e.type,Xr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Fd(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function tu(t,e,r){(e!=="number"||ta(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var os=Array.isArray;function hi(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Xr(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function ru(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(N(91));return Ee({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Bd(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(N(92));if(os(r)){if(1<r.length)throw Error(N(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Xr(r)}}function Tp(t,e){var r=Xr(e.value),n=Xr(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Vd(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Cp(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function nu(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Cp(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var wo,Rp=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(wo=wo||document.createElement("div"),wo.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=wo.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function bs(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var hs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ky=["Webkit","ms","Moz","O"];Object.keys(hs).forEach(function(t){ky.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),hs[e]=hs[t]})});function Ap(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||hs.hasOwnProperty(t)&&hs[t]?(""+e).trim():e+"px"}function Op(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=Ap(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var by=Ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function iu(t,e){if(e){if(by[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(N(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(N(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(N(61))}if(e.style!=null&&typeof e.style!="object")throw Error(N(62))}}function su(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ou=null;function xc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var au=null,fi=null,pi=null;function qd(t){if(t=ro(t)){if(typeof au!="function")throw Error(N(280));var e=t.stateNode;e&&(e=Ma(e),au(t.stateNode,t.type,e))}}function Np(t){fi?pi?pi.push(t):pi=[t]:fi=t}function Ip(){if(fi){var t=fi,e=pi;if(pi=fi=null,qd(t),e)for(t=0;t<e.length;t++)qd(e[t])}}function Lp(t,e){return t(e)}function Dp(){}var hl=!1;function Mp(t,e,r){if(hl)return t(e,r);hl=!0;try{return Lp(t,e,r)}finally{hl=!1,(fi!==null||pi!==null)&&(Dp(),Ip())}}function js(t,e){var r=t.stateNode;if(r===null)return null;var n=Ma(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(N(231,e,typeof r));return r}var lu=!1;if(gr)try{var Qi={};Object.defineProperty(Qi,"passive",{get:function(){lu=!0}}),window.addEventListener("test",Qi,Qi),window.removeEventListener("test",Qi,Qi)}catch{lu=!1}function jy(t,e,r,n,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(c){this.onError(c)}}var fs=!1,ra=null,na=!1,uu=null,Py={onError:function(t){fs=!0,ra=t}};function Ty(t,e,r,n,i,s,o,a,l){fs=!1,ra=null,jy.apply(Py,arguments)}function Cy(t,e,r,n,i,s,o,a,l){if(Ty.apply(this,arguments),fs){if(fs){var u=ra;fs=!1,ra=null}else throw Error(N(198));na||(na=!0,uu=u)}}function Dn(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Up(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Hd(t){if(Dn(t)!==t)throw Error(N(188))}function Ry(t){var e=t.alternate;if(!e){if(e=Dn(t),e===null)throw Error(N(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return Hd(i),t;if(s===n)return Hd(i),e;s=s.sibling}throw Error(N(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o)throw Error(N(189))}}if(r.alternate!==n)throw Error(N(190))}if(r.tag!==3)throw Error(N(188));return r.stateNode.current===r?t:e}function zp(t){return t=Ry(t),t!==null?$p(t):null}function $p(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=$p(t);if(e!==null)return e;t=t.sibling}return null}var Fp=_t.unstable_scheduleCallback,Wd=_t.unstable_cancelCallback,Ay=_t.unstable_shouldYield,Oy=_t.unstable_requestPaint,Ce=_t.unstable_now,Ny=_t.unstable_getCurrentPriorityLevel,Sc=_t.unstable_ImmediatePriority,Bp=_t.unstable_UserBlockingPriority,ia=_t.unstable_NormalPriority,Iy=_t.unstable_LowPriority,Vp=_t.unstable_IdlePriority,Na=null,tr=null;function Ly(t){if(tr&&typeof tr.onCommitFiberRoot=="function")try{tr.onCommitFiberRoot(Na,t,void 0,(t.current.flags&128)===128)}catch{}}var Vt=Math.clz32?Math.clz32:Uy,Dy=Math.log,My=Math.LN2;function Uy(t){return t>>>=0,t===0?32:31-(Dy(t)/My|0)|0}var _o=64,xo=4194304;function as(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function sa(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~i;a!==0?n=as(a):(s&=o,s!==0&&(n=as(s)))}else o=r&~i,o!==0?n=as(o):s!==0&&(n=as(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Vt(e),i=1<<r,n|=t[r],e&=~i;return n}function zy(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $y(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Vt(s),a=1<<o,l=i[o];l===-1?(!(a&r)||a&n)&&(i[o]=zy(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function cu(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function qp(){var t=_o;return _o<<=1,!(_o&4194240)&&(_o=64),t}function fl(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function eo(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Vt(e),t[e]=r}function Fy(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Vt(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function Ec(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Vt(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var ce=0;function Hp(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Wp,kc,Kp,Qp,Jp,du=!1,So=[],qr=null,Hr=null,Wr=null,Ps=new Map,Ts=new Map,Ar=[],By="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Kd(t,e){switch(t){case"focusin":case"focusout":qr=null;break;case"dragenter":case"dragleave":Hr=null;break;case"mouseover":case"mouseout":Wr=null;break;case"pointerover":case"pointerout":Ps.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ts.delete(e.pointerId)}}function Ji(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=ro(e),e!==null&&kc(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Vy(t,e,r,n,i){switch(e){case"focusin":return qr=Ji(qr,t,e,r,n,i),!0;case"dragenter":return Hr=Ji(Hr,t,e,r,n,i),!0;case"mouseover":return Wr=Ji(Wr,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return Ps.set(s,Ji(Ps.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Ts.set(s,Ji(Ts.get(s)||null,t,e,r,n,i)),!0}return!1}function Gp(t){var e=vn(t.target);if(e!==null){var r=Dn(e);if(r!==null){if(e=r.tag,e===13){if(e=Up(r),e!==null){t.blockedOn=e,Jp(t.priority,function(){Kp(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Vo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=hu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);ou=n,r.target.dispatchEvent(n),ou=null}else return e=ro(r),e!==null&&kc(e),t.blockedOn=r,!1;e.shift()}return!0}function Qd(t,e,r){Vo(t)&&r.delete(e)}function qy(){du=!1,qr!==null&&Vo(qr)&&(qr=null),Hr!==null&&Vo(Hr)&&(Hr=null),Wr!==null&&Vo(Wr)&&(Wr=null),Ps.forEach(Qd),Ts.forEach(Qd)}function Gi(t,e){t.blockedOn===e&&(t.blockedOn=null,du||(du=!0,_t.unstable_scheduleCallback(_t.unstable_NormalPriority,qy)))}function Cs(t){function e(i){return Gi(i,t)}if(0<So.length){Gi(So[0],t);for(var r=1;r<So.length;r++){var n=So[r];n.blockedOn===t&&(n.blockedOn=null)}}for(qr!==null&&Gi(qr,t),Hr!==null&&Gi(Hr,t),Wr!==null&&Gi(Wr,t),Ps.forEach(e),Ts.forEach(e),r=0;r<Ar.length;r++)n=Ar[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Ar.length&&(r=Ar[0],r.blockedOn===null);)Gp(r),r.blockedOn===null&&Ar.shift()}var mi=_r.ReactCurrentBatchConfig,oa=!0;function Hy(t,e,r,n){var i=ce,s=mi.transition;mi.transition=null;try{ce=1,bc(t,e,r,n)}finally{ce=i,mi.transition=s}}function Wy(t,e,r,n){var i=ce,s=mi.transition;mi.transition=null;try{ce=4,bc(t,e,r,n)}finally{ce=i,mi.transition=s}}function bc(t,e,r,n){if(oa){var i=hu(t,e,r,n);if(i===null)El(t,e,n,aa,r),Kd(t,n);else if(Vy(i,t,e,r,n))n.stopPropagation();else if(Kd(t,n),e&4&&-1<By.indexOf(t)){for(;i!==null;){var s=ro(i);if(s!==null&&Wp(s),s=hu(t,e,r,n),s===null&&El(t,e,n,aa,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else El(t,e,n,null,r)}}var aa=null;function hu(t,e,r,n){if(aa=null,t=xc(n),t=vn(t),t!==null)if(e=Dn(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Up(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return aa=t,null}function Yp(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ny()){case Sc:return 1;case Bp:return 4;case ia:case Iy:return 16;case Vp:return 536870912;default:return 16}default:return 16}}var Fr=null,jc=null,qo=null;function Xp(){if(qo)return qo;var t,e=jc,r=e.length,n,i="value"in Fr?Fr.value:Fr.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[s-n];n++);return qo=i.slice(t,1<n?1-n:void 0)}function Ho(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Eo(){return!0}function Jd(){return!1}function St(t){function e(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Eo:Jd,this.isPropagationStopped=Jd,this}return Ee(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Eo)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Eo)},persist:function(){},isPersistent:Eo}),e}var Mi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pc=St(Mi),to=Ee({},Mi,{view:0,detail:0}),Ky=St(to),pl,ml,Yi,Ia=Ee({},to,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Yi&&(Yi&&t.type==="mousemove"?(pl=t.screenX-Yi.screenX,ml=t.screenY-Yi.screenY):ml=pl=0,Yi=t),pl)},movementY:function(t){return"movementY"in t?t.movementY:ml}}),Gd=St(Ia),Qy=Ee({},Ia,{dataTransfer:0}),Jy=St(Qy),Gy=Ee({},to,{relatedTarget:0}),gl=St(Gy),Yy=Ee({},Mi,{animationName:0,elapsedTime:0,pseudoElement:0}),Xy=St(Yy),Zy=Ee({},Mi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),e0=St(Zy),t0=Ee({},Mi,{data:0}),Yd=St(t0),r0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},n0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},i0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function s0(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=i0[t])?!!e[t]:!1}function Tc(){return s0}var o0=Ee({},to,{key:function(t){if(t.key){var e=r0[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ho(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?n0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tc,charCode:function(t){return t.type==="keypress"?Ho(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ho(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),a0=St(o0),l0=Ee({},Ia,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xd=St(l0),u0=Ee({},to,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tc}),c0=St(u0),d0=Ee({},Mi,{propertyName:0,elapsedTime:0,pseudoElement:0}),h0=St(d0),f0=Ee({},Ia,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),p0=St(f0),m0=[9,13,27,32],Cc=gr&&"CompositionEvent"in window,ps=null;gr&&"documentMode"in document&&(ps=document.documentMode);var g0=gr&&"TextEvent"in window&&!ps,Zp=gr&&(!Cc||ps&&8<ps&&11>=ps),Zd=" ",eh=!1;function em(t,e){switch(t){case"keyup":return m0.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tm(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ri=!1;function v0(t,e){switch(t){case"compositionend":return tm(e);case"keypress":return e.which!==32?null:(eh=!0,Zd);case"textInput":return t=e.data,t===Zd&&eh?null:t;default:return null}}function y0(t,e){if(ri)return t==="compositionend"||!Cc&&em(t,e)?(t=Xp(),qo=jc=Fr=null,ri=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Zp&&e.locale!=="ko"?null:e.data;default:return null}}var w0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function th(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!w0[t.type]:e==="textarea"}function rm(t,e,r,n){Np(n),e=la(e,"onChange"),0<e.length&&(r=new Pc("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var ms=null,Rs=null;function _0(t){fm(t,0)}function La(t){var e=si(t);if(jp(e))return t}function x0(t,e){if(t==="change")return e}var nm=!1;if(gr){var vl;if(gr){var yl="oninput"in document;if(!yl){var rh=document.createElement("div");rh.setAttribute("oninput","return;"),yl=typeof rh.oninput=="function"}vl=yl}else vl=!1;nm=vl&&(!document.documentMode||9<document.documentMode)}function nh(){ms&&(ms.detachEvent("onpropertychange",im),Rs=ms=null)}function im(t){if(t.propertyName==="value"&&La(Rs)){var e=[];rm(e,Rs,t,xc(t)),Mp(_0,e)}}function S0(t,e,r){t==="focusin"?(nh(),ms=e,Rs=r,ms.attachEvent("onpropertychange",im)):t==="focusout"&&nh()}function E0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return La(Rs)}function k0(t,e){if(t==="click")return La(e)}function b0(t,e){if(t==="input"||t==="change")return La(e)}function j0(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ht=typeof Object.is=="function"?Object.is:j0;function As(t,e){if(Ht(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Ql.call(e,i)||!Ht(t[i],e[i]))return!1}return!0}function ih(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function sh(t,e){var r=ih(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ih(r)}}function sm(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?sm(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function om(){for(var t=window,e=ta();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=ta(t.document)}return e}function Rc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function P0(t){var e=om(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&sm(r.ownerDocument.documentElement,r)){if(n!==null&&Rc(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=sh(r,s);var o=sh(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var T0=gr&&"documentMode"in document&&11>=document.documentMode,ni=null,fu=null,gs=null,pu=!1;function oh(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;pu||ni==null||ni!==ta(n)||(n=ni,"selectionStart"in n&&Rc(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),gs&&As(gs,n)||(gs=n,n=la(fu,"onSelect"),0<n.length&&(e=new Pc("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=ni)))}function ko(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var ii={animationend:ko("Animation","AnimationEnd"),animationiteration:ko("Animation","AnimationIteration"),animationstart:ko("Animation","AnimationStart"),transitionend:ko("Transition","TransitionEnd")},wl={},am={};gr&&(am=document.createElement("div").style,"AnimationEvent"in window||(delete ii.animationend.animation,delete ii.animationiteration.animation,delete ii.animationstart.animation),"TransitionEvent"in window||delete ii.transitionend.transition);function Da(t){if(wl[t])return wl[t];if(!ii[t])return t;var e=ii[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in am)return wl[t]=e[r];return t}var lm=Da("animationend"),um=Da("animationiteration"),cm=Da("animationstart"),dm=Da("transitionend"),hm=new Map,ah="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function en(t,e){hm.set(t,e),Ln(e,[t])}for(var _l=0;_l<ah.length;_l++){var xl=ah[_l],C0=xl.toLowerCase(),R0=xl[0].toUpperCase()+xl.slice(1);en(C0,"on"+R0)}en(lm,"onAnimationEnd");en(um,"onAnimationIteration");en(cm,"onAnimationStart");en("dblclick","onDoubleClick");en("focusin","onFocus");en("focusout","onBlur");en(dm,"onTransitionEnd");ji("onMouseEnter",["mouseout","mouseover"]);ji("onMouseLeave",["mouseout","mouseover"]);ji("onPointerEnter",["pointerout","pointerover"]);ji("onPointerLeave",["pointerout","pointerover"]);Ln("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ln("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ln("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ln("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ln("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ln("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ls="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),A0=new Set("cancel close invalid load scroll toggle".split(" ").concat(ls));function lh(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,Cy(n,e,void 0,t),t.currentTarget=null}function fm(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;lh(i,a,u),s=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;lh(i,a,u),s=l}}}if(na)throw t=uu,na=!1,uu=null,t}function ve(t,e){var r=e[wu];r===void 0&&(r=e[wu]=new Set);var n=t+"__bubble";r.has(n)||(pm(e,t,2,!1),r.add(n))}function Sl(t,e,r){var n=0;e&&(n|=4),pm(r,t,n,e)}var bo="_reactListening"+Math.random().toString(36).slice(2);function Os(t){if(!t[bo]){t[bo]=!0,xp.forEach(function(r){r!=="selectionchange"&&(A0.has(r)||Sl(r,!1,t),Sl(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[bo]||(e[bo]=!0,Sl("selectionchange",!1,e))}}function pm(t,e,r,n){switch(Yp(e)){case 1:var i=Hy;break;case 4:i=Wy;break;default:i=bc}r=i.bind(null,e,r,t),i=void 0,!lu||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function El(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=vn(a),o===null)return;if(l=o.tag,l===5||l===6){n=s=o;continue e}a=a.parentNode}}n=n.return}Mp(function(){var u=s,c=xc(r),h=[];e:{var f=hm.get(t);if(f!==void 0){var v=Pc,y=t;switch(t){case"keypress":if(Ho(r)===0)break e;case"keydown":case"keyup":v=a0;break;case"focusin":y="focus",v=gl;break;case"focusout":y="blur",v=gl;break;case"beforeblur":case"afterblur":v=gl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Gd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Jy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=c0;break;case lm:case um:case cm:v=Xy;break;case dm:v=h0;break;case"scroll":v=Ky;break;case"wheel":v=p0;break;case"copy":case"cut":case"paste":v=e0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Xd}var w=(e&4)!==0,k=!w&&t==="scroll",m=w?f!==null?f+"Capture":null:f;w=[];for(var p=u,g;p!==null;){g=p;var E=g.stateNode;if(g.tag===5&&E!==null&&(g=E,m!==null&&(E=js(p,m),E!=null&&w.push(Ns(p,E,g)))),k)break;p=p.return}0<w.length&&(f=new v(f,y,null,r,c),h.push({event:f,listeners:w}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",f&&r!==ou&&(y=r.relatedTarget||r.fromElement)&&(vn(y)||y[vr]))break e;if((v||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,v?(y=r.relatedTarget||r.toElement,v=u,y=y?vn(y):null,y!==null&&(k=Dn(y),y!==k||y.tag!==5&&y.tag!==6)&&(y=null)):(v=null,y=u),v!==y)){if(w=Gd,E="onMouseLeave",m="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(w=Xd,E="onPointerLeave",m="onPointerEnter",p="pointer"),k=v==null?f:si(v),g=y==null?f:si(y),f=new w(E,p+"leave",v,r,c),f.target=k,f.relatedTarget=g,E=null,vn(c)===u&&(w=new w(m,p+"enter",y,r,c),w.target=g,w.relatedTarget=k,E=w),k=E,v&&y)t:{for(w=v,m=y,p=0,g=w;g;g=qn(g))p++;for(g=0,E=m;E;E=qn(E))g++;for(;0<p-g;)w=qn(w),p--;for(;0<g-p;)m=qn(m),g--;for(;p--;){if(w===m||m!==null&&w===m.alternate)break t;w=qn(w),m=qn(m)}w=null}else w=null;v!==null&&uh(h,f,v,w,!1),y!==null&&k!==null&&uh(h,k,y,w,!0)}}e:{if(f=u?si(u):window,v=f.nodeName&&f.nodeName.toLowerCase(),v==="select"||v==="input"&&f.type==="file")var P=x0;else if(th(f))if(nm)P=b0;else{P=E0;var j=S0}else(v=f.nodeName)&&v.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(P=k0);if(P&&(P=P(t,u))){rm(h,P,r,c);break e}j&&j(t,f,u),t==="focusout"&&(j=f._wrapperState)&&j.controlled&&f.type==="number"&&tu(f,"number",f.value)}switch(j=u?si(u):window,t){case"focusin":(th(j)||j.contentEditable==="true")&&(ni=j,fu=u,gs=null);break;case"focusout":gs=fu=ni=null;break;case"mousedown":pu=!0;break;case"contextmenu":case"mouseup":case"dragend":pu=!1,oh(h,r,c);break;case"selectionchange":if(T0)break;case"keydown":case"keyup":oh(h,r,c)}var _;if(Cc)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else ri?em(t,r)&&(R="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(R="onCompositionStart");R&&(Zp&&r.locale!=="ko"&&(ri||R!=="onCompositionStart"?R==="onCompositionEnd"&&ri&&(_=Xp()):(Fr=c,jc="value"in Fr?Fr.value:Fr.textContent,ri=!0)),j=la(u,R),0<j.length&&(R=new Yd(R,t,null,r,c),h.push({event:R,listeners:j}),_?R.data=_:(_=tm(r),_!==null&&(R.data=_)))),(_=g0?v0(t,r):y0(t,r))&&(u=la(u,"onBeforeInput"),0<u.length&&(c=new Yd("onBeforeInput","beforeinput",null,r,c),h.push({event:c,listeners:u}),c.data=_))}fm(h,e)})}function Ns(t,e,r){return{instance:t,listener:e,currentTarget:r}}function la(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=js(t,r),s!=null&&n.unshift(Ns(t,s,i)),s=js(t,e),s!=null&&n.push(Ns(t,s,i))),t=t.return}return n}function qn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function uh(t,e,r,n,i){for(var s=e._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,i?(l=js(r,s),l!=null&&o.unshift(Ns(r,l,a))):i||(l=js(r,s),l!=null&&o.push(Ns(r,l,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var O0=/\r\n?/g,N0=/\u0000|\uFFFD/g;function ch(t){return(typeof t=="string"?t:""+t).replace(O0,`
`).replace(N0,"")}function jo(t,e,r){if(e=ch(e),ch(t)!==e&&r)throw Error(N(425))}function ua(){}var mu=null,gu=null;function vu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var yu=typeof setTimeout=="function"?setTimeout:void 0,I0=typeof clearTimeout=="function"?clearTimeout:void 0,dh=typeof Promise=="function"?Promise:void 0,L0=typeof queueMicrotask=="function"?queueMicrotask:typeof dh<"u"?function(t){return dh.resolve(null).then(t).catch(D0)}:yu;function D0(t){setTimeout(function(){throw t})}function kl(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Cs(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Cs(e)}function Kr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function hh(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Ui=Math.random().toString(36).slice(2),er="__reactFiber$"+Ui,Is="__reactProps$"+Ui,vr="__reactContainer$"+Ui,wu="__reactEvents$"+Ui,M0="__reactListeners$"+Ui,U0="__reactHandles$"+Ui;function vn(t){var e=t[er];if(e)return e;for(var r=t.parentNode;r;){if(e=r[vr]||r[er]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=hh(t);t!==null;){if(r=t[er])return r;t=hh(t)}return e}t=r,r=t.parentNode}return null}function ro(t){return t=t[er]||t[vr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function si(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(N(33))}function Ma(t){return t[Is]||null}var _u=[],oi=-1;function tn(t){return{current:t}}function ye(t){0>oi||(t.current=_u[oi],_u[oi]=null,oi--)}function ge(t,e){oi++,_u[oi]=t.current,t.current=e}var Zr={},Qe=tn(Zr),ht=tn(!1),Cn=Zr;function Pi(t,e){var r=t.type.contextTypes;if(!r)return Zr;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ft(t){return t=t.childContextTypes,t!=null}function ca(){ye(ht),ye(Qe)}function fh(t,e,r){if(Qe.current!==Zr)throw Error(N(168));ge(Qe,e),ge(ht,r)}function mm(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(N(108,Sy(t)||"Unknown",i));return Ee({},r,n)}function da(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Zr,Cn=Qe.current,ge(Qe,t),ge(ht,ht.current),!0}function ph(t,e,r){var n=t.stateNode;if(!n)throw Error(N(169));r?(t=mm(t,e,Cn),n.__reactInternalMemoizedMergedChildContext=t,ye(ht),ye(Qe),ge(Qe,t)):ye(ht),ge(ht,r)}var cr=null,Ua=!1,bl=!1;function gm(t){cr===null?cr=[t]:cr.push(t)}function z0(t){Ua=!0,gm(t)}function rn(){if(!bl&&cr!==null){bl=!0;var t=0,e=ce;try{var r=cr;for(ce=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}cr=null,Ua=!1}catch(i){throw cr!==null&&(cr=cr.slice(t+1)),Fp(Sc,rn),i}finally{ce=e,bl=!1}}return null}var ai=[],li=0,ha=null,fa=0,bt=[],jt=0,Rn=null,hr=1,fr="";function dn(t,e){ai[li++]=fa,ai[li++]=ha,ha=t,fa=e}function vm(t,e,r){bt[jt++]=hr,bt[jt++]=fr,bt[jt++]=Rn,Rn=t;var n=hr;t=fr;var i=32-Vt(n)-1;n&=~(1<<i),r+=1;var s=32-Vt(e)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,hr=1<<32-Vt(e)+i|r<<i|n,fr=s+t}else hr=1<<s|r<<i|n,fr=t}function Ac(t){t.return!==null&&(dn(t,1),vm(t,1,0))}function Oc(t){for(;t===ha;)ha=ai[--li],ai[li]=null,fa=ai[--li],ai[li]=null;for(;t===Rn;)Rn=bt[--jt],bt[jt]=null,fr=bt[--jt],bt[jt]=null,hr=bt[--jt],bt[jt]=null}var wt=null,yt=null,_e=!1,Bt=null;function ym(t,e){var r=Pt(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function mh(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,wt=t,yt=Kr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,wt=t,yt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Rn!==null?{id:hr,overflow:fr}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Pt(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,wt=t,yt=null,!0):!1;default:return!1}}function xu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Su(t){if(_e){var e=yt;if(e){var r=e;if(!mh(t,e)){if(xu(t))throw Error(N(418));e=Kr(r.nextSibling);var n=wt;e&&mh(t,e)?ym(n,r):(t.flags=t.flags&-4097|2,_e=!1,wt=t)}}else{if(xu(t))throw Error(N(418));t.flags=t.flags&-4097|2,_e=!1,wt=t}}}function gh(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;wt=t}function Po(t){if(t!==wt)return!1;if(!_e)return gh(t),_e=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!vu(t.type,t.memoizedProps)),e&&(e=yt)){if(xu(t))throw wm(),Error(N(418));for(;e;)ym(t,e),e=Kr(e.nextSibling)}if(gh(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(N(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){yt=Kr(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}yt=null}}else yt=wt?Kr(t.stateNode.nextSibling):null;return!0}function wm(){for(var t=yt;t;)t=Kr(t.nextSibling)}function Ti(){yt=wt=null,_e=!1}function Nc(t){Bt===null?Bt=[t]:Bt.push(t)}var $0=_r.ReactCurrentBatchConfig;function Xi(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(N(309));var n=r.stateNode}if(!n)throw Error(N(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(N(284));if(!r._owner)throw Error(N(290,t))}return t}function To(t,e){throw t=Object.prototype.toString.call(e),Error(N(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function vh(t){var e=t._init;return e(t._payload)}function _m(t){function e(m,p){if(t){var g=m.deletions;g===null?(m.deletions=[p],m.flags|=16):g.push(p)}}function r(m,p){if(!t)return null;for(;p!==null;)e(m,p),p=p.sibling;return null}function n(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function i(m,p){return m=Yr(m,p),m.index=0,m.sibling=null,m}function s(m,p,g){return m.index=g,t?(g=m.alternate,g!==null?(g=g.index,g<p?(m.flags|=2,p):g):(m.flags|=2,p)):(m.flags|=1048576,p)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,p,g,E){return p===null||p.tag!==6?(p=Ol(g,m.mode,E),p.return=m,p):(p=i(p,g),p.return=m,p)}function l(m,p,g,E){var P=g.type;return P===ti?c(m,p,g.props.children,E,g.key):p!==null&&(p.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Cr&&vh(P)===p.type)?(E=i(p,g.props),E.ref=Xi(m,p,g),E.return=m,E):(E=Xo(g.type,g.key,g.props,null,m.mode,E),E.ref=Xi(m,p,g),E.return=m,E)}function u(m,p,g,E){return p===null||p.tag!==4||p.stateNode.containerInfo!==g.containerInfo||p.stateNode.implementation!==g.implementation?(p=Nl(g,m.mode,E),p.return=m,p):(p=i(p,g.children||[]),p.return=m,p)}function c(m,p,g,E,P){return p===null||p.tag!==7?(p=Tn(g,m.mode,E,P),p.return=m,p):(p=i(p,g),p.return=m,p)}function h(m,p,g){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Ol(""+p,m.mode,g),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case vo:return g=Xo(p.type,p.key,p.props,null,m.mode,g),g.ref=Xi(m,null,p),g.return=m,g;case ei:return p=Nl(p,m.mode,g),p.return=m,p;case Cr:var E=p._init;return h(m,E(p._payload),g)}if(os(p)||Ki(p))return p=Tn(p,m.mode,g,null),p.return=m,p;To(m,p)}return null}function f(m,p,g,E){var P=p!==null?p.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return P!==null?null:a(m,p,""+g,E);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case vo:return g.key===P?l(m,p,g,E):null;case ei:return g.key===P?u(m,p,g,E):null;case Cr:return P=g._init,f(m,p,P(g._payload),E)}if(os(g)||Ki(g))return P!==null?null:c(m,p,g,E,null);To(m,g)}return null}function v(m,p,g,E,P){if(typeof E=="string"&&E!==""||typeof E=="number")return m=m.get(g)||null,a(p,m,""+E,P);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case vo:return m=m.get(E.key===null?g:E.key)||null,l(p,m,E,P);case ei:return m=m.get(E.key===null?g:E.key)||null,u(p,m,E,P);case Cr:var j=E._init;return v(m,p,g,j(E._payload),P)}if(os(E)||Ki(E))return m=m.get(g)||null,c(p,m,E,P,null);To(p,E)}return null}function y(m,p,g,E){for(var P=null,j=null,_=p,R=p=0,z=null;_!==null&&R<g.length;R++){_.index>R?(z=_,_=null):z=_.sibling;var A=f(m,_,g[R],E);if(A===null){_===null&&(_=z);break}t&&_&&A.alternate===null&&e(m,_),p=s(A,p,R),j===null?P=A:j.sibling=A,j=A,_=z}if(R===g.length)return r(m,_),_e&&dn(m,R),P;if(_===null){for(;R<g.length;R++)_=h(m,g[R],E),_!==null&&(p=s(_,p,R),j===null?P=_:j.sibling=_,j=_);return _e&&dn(m,R),P}for(_=n(m,_);R<g.length;R++)z=v(_,m,R,g[R],E),z!==null&&(t&&z.alternate!==null&&_.delete(z.key===null?R:z.key),p=s(z,p,R),j===null?P=z:j.sibling=z,j=z);return t&&_.forEach(function(W){return e(m,W)}),_e&&dn(m,R),P}function w(m,p,g,E){var P=Ki(g);if(typeof P!="function")throw Error(N(150));if(g=P.call(g),g==null)throw Error(N(151));for(var j=P=null,_=p,R=p=0,z=null,A=g.next();_!==null&&!A.done;R++,A=g.next()){_.index>R?(z=_,_=null):z=_.sibling;var W=f(m,_,A.value,E);if(W===null){_===null&&(_=z);break}t&&_&&W.alternate===null&&e(m,_),p=s(W,p,R),j===null?P=W:j.sibling=W,j=W,_=z}if(A.done)return r(m,_),_e&&dn(m,R),P;if(_===null){for(;!A.done;R++,A=g.next())A=h(m,A.value,E),A!==null&&(p=s(A,p,R),j===null?P=A:j.sibling=A,j=A);return _e&&dn(m,R),P}for(_=n(m,_);!A.done;R++,A=g.next())A=v(_,m,R,A.value,E),A!==null&&(t&&A.alternate!==null&&_.delete(A.key===null?R:A.key),p=s(A,p,R),j===null?P=A:j.sibling=A,j=A);return t&&_.forEach(function(M){return e(m,M)}),_e&&dn(m,R),P}function k(m,p,g,E){if(typeof g=="object"&&g!==null&&g.type===ti&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case vo:e:{for(var P=g.key,j=p;j!==null;){if(j.key===P){if(P=g.type,P===ti){if(j.tag===7){r(m,j.sibling),p=i(j,g.props.children),p.return=m,m=p;break e}}else if(j.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Cr&&vh(P)===j.type){r(m,j.sibling),p=i(j,g.props),p.ref=Xi(m,j,g),p.return=m,m=p;break e}r(m,j);break}else e(m,j);j=j.sibling}g.type===ti?(p=Tn(g.props.children,m.mode,E,g.key),p.return=m,m=p):(E=Xo(g.type,g.key,g.props,null,m.mode,E),E.ref=Xi(m,p,g),E.return=m,m=E)}return o(m);case ei:e:{for(j=g.key;p!==null;){if(p.key===j)if(p.tag===4&&p.stateNode.containerInfo===g.containerInfo&&p.stateNode.implementation===g.implementation){r(m,p.sibling),p=i(p,g.children||[]),p.return=m,m=p;break e}else{r(m,p);break}else e(m,p);p=p.sibling}p=Nl(g,m.mode,E),p.return=m,m=p}return o(m);case Cr:return j=g._init,k(m,p,j(g._payload),E)}if(os(g))return y(m,p,g,E);if(Ki(g))return w(m,p,g,E);To(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,p!==null&&p.tag===6?(r(m,p.sibling),p=i(p,g),p.return=m,m=p):(r(m,p),p=Ol(g,m.mode,E),p.return=m,m=p),o(m)):r(m,p)}return k}var Ci=_m(!0),xm=_m(!1),pa=tn(null),ma=null,ui=null,Ic=null;function Lc(){Ic=ui=ma=null}function Dc(t){var e=pa.current;ye(pa),t._currentValue=e}function Eu(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function gi(t,e){ma=t,Ic=ui=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(dt=!0),t.firstContext=null)}function Rt(t){var e=t._currentValue;if(Ic!==t)if(t={context:t,memoizedValue:e,next:null},ui===null){if(ma===null)throw Error(N(308));ui=t,ma.dependencies={lanes:0,firstContext:t}}else ui=ui.next=t;return e}var yn=null;function Mc(t){yn===null?yn=[t]:yn.push(t)}function Sm(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,Mc(e)):(r.next=i.next,i.next=r),e.interleaved=r,yr(t,n)}function yr(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Rr=!1;function Uc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Em(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function pr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Qr(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,oe&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,yr(t,r)}return i=n.interleaved,i===null?(e.next=e,Mc(n)):(e.next=i.next,i.next=e),n.interleaved=e,yr(t,r)}function Wo(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Ec(t,r)}}function yh(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function ga(t,e,r,n){var i=t.updateQueue;Rr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,c=u=l=null,a=s;do{var f=a.lane,v=a.eventTime;if((n&f)===f){c!==null&&(c=c.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,w=a;switch(f=e,v=r,w.tag){case 1:if(y=w.payload,typeof y=="function"){h=y.call(v,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,f=typeof y=="function"?y.call(v,h,f):y,f==null)break e;h=Ee({},h,f);break e;case 2:Rr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else v={eventTime:v,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=v,l=h):c=c.next=v,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);On|=o,t.lanes=o,t.memoizedState=h}}function wh(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(N(191,i));i.call(n)}}}var no={},rr=tn(no),Ls=tn(no),Ds=tn(no);function wn(t){if(t===no)throw Error(N(174));return t}function zc(t,e){switch(ge(Ds,e),ge(Ls,t),ge(rr,no),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:nu(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=nu(e,t)}ye(rr),ge(rr,e)}function Ri(){ye(rr),ye(Ls),ye(Ds)}function km(t){wn(Ds.current);var e=wn(rr.current),r=nu(e,t.type);e!==r&&(ge(Ls,t),ge(rr,r))}function $c(t){Ls.current===t&&(ye(rr),ye(Ls))}var xe=tn(0);function va(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var jl=[];function Fc(){for(var t=0;t<jl.length;t++)jl[t]._workInProgressVersionPrimary=null;jl.length=0}var Ko=_r.ReactCurrentDispatcher,Pl=_r.ReactCurrentBatchConfig,An=0,Se=null,Le=null,Ue=null,ya=!1,vs=!1,Ms=0,F0=0;function He(){throw Error(N(321))}function Bc(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Ht(t[r],e[r]))return!1;return!0}function Vc(t,e,r,n,i,s){if(An=s,Se=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ko.current=t===null||t.memoizedState===null?H0:W0,t=r(n,i),vs){s=0;do{if(vs=!1,Ms=0,25<=s)throw Error(N(301));s+=1,Ue=Le=null,e.updateQueue=null,Ko.current=K0,t=r(n,i)}while(vs)}if(Ko.current=wa,e=Le!==null&&Le.next!==null,An=0,Ue=Le=Se=null,ya=!1,e)throw Error(N(300));return t}function qc(){var t=Ms!==0;return Ms=0,t}function Jt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ue===null?Se.memoizedState=Ue=t:Ue=Ue.next=t,Ue}function At(){if(Le===null){var t=Se.alternate;t=t!==null?t.memoizedState:null}else t=Le.next;var e=Ue===null?Se.memoizedState:Ue.next;if(e!==null)Ue=e,Le=t;else{if(t===null)throw Error(N(310));Le=t,t={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},Ue===null?Se.memoizedState=Ue=t:Ue=Ue.next=t}return Ue}function Us(t,e){return typeof e=="function"?e(t):e}function Tl(t){var e=At(),r=e.queue;if(r===null)throw Error(N(311));r.lastRenderedReducer=t;var n=Le,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((An&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=n):l=l.next=h,Se.lanes|=c,On|=c}u=u.next}while(u!==null&&u!==s);l===null?o=n:l.next=a,Ht(n,e.memoizedState)||(dt=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,Se.lanes|=s,On|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Cl(t){var e=At(),r=e.queue;if(r===null)throw Error(N(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Ht(s,e.memoizedState)||(dt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function bm(){}function jm(t,e){var r=Se,n=At(),i=e(),s=!Ht(n.memoizedState,i);if(s&&(n.memoizedState=i,dt=!0),n=n.queue,Hc(Cm.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||Ue!==null&&Ue.memoizedState.tag&1){if(r.flags|=2048,zs(9,Tm.bind(null,r,n,i,e),void 0,null),ze===null)throw Error(N(349));An&30||Pm(r,e,i)}return i}function Pm(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Se.updateQueue,e===null?(e={lastEffect:null,stores:null},Se.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Tm(t,e,r,n){e.value=r,e.getSnapshot=n,Rm(e)&&Am(t)}function Cm(t,e,r){return r(function(){Rm(e)&&Am(t)})}function Rm(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Ht(t,r)}catch{return!0}}function Am(t){var e=yr(t,1);e!==null&&qt(e,t,1,-1)}function _h(t){var e=Jt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Us,lastRenderedState:t},e.queue=t,t=t.dispatch=q0.bind(null,Se,t),[e.memoizedState,t]}function zs(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Se.updateQueue,e===null?(e={lastEffect:null,stores:null},Se.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Om(){return At().memoizedState}function Qo(t,e,r,n){var i=Jt();Se.flags|=t,i.memoizedState=zs(1|e,r,void 0,n===void 0?null:n)}function za(t,e,r,n){var i=At();n=n===void 0?null:n;var s=void 0;if(Le!==null){var o=Le.memoizedState;if(s=o.destroy,n!==null&&Bc(n,o.deps)){i.memoizedState=zs(e,r,s,n);return}}Se.flags|=t,i.memoizedState=zs(1|e,r,s,n)}function xh(t,e){return Qo(8390656,8,t,e)}function Hc(t,e){return za(2048,8,t,e)}function Nm(t,e){return za(4,2,t,e)}function Im(t,e){return za(4,4,t,e)}function Lm(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Dm(t,e,r){return r=r!=null?r.concat([t]):null,za(4,4,Lm.bind(null,e,t),r)}function Wc(){}function Mm(t,e){var r=At();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Bc(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Um(t,e){var r=At();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Bc(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function zm(t,e,r){return An&21?(Ht(r,e)||(r=qp(),Se.lanes|=r,On|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,dt=!0),t.memoizedState=r)}function B0(t,e){var r=ce;ce=r!==0&&4>r?r:4,t(!0);var n=Pl.transition;Pl.transition={};try{t(!1),e()}finally{ce=r,Pl.transition=n}}function $m(){return At().memoizedState}function V0(t,e,r){var n=Gr(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Fm(t))Bm(e,r);else if(r=Sm(t,e,r,n),r!==null){var i=rt();qt(r,t,n,i),Vm(r,e,n)}}function q0(t,e,r){var n=Gr(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Fm(t))Bm(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,r);if(i.hasEagerState=!0,i.eagerState=a,Ht(a,o)){var l=e.interleaved;l===null?(i.next=i,Mc(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=Sm(t,e,i,n),r!==null&&(i=rt(),qt(r,t,n,i),Vm(r,e,n))}}function Fm(t){var e=t.alternate;return t===Se||e!==null&&e===Se}function Bm(t,e){vs=ya=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Vm(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Ec(t,r)}}var wa={readContext:Rt,useCallback:He,useContext:He,useEffect:He,useImperativeHandle:He,useInsertionEffect:He,useLayoutEffect:He,useMemo:He,useReducer:He,useRef:He,useState:He,useDebugValue:He,useDeferredValue:He,useTransition:He,useMutableSource:He,useSyncExternalStore:He,useId:He,unstable_isNewReconciler:!1},H0={readContext:Rt,useCallback:function(t,e){return Jt().memoizedState=[t,e===void 0?null:e],t},useContext:Rt,useEffect:xh,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Qo(4194308,4,Lm.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Qo(4194308,4,t,e)},useInsertionEffect:function(t,e){return Qo(4,2,t,e)},useMemo:function(t,e){var r=Jt();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Jt();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=V0.bind(null,Se,t),[n.memoizedState,t]},useRef:function(t){var e=Jt();return t={current:t},e.memoizedState=t},useState:_h,useDebugValue:Wc,useDeferredValue:function(t){return Jt().memoizedState=t},useTransition:function(){var t=_h(!1),e=t[0];return t=B0.bind(null,t[1]),Jt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Se,i=Jt();if(_e){if(r===void 0)throw Error(N(407));r=r()}else{if(r=e(),ze===null)throw Error(N(349));An&30||Pm(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,xh(Cm.bind(null,n,s,t),[t]),n.flags|=2048,zs(9,Tm.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=Jt(),e=ze.identifierPrefix;if(_e){var r=fr,n=hr;r=(n&~(1<<32-Vt(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Ms++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=F0++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},W0={readContext:Rt,useCallback:Mm,useContext:Rt,useEffect:Hc,useImperativeHandle:Dm,useInsertionEffect:Nm,useLayoutEffect:Im,useMemo:Um,useReducer:Tl,useRef:Om,useState:function(){return Tl(Us)},useDebugValue:Wc,useDeferredValue:function(t){var e=At();return zm(e,Le.memoizedState,t)},useTransition:function(){var t=Tl(Us)[0],e=At().memoizedState;return[t,e]},useMutableSource:bm,useSyncExternalStore:jm,useId:$m,unstable_isNewReconciler:!1},K0={readContext:Rt,useCallback:Mm,useContext:Rt,useEffect:Hc,useImperativeHandle:Dm,useInsertionEffect:Nm,useLayoutEffect:Im,useMemo:Um,useReducer:Cl,useRef:Om,useState:function(){return Cl(Us)},useDebugValue:Wc,useDeferredValue:function(t){var e=At();return Le===null?e.memoizedState=t:zm(e,Le.memoizedState,t)},useTransition:function(){var t=Cl(Us)[0],e=At().memoizedState;return[t,e]},useMutableSource:bm,useSyncExternalStore:jm,useId:$m,unstable_isNewReconciler:!1};function Lt(t,e){if(t&&t.defaultProps){e=Ee({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function ku(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Ee({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var $a={isMounted:function(t){return(t=t._reactInternals)?Dn(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=rt(),i=Gr(t),s=pr(n,i);s.payload=e,r!=null&&(s.callback=r),e=Qr(t,s,i),e!==null&&(qt(e,t,i,n),Wo(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=rt(),i=Gr(t),s=pr(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=Qr(t,s,i),e!==null&&(qt(e,t,i,n),Wo(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=rt(),n=Gr(t),i=pr(r,n);i.tag=2,e!=null&&(i.callback=e),e=Qr(t,i,n),e!==null&&(qt(e,t,n,r),Wo(e,t,n))}};function Sh(t,e,r,n,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,o):e.prototype&&e.prototype.isPureReactComponent?!As(r,n)||!As(i,s):!0}function qm(t,e,r){var n=!1,i=Zr,s=e.contextType;return typeof s=="object"&&s!==null?s=Rt(s):(i=ft(e)?Cn:Qe.current,n=e.contextTypes,s=(n=n!=null)?Pi(t,i):Zr),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=$a,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Eh(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&$a.enqueueReplaceState(e,e.state,null)}function bu(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},Uc(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Rt(s):(s=ft(e)?Cn:Qe.current,i.context=Pi(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(ku(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&$a.enqueueReplaceState(i,i.state,null),ga(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ai(t,e){try{var r="",n=e;do r+=xy(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Rl(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function ju(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Q0=typeof WeakMap=="function"?WeakMap:Map;function Hm(t,e,r){r=pr(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){xa||(xa=!0,Du=n),ju(t,e)},r}function Wm(t,e,r){r=pr(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){ju(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){ju(t,e),typeof n!="function"&&(Jr===null?Jr=new Set([this]):Jr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function kh(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Q0;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=lw.bind(null,t,e,r),e.then(t,t))}function bh(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function jh(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=pr(-1,1),e.tag=2,Qr(r,e,1))),r.lanes|=1),t)}var J0=_r.ReactCurrentOwner,dt=!1;function et(t,e,r,n){e.child=t===null?xm(e,null,r,n):Ci(e,t.child,r,n)}function Ph(t,e,r,n,i){r=r.render;var s=e.ref;return gi(e,i),n=Vc(t,e,r,n,s,i),r=qc(),t!==null&&!dt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,wr(t,e,i)):(_e&&r&&Ac(e),e.flags|=1,et(t,e,n,i),e.child)}function Th(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!ed(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,Km(t,e,s,n,i)):(t=Xo(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:As,r(o,n)&&t.ref===e.ref)return wr(t,e,i)}return e.flags|=1,t=Yr(s,n),t.ref=e.ref,t.return=e,e.child=t}function Km(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(As(s,n)&&t.ref===e.ref)if(dt=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(dt=!0);else return e.lanes=t.lanes,wr(t,e,i)}return Pu(t,e,r,n,i)}function Qm(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ge(di,gt),gt|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ge(di,gt),gt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,ge(di,gt),gt|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,ge(di,gt),gt|=n;return et(t,e,i,r),e.child}function Jm(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Pu(t,e,r,n,i){var s=ft(r)?Cn:Qe.current;return s=Pi(e,s),gi(e,i),r=Vc(t,e,r,n,s,i),n=qc(),t!==null&&!dt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,wr(t,e,i)):(_e&&n&&Ac(e),e.flags|=1,et(t,e,r,i),e.child)}function Ch(t,e,r,n,i){if(ft(r)){var s=!0;da(e)}else s=!1;if(gi(e,i),e.stateNode===null)Jo(t,e),qm(e,r,n),bu(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Rt(u):(u=ft(r)?Cn:Qe.current,u=Pi(e,u));var c=r.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==u)&&Eh(e,o,n,u),Rr=!1;var f=e.memoizedState;o.state=f,ga(e,n,o,i),l=e.memoizedState,a!==n||f!==l||ht.current||Rr?(typeof c=="function"&&(ku(e,r,c,n),l=e.memoizedState),(a=Rr||Sh(e,r,a,n,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=u,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,Em(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Lt(e.type,a),o.props=u,h=e.pendingProps,f=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=Rt(l):(l=ft(r)?Cn:Qe.current,l=Pi(e,l));var v=r.getDerivedStateFromProps;(c=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&Eh(e,o,n,l),Rr=!1,f=e.memoizedState,o.state=f,ga(e,n,o,i);var y=e.memoizedState;a!==h||f!==y||ht.current||Rr?(typeof v=="function"&&(ku(e,r,v,n),y=e.memoizedState),(u=Rr||Sh(e,r,u,n,f,y,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=y),o.props=n,o.state=y,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return Tu(t,e,r,n,s,i)}function Tu(t,e,r,n,i,s){Jm(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&ph(e,r,!1),wr(t,e,s);n=e.stateNode,J0.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Ci(e,t.child,null,s),e.child=Ci(e,null,a,s)):et(t,e,a,s),e.memoizedState=n.state,i&&ph(e,r,!0),e.child}function Gm(t){var e=t.stateNode;e.pendingContext?fh(t,e.pendingContext,e.pendingContext!==e.context):e.context&&fh(t,e.context,!1),zc(t,e.containerInfo)}function Rh(t,e,r,n,i){return Ti(),Nc(i),e.flags|=256,et(t,e,r,n),e.child}var Cu={dehydrated:null,treeContext:null,retryLane:0};function Ru(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ym(t,e,r){var n=e.pendingProps,i=xe.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ge(xe,i&1),t===null)return Su(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,s?(n=e.mode,s=e.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Va(o,n,0,null),t=Tn(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Ru(r),e.memoizedState=Cu,t):Kc(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return G0(t,e,o,n,a,i,r);if(s){s=n.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Yr(i,l),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Yr(a,s):(s=Tn(s,o,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,o=t.child.memoizedState,o=o===null?Ru(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~r,e.memoizedState=Cu,n}return s=t.child,t=s.sibling,n=Yr(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Kc(t,e){return e=Va({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Co(t,e,r,n){return n!==null&&Nc(n),Ci(e,t.child,null,r),t=Kc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function G0(t,e,r,n,i,s,o){if(r)return e.flags&256?(e.flags&=-257,n=Rl(Error(N(422))),Co(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=Va({mode:"visible",children:n.children},i,0,null),s=Tn(s,i,o,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&Ci(e,t.child,null,o),e.child.memoizedState=Ru(o),e.memoizedState=Cu,s);if(!(e.mode&1))return Co(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(N(419)),n=Rl(s,n,void 0),Co(t,e,o,n)}if(a=(o&t.childLanes)!==0,dt||a){if(n=ze,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,yr(t,i),qt(n,t,i,-1))}return Zc(),n=Rl(Error(N(421))),Co(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=uw.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,yt=Kr(i.nextSibling),wt=e,_e=!0,Bt=null,t!==null&&(bt[jt++]=hr,bt[jt++]=fr,bt[jt++]=Rn,hr=t.id,fr=t.overflow,Rn=e),e=Kc(e,n.children),e.flags|=4096,e)}function Ah(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Eu(t.return,e,r)}function Al(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function Xm(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(et(t,e,n.children,r),n=xe.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ah(t,r,e);else if(t.tag===19)Ah(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(ge(xe,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&va(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Al(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&va(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Al(e,!0,r,null,s);break;case"together":Al(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Jo(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function wr(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),On|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(N(153));if(e.child!==null){for(t=e.child,r=Yr(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Yr(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Y0(t,e,r){switch(e.tag){case 3:Gm(e),Ti();break;case 5:km(e);break;case 1:ft(e.type)&&da(e);break;case 4:zc(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;ge(pa,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(ge(xe,xe.current&1),e.flags|=128,null):r&e.child.childLanes?Ym(t,e,r):(ge(xe,xe.current&1),t=wr(t,e,r),t!==null?t.sibling:null);ge(xe,xe.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return Xm(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ge(xe,xe.current),n)break;return null;case 22:case 23:return e.lanes=0,Qm(t,e,r)}return wr(t,e,r)}var Zm,Au,eg,tg;Zm=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Au=function(){};eg=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,wn(rr.current);var s=null;switch(r){case"input":i=Zl(t,i),n=Zl(t,n),s=[];break;case"select":i=Ee({},i,{value:void 0}),n=Ee({},n,{value:void 0}),s=[];break;case"textarea":i=ru(t,i),n=ru(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=ua)}iu(r,n);var o;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ks.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var l=n[u];if(a=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(s||(s=[]),s.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ks.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ve("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}r&&(s=s||[]).push("style",r);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};tg=function(t,e,r,n){r!==n&&(e.flags|=4)};function Zi(t,e){if(!_e)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function We(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function X0(t,e,r){var n=e.pendingProps;switch(Oc(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return We(e),null;case 1:return ft(e.type)&&ca(),We(e),null;case 3:return n=e.stateNode,Ri(),ye(ht),ye(Qe),Fc(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Po(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Bt!==null&&(zu(Bt),Bt=null))),Au(t,e),We(e),null;case 5:$c(e);var i=wn(Ds.current);if(r=e.type,t!==null&&e.stateNode!=null)eg(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(N(166));return We(e),null}if(t=wn(rr.current),Po(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[er]=e,n[Is]=s,t=(e.mode&1)!==0,r){case"dialog":ve("cancel",n),ve("close",n);break;case"iframe":case"object":case"embed":ve("load",n);break;case"video":case"audio":for(i=0;i<ls.length;i++)ve(ls[i],n);break;case"source":ve("error",n);break;case"img":case"image":case"link":ve("error",n),ve("load",n);break;case"details":ve("toggle",n);break;case"input":$d(n,s),ve("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},ve("invalid",n);break;case"textarea":Bd(n,s),ve("invalid",n)}iu(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&jo(n.textContent,a,t),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&jo(n.textContent,a,t),i=["children",""+a]):ks.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ve("scroll",n)}switch(r){case"input":yo(n),Fd(n,s,!0);break;case"textarea":yo(n),Vd(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=ua)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Cp(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[er]=e,t[Is]=n,Zm(t,e,!1,!1),e.stateNode=t;e:{switch(o=su(r,n),r){case"dialog":ve("cancel",t),ve("close",t),i=n;break;case"iframe":case"object":case"embed":ve("load",t),i=n;break;case"video":case"audio":for(i=0;i<ls.length;i++)ve(ls[i],t);i=n;break;case"source":ve("error",t),i=n;break;case"img":case"image":case"link":ve("error",t),ve("load",t),i=n;break;case"details":ve("toggle",t),i=n;break;case"input":$d(t,n),i=Zl(t,n),ve("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Ee({},n,{value:void 0}),ve("invalid",t);break;case"textarea":Bd(t,n),i=ru(t,n),ve("invalid",t);break;default:i=n}iu(r,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Op(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Rp(t,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&bs(t,l):typeof l=="number"&&bs(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ks.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ve("scroll",t):l!=null&&vc(t,s,l,o))}switch(r){case"input":yo(t),Fd(t,n,!1);break;case"textarea":yo(t),Vd(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Xr(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?hi(t,!!n.multiple,s,!1):n.defaultValue!=null&&hi(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ua)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return We(e),null;case 6:if(t&&e.stateNode!=null)tg(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(N(166));if(r=wn(Ds.current),wn(rr.current),Po(e)){if(n=e.stateNode,r=e.memoizedProps,n[er]=e,(s=n.nodeValue!==r)&&(t=wt,t!==null))switch(t.tag){case 3:jo(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&jo(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[er]=e,e.stateNode=n}return We(e),null;case 13:if(ye(xe),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(_e&&yt!==null&&e.mode&1&&!(e.flags&128))wm(),Ti(),e.flags|=98560,s=!1;else if(s=Po(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(N(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(N(317));s[er]=e}else Ti(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;We(e),s=!1}else Bt!==null&&(zu(Bt),Bt=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||xe.current&1?De===0&&(De=3):Zc())),e.updateQueue!==null&&(e.flags|=4),We(e),null);case 4:return Ri(),Au(t,e),t===null&&Os(e.stateNode.containerInfo),We(e),null;case 10:return Dc(e.type._context),We(e),null;case 17:return ft(e.type)&&ca(),We(e),null;case 19:if(ye(xe),s=e.memoizedState,s===null)return We(e),null;if(n=(e.flags&128)!==0,o=s.rendering,o===null)if(n)Zi(s,!1);else{if(De!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=va(t),o!==null){for(e.flags|=128,Zi(s,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return ge(xe,xe.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ce()>Oi&&(e.flags|=128,n=!0,Zi(s,!1),e.lanes=4194304)}else{if(!n)if(t=va(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Zi(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!_e)return We(e),null}else 2*Ce()-s.renderingStartTime>Oi&&r!==1073741824&&(e.flags|=128,n=!0,Zi(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(r=s.last,r!==null?r.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ce(),e.sibling=null,r=xe.current,ge(xe,n?r&1|2:r&1),e):(We(e),null);case 22:case 23:return Xc(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?gt&1073741824&&(We(e),e.subtreeFlags&6&&(e.flags|=8192)):We(e),null;case 24:return null;case 25:return null}throw Error(N(156,e.tag))}function Z0(t,e){switch(Oc(e),e.tag){case 1:return ft(e.type)&&ca(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ri(),ye(ht),ye(Qe),Fc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return $c(e),null;case 13:if(ye(xe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(N(340));Ti()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ye(xe),null;case 4:return Ri(),null;case 10:return Dc(e.type._context),null;case 22:case 23:return Xc(),null;case 24:return null;default:return null}}var Ro=!1,Ke=!1,ew=typeof WeakSet=="function"?WeakSet:Set,U=null;function ci(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Te(t,e,n)}else r.current=null}function Ou(t,e,r){try{r()}catch(n){Te(t,e,n)}}var Oh=!1;function tw(t,e){if(mu=oa,t=om(),Rc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=t,f=null;t:for(;;){for(var v;h!==r||i!==0&&h.nodeType!==3||(a=o+i),h!==s||n!==0&&h.nodeType!==3||(l=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(v=h.firstChild)!==null;)f=h,h=v;for(;;){if(h===t)break t;if(f===r&&++u===i&&(a=o),f===s&&++c===n&&(l=o),(v=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=v}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(gu={focusedElem:t,selectionRange:r},oa=!1,U=e;U!==null;)if(e=U,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,U=t;else for(;U!==null;){e=U;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,k=y.memoizedState,m=e.stateNode,p=m.getSnapshotBeforeUpdate(e.elementType===e.type?w:Lt(e.type,w),k);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(E){Te(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,U=t;break}U=e.return}return y=Oh,Oh=!1,y}function ys(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Ou(e,r,s)}i=i.next}while(i!==n)}}function Fa(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Nu(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function rg(t){var e=t.alternate;e!==null&&(t.alternate=null,rg(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[er],delete e[Is],delete e[wu],delete e[M0],delete e[U0])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ng(t){return t.tag===5||t.tag===3||t.tag===4}function Nh(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ng(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Iu(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=ua));else if(n!==4&&(t=t.child,t!==null))for(Iu(t,e,r),t=t.sibling;t!==null;)Iu(t,e,r),t=t.sibling}function Lu(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Lu(t,e,r),t=t.sibling;t!==null;)Lu(t,e,r),t=t.sibling}var Fe=null,zt=!1;function kr(t,e,r){for(r=r.child;r!==null;)ig(t,e,r),r=r.sibling}function ig(t,e,r){if(tr&&typeof tr.onCommitFiberUnmount=="function")try{tr.onCommitFiberUnmount(Na,r)}catch{}switch(r.tag){case 5:Ke||ci(r,e);case 6:var n=Fe,i=zt;Fe=null,kr(t,e,r),Fe=n,zt=i,Fe!==null&&(zt?(t=Fe,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Fe.removeChild(r.stateNode));break;case 18:Fe!==null&&(zt?(t=Fe,r=r.stateNode,t.nodeType===8?kl(t.parentNode,r):t.nodeType===1&&kl(t,r),Cs(t)):kl(Fe,r.stateNode));break;case 4:n=Fe,i=zt,Fe=r.stateNode.containerInfo,zt=!0,kr(t,e,r),Fe=n,zt=i;break;case 0:case 11:case 14:case 15:if(!Ke&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Ou(r,e,o),i=i.next}while(i!==n)}kr(t,e,r);break;case 1:if(!Ke&&(ci(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Te(r,e,a)}kr(t,e,r);break;case 21:kr(t,e,r);break;case 22:r.mode&1?(Ke=(n=Ke)||r.memoizedState!==null,kr(t,e,r),Ke=n):kr(t,e,r);break;default:kr(t,e,r)}}function Ih(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new ew),e.forEach(function(n){var i=cw.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Nt(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Fe=a.stateNode,zt=!1;break e;case 3:Fe=a.stateNode.containerInfo,zt=!0;break e;case 4:Fe=a.stateNode.containerInfo,zt=!0;break e}a=a.return}if(Fe===null)throw Error(N(160));ig(s,o,i),Fe=null,zt=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Te(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)sg(e,t),e=e.sibling}function sg(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Nt(e,t),Qt(t),n&4){try{ys(3,t,t.return),Fa(3,t)}catch(w){Te(t,t.return,w)}try{ys(5,t,t.return)}catch(w){Te(t,t.return,w)}}break;case 1:Nt(e,t),Qt(t),n&512&&r!==null&&ci(r,r.return);break;case 5:if(Nt(e,t),Qt(t),n&512&&r!==null&&ci(r,r.return),t.flags&32){var i=t.stateNode;try{bs(i,"")}catch(w){Te(t,t.return,w)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=r!==null?r.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Pp(i,s),su(a,o);var u=su(a,s);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?Op(i,h):c==="dangerouslySetInnerHTML"?Rp(i,h):c==="children"?bs(i,h):vc(i,c,h,u)}switch(a){case"input":eu(i,s);break;case"textarea":Tp(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var v=s.value;v!=null?hi(i,!!s.multiple,v,!1):f!==!!s.multiple&&(s.defaultValue!=null?hi(i,!!s.multiple,s.defaultValue,!0):hi(i,!!s.multiple,s.multiple?[]:"",!1))}i[Is]=s}catch(w){Te(t,t.return,w)}}break;case 6:if(Nt(e,t),Qt(t),n&4){if(t.stateNode===null)throw Error(N(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(w){Te(t,t.return,w)}}break;case 3:if(Nt(e,t),Qt(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Cs(e.containerInfo)}catch(w){Te(t,t.return,w)}break;case 4:Nt(e,t),Qt(t);break;case 13:Nt(e,t),Qt(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Gc=Ce())),n&4&&Ih(t);break;case 22:if(c=r!==null&&r.memoizedState!==null,t.mode&1?(Ke=(u=Ke)||c,Nt(e,t),Ke=u):Nt(e,t),Qt(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(U=t,c=t.child;c!==null;){for(h=U=c;U!==null;){switch(f=U,v=f.child,f.tag){case 0:case 11:case 14:case 15:ys(4,f,f.return);break;case 1:ci(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(w){Te(n,r,w)}}break;case 5:ci(f,f.return);break;case 22:if(f.memoizedState!==null){Dh(h);continue}}v!==null?(v.return=f,U=v):Dh(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Ap("display",o))}catch(w){Te(t,t.return,w)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(w){Te(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Nt(e,t),Qt(t),n&4&&Ih(t);break;case 21:break;default:Nt(e,t),Qt(t)}}function Qt(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(ng(r)){var n=r;break e}r=r.return}throw Error(N(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(bs(i,""),n.flags&=-33);var s=Nh(t);Lu(t,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,a=Nh(t);Iu(t,a,o);break;default:throw Error(N(161))}}catch(l){Te(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function rw(t,e,r){U=t,og(t)}function og(t,e,r){for(var n=(t.mode&1)!==0;U!==null;){var i=U,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||Ro;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ke;a=Ro;var u=Ke;if(Ro=o,(Ke=l)&&!u)for(U=i;U!==null;)o=U,l=o.child,o.tag===22&&o.memoizedState!==null?Mh(i):l!==null?(l.return=o,U=l):Mh(i);for(;s!==null;)U=s,og(s),s=s.sibling;U=i,Ro=a,Ke=u}Lh(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,U=s):Lh(t)}}function Lh(t){for(;U!==null;){var e=U;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ke||Fa(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Ke)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Lt(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&wh(e,s,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}wh(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&Cs(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}Ke||e.flags&512&&Nu(e)}catch(f){Te(e,e.return,f)}}if(e===t){U=null;break}if(r=e.sibling,r!==null){r.return=e.return,U=r;break}U=e.return}}function Dh(t){for(;U!==null;){var e=U;if(e===t){U=null;break}var r=e.sibling;if(r!==null){r.return=e.return,U=r;break}U=e.return}}function Mh(t){for(;U!==null;){var e=U;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Fa(4,e)}catch(l){Te(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){Te(e,i,l)}}var s=e.return;try{Nu(e)}catch(l){Te(e,s,l)}break;case 5:var o=e.return;try{Nu(e)}catch(l){Te(e,o,l)}}}catch(l){Te(e,e.return,l)}if(e===t){U=null;break}var a=e.sibling;if(a!==null){a.return=e.return,U=a;break}U=e.return}}var nw=Math.ceil,_a=_r.ReactCurrentDispatcher,Qc=_r.ReactCurrentOwner,Tt=_r.ReactCurrentBatchConfig,oe=0,ze=null,Oe=null,Be=0,gt=0,di=tn(0),De=0,$s=null,On=0,Ba=0,Jc=0,ws=null,ut=null,Gc=0,Oi=1/0,lr=null,xa=!1,Du=null,Jr=null,Ao=!1,Br=null,Sa=0,_s=0,Mu=null,Go=-1,Yo=0;function rt(){return oe&6?Ce():Go!==-1?Go:Go=Ce()}function Gr(t){return t.mode&1?oe&2&&Be!==0?Be&-Be:$0.transition!==null?(Yo===0&&(Yo=qp()),Yo):(t=ce,t!==0||(t=window.event,t=t===void 0?16:Yp(t.type)),t):1}function qt(t,e,r,n){if(50<_s)throw _s=0,Mu=null,Error(N(185));eo(t,r,n),(!(oe&2)||t!==ze)&&(t===ze&&(!(oe&2)&&(Ba|=r),De===4&&Or(t,Be)),pt(t,n),r===1&&oe===0&&!(e.mode&1)&&(Oi=Ce()+500,Ua&&rn()))}function pt(t,e){var r=t.callbackNode;$y(t,e);var n=sa(t,t===ze?Be:0);if(n===0)r!==null&&Wd(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Wd(r),e===1)t.tag===0?z0(Uh.bind(null,t)):gm(Uh.bind(null,t)),L0(function(){!(oe&6)&&rn()}),r=null;else{switch(Hp(n)){case 1:r=Sc;break;case 4:r=Bp;break;case 16:r=ia;break;case 536870912:r=Vp;break;default:r=ia}r=pg(r,ag.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function ag(t,e){if(Go=-1,Yo=0,oe&6)throw Error(N(327));var r=t.callbackNode;if(vi()&&t.callbackNode!==r)return null;var n=sa(t,t===ze?Be:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Ea(t,n);else{e=n;var i=oe;oe|=2;var s=ug();(ze!==t||Be!==e)&&(lr=null,Oi=Ce()+500,Pn(t,e));do try{ow();break}catch(a){lg(t,a)}while(!0);Lc(),_a.current=s,oe=i,Oe!==null?e=0:(ze=null,Be=0,e=De)}if(e!==0){if(e===2&&(i=cu(t),i!==0&&(n=i,e=Uu(t,i))),e===1)throw r=$s,Pn(t,0),Or(t,n),pt(t,Ce()),r;if(e===6)Or(t,n);else{if(i=t.current.alternate,!(n&30)&&!iw(i)&&(e=Ea(t,n),e===2&&(s=cu(t),s!==0&&(n=s,e=Uu(t,s))),e===1))throw r=$s,Pn(t,0),Or(t,n),pt(t,Ce()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(N(345));case 2:hn(t,ut,lr);break;case 3:if(Or(t,n),(n&130023424)===n&&(e=Gc+500-Ce(),10<e)){if(sa(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){rt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=yu(hn.bind(null,t,ut,lr),e);break}hn(t,ut,lr);break;case 4:if(Or(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-Vt(n);s=1<<o,o=e[o],o>i&&(i=o),n&=~s}if(n=i,n=Ce()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*nw(n/1960))-n,10<n){t.timeoutHandle=yu(hn.bind(null,t,ut,lr),n);break}hn(t,ut,lr);break;case 5:hn(t,ut,lr);break;default:throw Error(N(329))}}}return pt(t,Ce()),t.callbackNode===r?ag.bind(null,t):null}function Uu(t,e){var r=ws;return t.current.memoizedState.isDehydrated&&(Pn(t,e).flags|=256),t=Ea(t,e),t!==2&&(e=ut,ut=r,e!==null&&zu(e)),t}function zu(t){ut===null?ut=t:ut.push.apply(ut,t)}function iw(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Ht(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Or(t,e){for(e&=~Jc,e&=~Ba,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Vt(e),n=1<<r;t[r]=-1,e&=~n}}function Uh(t){if(oe&6)throw Error(N(327));vi();var e=sa(t,0);if(!(e&1))return pt(t,Ce()),null;var r=Ea(t,e);if(t.tag!==0&&r===2){var n=cu(t);n!==0&&(e=n,r=Uu(t,n))}if(r===1)throw r=$s,Pn(t,0),Or(t,e),pt(t,Ce()),r;if(r===6)throw Error(N(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,hn(t,ut,lr),pt(t,Ce()),null}function Yc(t,e){var r=oe;oe|=1;try{return t(e)}finally{oe=r,oe===0&&(Oi=Ce()+500,Ua&&rn())}}function Nn(t){Br!==null&&Br.tag===0&&!(oe&6)&&vi();var e=oe;oe|=1;var r=Tt.transition,n=ce;try{if(Tt.transition=null,ce=1,t)return t()}finally{ce=n,Tt.transition=r,oe=e,!(oe&6)&&rn()}}function Xc(){gt=di.current,ye(di)}function Pn(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,I0(r)),Oe!==null)for(r=Oe.return;r!==null;){var n=r;switch(Oc(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ca();break;case 3:Ri(),ye(ht),ye(Qe),Fc();break;case 5:$c(n);break;case 4:Ri();break;case 13:ye(xe);break;case 19:ye(xe);break;case 10:Dc(n.type._context);break;case 22:case 23:Xc()}r=r.return}if(ze=t,Oe=t=Yr(t.current,null),Be=gt=e,De=0,$s=null,Jc=Ba=On=0,ut=ws=null,yn!==null){for(e=0;e<yn.length;e++)if(r=yn[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}yn=null}return t}function lg(t,e){do{var r=Oe;try{if(Lc(),Ko.current=wa,ya){for(var n=Se.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}ya=!1}if(An=0,Ue=Le=Se=null,vs=!1,Ms=0,Qc.current=null,r===null||r.return===null){De=1,$s=e,Oe=null;break}e:{var s=t,o=r.return,a=r,l=e;if(e=Be,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var v=bh(o);if(v!==null){v.flags&=-257,jh(v,o,a,s,e),v.mode&1&&kh(s,u,e),e=v,l=u;var y=e.updateQueue;if(y===null){var w=new Set;w.add(l),e.updateQueue=w}else y.add(l);break e}else{if(!(e&1)){kh(s,u,e),Zc();break e}l=Error(N(426))}}else if(_e&&a.mode&1){var k=bh(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),jh(k,o,a,s,e),Nc(Ai(l,a));break e}}s=l=Ai(l,a),De!==4&&(De=2),ws===null?ws=[s]:ws.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var m=Hm(s,l,e);yh(s,m);break e;case 1:a=l;var p=s.type,g=s.stateNode;if(!(s.flags&128)&&(typeof p.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Jr===null||!Jr.has(g)))){s.flags|=65536,e&=-e,s.lanes|=e;var E=Wm(s,a,e);yh(s,E);break e}}s=s.return}while(s!==null)}dg(r)}catch(P){e=P,Oe===r&&r!==null&&(Oe=r=r.return);continue}break}while(!0)}function ug(){var t=_a.current;return _a.current=wa,t===null?wa:t}function Zc(){(De===0||De===3||De===2)&&(De=4),ze===null||!(On&268435455)&&!(Ba&268435455)||Or(ze,Be)}function Ea(t,e){var r=oe;oe|=2;var n=ug();(ze!==t||Be!==e)&&(lr=null,Pn(t,e));do try{sw();break}catch(i){lg(t,i)}while(!0);if(Lc(),oe=r,_a.current=n,Oe!==null)throw Error(N(261));return ze=null,Be=0,De}function sw(){for(;Oe!==null;)cg(Oe)}function ow(){for(;Oe!==null&&!Ay();)cg(Oe)}function cg(t){var e=fg(t.alternate,t,gt);t.memoizedProps=t.pendingProps,e===null?dg(t):Oe=e,Qc.current=null}function dg(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Z0(r,e),r!==null){r.flags&=32767,Oe=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{De=6,Oe=null;return}}else if(r=X0(r,e,gt),r!==null){Oe=r;return}if(e=e.sibling,e!==null){Oe=e;return}Oe=e=t}while(e!==null);De===0&&(De=5)}function hn(t,e,r){var n=ce,i=Tt.transition;try{Tt.transition=null,ce=1,aw(t,e,r,n)}finally{Tt.transition=i,ce=n}return null}function aw(t,e,r,n){do vi();while(Br!==null);if(oe&6)throw Error(N(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(N(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(Fy(t,s),t===ze&&(Oe=ze=null,Be=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ao||(Ao=!0,pg(ia,function(){return vi(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Tt.transition,Tt.transition=null;var o=ce;ce=1;var a=oe;oe|=4,Qc.current=null,tw(t,r),sg(r,t),P0(gu),oa=!!mu,gu=mu=null,t.current=r,rw(r),Oy(),oe=a,ce=o,Tt.transition=s}else t.current=r;if(Ao&&(Ao=!1,Br=t,Sa=i),s=t.pendingLanes,s===0&&(Jr=null),Ly(r.stateNode),pt(t,Ce()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(xa)throw xa=!1,t=Du,Du=null,t;return Sa&1&&t.tag!==0&&vi(),s=t.pendingLanes,s&1?t===Mu?_s++:(_s=0,Mu=t):_s=0,rn(),null}function vi(){if(Br!==null){var t=Hp(Sa),e=Tt.transition,r=ce;try{if(Tt.transition=null,ce=16>t?16:t,Br===null)var n=!1;else{if(t=Br,Br=null,Sa=0,oe&6)throw Error(N(331));var i=oe;for(oe|=4,U=t.current;U!==null;){var s=U,o=s.child;if(U.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(U=u;U!==null;){var c=U;switch(c.tag){case 0:case 11:case 15:ys(8,c,s)}var h=c.child;if(h!==null)h.return=c,U=h;else for(;U!==null;){c=U;var f=c.sibling,v=c.return;if(rg(c),c===u){U=null;break}if(f!==null){f.return=v,U=f;break}U=v}}}var y=s.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var k=w.sibling;w.sibling=null,w=k}while(w!==null)}}U=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,U=o;else e:for(;U!==null;){if(s=U,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ys(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,U=m;break e}U=s.return}}var p=t.current;for(U=p;U!==null;){o=U;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,U=g;else e:for(o=p;U!==null;){if(a=U,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Fa(9,a)}}catch(P){Te(a,a.return,P)}if(a===o){U=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,U=E;break e}U=a.return}}if(oe=i,rn(),tr&&typeof tr.onPostCommitFiberRoot=="function")try{tr.onPostCommitFiberRoot(Na,t)}catch{}n=!0}return n}finally{ce=r,Tt.transition=e}}return!1}function zh(t,e,r){e=Ai(r,e),e=Hm(t,e,1),t=Qr(t,e,1),e=rt(),t!==null&&(eo(t,1,e),pt(t,e))}function Te(t,e,r){if(t.tag===3)zh(t,t,r);else for(;e!==null;){if(e.tag===3){zh(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Jr===null||!Jr.has(n))){t=Ai(r,t),t=Wm(e,t,1),e=Qr(e,t,1),t=rt(),e!==null&&(eo(e,1,t),pt(e,t));break}}e=e.return}}function lw(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=rt(),t.pingedLanes|=t.suspendedLanes&r,ze===t&&(Be&r)===r&&(De===4||De===3&&(Be&130023424)===Be&&500>Ce()-Gc?Pn(t,0):Jc|=r),pt(t,e)}function hg(t,e){e===0&&(t.mode&1?(e=xo,xo<<=1,!(xo&130023424)&&(xo=4194304)):e=1);var r=rt();t=yr(t,e),t!==null&&(eo(t,e,r),pt(t,r))}function uw(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),hg(t,r)}function cw(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(N(314))}n!==null&&n.delete(e),hg(t,r)}var fg;fg=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||ht.current)dt=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return dt=!1,Y0(t,e,r);dt=!!(t.flags&131072)}else dt=!1,_e&&e.flags&1048576&&vm(e,fa,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Jo(t,e),t=e.pendingProps;var i=Pi(e,Qe.current);gi(e,r),i=Vc(null,e,n,t,i,r);var s=qc();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ft(n)?(s=!0,da(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Uc(e),i.updater=$a,e.stateNode=i,i._reactInternals=e,bu(e,n,t,r),e=Tu(null,e,n,!0,s,r)):(e.tag=0,_e&&s&&Ac(e),et(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Jo(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=hw(n),t=Lt(n,t),i){case 0:e=Pu(null,e,n,t,r);break e;case 1:e=Ch(null,e,n,t,r);break e;case 11:e=Ph(null,e,n,t,r);break e;case 14:e=Th(null,e,n,Lt(n.type,t),r);break e}throw Error(N(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Lt(n,i),Pu(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Lt(n,i),Ch(t,e,n,i,r);case 3:e:{if(Gm(e),t===null)throw Error(N(387));n=e.pendingProps,s=e.memoizedState,i=s.element,Em(t,e),ga(e,n,null,r);var o=e.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ai(Error(N(423)),e),e=Rh(t,e,n,r,i);break e}else if(n!==i){i=Ai(Error(N(424)),e),e=Rh(t,e,n,r,i);break e}else for(yt=Kr(e.stateNode.containerInfo.firstChild),wt=e,_e=!0,Bt=null,r=xm(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ti(),n===i){e=wr(t,e,r);break e}et(t,e,n,r)}e=e.child}return e;case 5:return km(e),t===null&&Su(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,vu(n,i)?o=null:s!==null&&vu(n,s)&&(e.flags|=32),Jm(t,e),et(t,e,o,r),e.child;case 6:return t===null&&Su(e),null;case 13:return Ym(t,e,r);case 4:return zc(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Ci(e,null,n,r):et(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Lt(n,i),Ph(t,e,n,i,r);case 7:return et(t,e,e.pendingProps,r),e.child;case 8:return et(t,e,e.pendingProps.children,r),e.child;case 12:return et(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ge(pa,n._currentValue),n._currentValue=o,s!==null)if(Ht(s.value,o)){if(s.children===i.children&&!ht.current){e=wr(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=pr(-1,r&-r),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),Eu(s.return,r,e),a.lanes|=r;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(N(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),Eu(o,r,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}et(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,gi(e,r),i=Rt(i),n=n(i),e.flags|=1,et(t,e,n,r),e.child;case 14:return n=e.type,i=Lt(n,e.pendingProps),i=Lt(n.type,i),Th(t,e,n,i,r);case 15:return Km(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Lt(n,i),Jo(t,e),e.tag=1,ft(n)?(t=!0,da(e)):t=!1,gi(e,r),qm(e,n,i),bu(e,n,i,r),Tu(null,e,n,!0,t,r);case 19:return Xm(t,e,r);case 22:return Qm(t,e,r)}throw Error(N(156,e.tag))};function pg(t,e){return Fp(t,e)}function dw(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pt(t,e,r,n){return new dw(t,e,r,n)}function ed(t){return t=t.prototype,!(!t||!t.isReactComponent)}function hw(t){if(typeof t=="function")return ed(t)?1:0;if(t!=null){if(t=t.$$typeof,t===wc)return 11;if(t===_c)return 14}return 2}function Yr(t,e){var r=t.alternate;return r===null?(r=Pt(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Xo(t,e,r,n,i,s){var o=2;if(n=t,typeof t=="function")ed(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ti:return Tn(r.children,i,s,e);case yc:o=8,i|=8;break;case Jl:return t=Pt(12,r,e,i|2),t.elementType=Jl,t.lanes=s,t;case Gl:return t=Pt(13,r,e,i),t.elementType=Gl,t.lanes=s,t;case Yl:return t=Pt(19,r,e,i),t.elementType=Yl,t.lanes=s,t;case kp:return Va(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Sp:o=10;break e;case Ep:o=9;break e;case wc:o=11;break e;case _c:o=14;break e;case Cr:o=16,n=null;break e}throw Error(N(130,t==null?t:typeof t,""))}return e=Pt(o,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function Tn(t,e,r,n){return t=Pt(7,t,n,e),t.lanes=r,t}function Va(t,e,r,n){return t=Pt(22,t,n,e),t.elementType=kp,t.lanes=r,t.stateNode={isHidden:!1},t}function Ol(t,e,r){return t=Pt(6,t,null,e),t.lanes=r,t}function Nl(t,e,r){return e=Pt(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function fw(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fl(0),this.expirationTimes=fl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fl(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function td(t,e,r,n,i,s,o,a,l){return t=new fw(t,e,r,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Pt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Uc(s),t}function pw(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ei,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function mg(t){if(!t)return Zr;t=t._reactInternals;e:{if(Dn(t)!==t||t.tag!==1)throw Error(N(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ft(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(N(171))}if(t.tag===1){var r=t.type;if(ft(r))return mm(t,r,e)}return e}function gg(t,e,r,n,i,s,o,a,l){return t=td(r,n,!0,t,i,s,o,a,l),t.context=mg(null),r=t.current,n=rt(),i=Gr(r),s=pr(n,i),s.callback=e??null,Qr(r,s,i),t.current.lanes=i,eo(t,i,n),pt(t,n),t}function qa(t,e,r,n){var i=e.current,s=rt(),o=Gr(i);return r=mg(r),e.context===null?e.context=r:e.pendingContext=r,e=pr(s,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Qr(i,e,o),t!==null&&(qt(t,i,o,s),Wo(t,i,o)),o}function ka(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function $h(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function rd(t,e){$h(t,e),(t=t.alternate)&&$h(t,e)}function mw(){return null}var vg=typeof reportError=="function"?reportError:function(t){console.error(t)};function nd(t){this._internalRoot=t}Ha.prototype.render=nd.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(N(409));qa(t,e,null,null)};Ha.prototype.unmount=nd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Nn(function(){qa(null,t,null,null)}),e[vr]=null}};function Ha(t){this._internalRoot=t}Ha.prototype.unstable_scheduleHydration=function(t){if(t){var e=Qp();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Ar.length&&e!==0&&e<Ar[r].priority;r++);Ar.splice(r,0,t),r===0&&Gp(t)}};function id(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Wa(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Fh(){}function gw(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var u=ka(o);s.call(u)}}var o=gg(e,n,t,0,null,!1,!1,"",Fh);return t._reactRootContainer=o,t[vr]=o.current,Os(t.nodeType===8?t.parentNode:t),Nn(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var u=ka(l);a.call(u)}}var l=td(t,0,!1,null,null,!1,!1,"",Fh);return t._reactRootContainer=l,t[vr]=l.current,Os(t.nodeType===8?t.parentNode:t),Nn(function(){qa(e,l,r,n)}),l}function Ka(t,e,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=ka(o);a.call(l)}}qa(e,o,t,i)}else o=gw(r,e,t,i,n);return ka(o)}Wp=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=as(e.pendingLanes);r!==0&&(Ec(e,r|1),pt(e,Ce()),!(oe&6)&&(Oi=Ce()+500,rn()))}break;case 13:Nn(function(){var n=yr(t,1);if(n!==null){var i=rt();qt(n,t,1,i)}}),rd(t,1)}};kc=function(t){if(t.tag===13){var e=yr(t,134217728);if(e!==null){var r=rt();qt(e,t,134217728,r)}rd(t,134217728)}};Kp=function(t){if(t.tag===13){var e=Gr(t),r=yr(t,e);if(r!==null){var n=rt();qt(r,t,e,n)}rd(t,e)}};Qp=function(){return ce};Jp=function(t,e){var r=ce;try{return ce=t,e()}finally{ce=r}};au=function(t,e,r){switch(e){case"input":if(eu(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Ma(n);if(!i)throw Error(N(90));jp(n),eu(n,i)}}}break;case"textarea":Tp(t,r);break;case"select":e=r.value,e!=null&&hi(t,!!r.multiple,e,!1)}};Lp=Yc;Dp=Nn;var vw={usingClientEntryPoint:!1,Events:[ro,si,Ma,Np,Ip,Yc]},es={findFiberByHostInstance:vn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yw={bundleType:es.bundleType,version:es.version,rendererPackageName:es.rendererPackageName,rendererConfig:es.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_r.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=zp(t),t===null?null:t.stateNode},findFiberByHostInstance:es.findFiberByHostInstance||mw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oo.isDisabled&&Oo.supportsFiber)try{Na=Oo.inject(yw),tr=Oo}catch{}}xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vw;xt.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!id(e))throw Error(N(200));return pw(t,e,null,r)};xt.createRoot=function(t,e){if(!id(t))throw Error(N(299));var r=!1,n="",i=vg;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=td(t,1,!1,null,null,r,!1,n,i),t[vr]=e.current,Os(t.nodeType===8?t.parentNode:t),new nd(e)};xt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(N(188)):(t=Object.keys(t).join(","),Error(N(268,t)));return t=zp(e),t=t===null?null:t.stateNode,t};xt.flushSync=function(t){return Nn(t)};xt.hydrate=function(t,e,r){if(!Wa(e))throw Error(N(200));return Ka(null,t,e,!0,r)};xt.hydrateRoot=function(t,e,r){if(!id(t))throw Error(N(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=vg;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=gg(e,null,t,1,r??null,i,!1,s,o),t[vr]=e.current,Os(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Ha(e)};xt.render=function(t,e,r){if(!Wa(e))throw Error(N(200));return Ka(null,t,e,!1,r)};xt.unmountComponentAtNode=function(t){if(!Wa(t))throw Error(N(40));return t._reactRootContainer?(Nn(function(){Ka(null,null,t,!1,function(){t._reactRootContainer=null,t[vr]=null})}),!0):!1};xt.unstable_batchedUpdates=Yc;xt.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Wa(r))throw Error(N(200));if(t==null||t._reactInternals===void 0)throw Error(N(38));return Ka(t,e,r,!1,n)};xt.version="18.3.1-next-f1338f8080-20240426";function yg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yg)}catch(t){console.error(t)}}yg(),yp.exports=xt;var sd=yp.exports;const ww=cc(sd),_w=sp({__proto__:null,default:ww},[sd]);var wg,Bh=sd;wg=Bh.createRoot,Bh.hydrateRoot;var Qa=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},xw={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},Lr,uc,Gf,Sw=(Gf=class{constructor(){ne(this,Lr,xw);ne(this,uc,!1)}setTimeoutProvider(t){J(this,Lr,t)}setTimeout(t,e){return C(this,Lr).setTimeout(t,e)}clearTimeout(t){C(this,Lr).clearTimeout(t)}setInterval(t,e){return C(this,Lr).setInterval(t,e)}clearInterval(t){C(this,Lr).clearInterval(t)}},Lr=new WeakMap,uc=new WeakMap,Gf),$u=new Sw;function Ew(t){setTimeout(t,0)}var Ja=typeof window>"u"||"Deno"in globalThis;function Dt(){}function kw(t,e){return typeof t=="function"?t(e):t}function bw(t){return typeof t=="number"&&t>=0&&t!==1/0}function jw(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Fu(t,e){return typeof t=="function"?t(e):t}function Pw(t,e){return typeof t=="function"?t(e):t}function Vh(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(n){if(e.queryHash!==od(o,e.options))return!1}else if(!Bs(e.queryKey,o))return!1}if(r!=="all"){const l=e.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function qh(t,e){const{exact:r,status:n,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(r){if(Fs(e.options.mutationKey)!==Fs(s))return!1}else if(!Bs(e.options.mutationKey,s))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function od(t,e){return((e==null?void 0:e.queryKeyHashFn)||Fs)(t)}function Fs(t){return JSON.stringify(t,(e,r)=>Bu(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function Bs(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>Bs(t[r],e[r])):!1}var Tw=Object.prototype.hasOwnProperty;function _g(t,e){if(t===e)return t;const r=Hh(t)&&Hh(e);if(!r&&!(Bu(t)&&Bu(e)))return e;const i=(r?t:Object.keys(t)).length,s=r?e:Object.keys(e),o=s.length,a=r?new Array(o):{};let l=0;for(let u=0;u<o;u++){const c=r?u:s[u],h=t[c],f=e[c];if(h===f){a[c]=h,(r?u<i:Tw.call(t,c))&&l++;continue}if(h===null||f===null||typeof h!="object"||typeof f!="object"){a[c]=f;continue}const v=_g(h,f);a[c]=v,v===h&&l++}return i===o&&l===i?t:a}function Hh(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Bu(t){if(!Wh(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!Wh(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Wh(t){return Object.prototype.toString.call(t)==="[object Object]"}function Cw(t){return new Promise(e=>{$u.setTimeout(e,t)})}function Rw(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?_g(t,e):e}function Aw(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function Ow(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var ad=Symbol();function xg(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===ad?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var xn,Dr,yi,Yf,Nw=(Yf=class extends Qa{constructor(){super();ne(this,xn);ne(this,Dr);ne(this,yi);J(this,yi,e=>{if(!Ja&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){C(this,Dr)||this.setEventListener(C(this,yi))}onUnsubscribe(){var e;this.hasListeners()||((e=C(this,Dr))==null||e.call(this),J(this,Dr,void 0))}setEventListener(e){var r;J(this,yi,e),(r=C(this,Dr))==null||r.call(this),J(this,Dr,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){C(this,xn)!==e&&(J(this,xn,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof C(this,xn)=="boolean"?C(this,xn):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},xn=new WeakMap,Dr=new WeakMap,yi=new WeakMap,Yf),Sg=new Nw;function Iw(){let t,e;const r=new Promise((i,s)=>{t=i,e=s});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}var Lw=Ew;function Dw(){let t=[],e=0,r=a=>{a()},n=a=>{a()},i=Lw;const s=a=>{e?t.push(a):i(()=>{r(a)})},o=()=>{const a=t;t=[],a.length&&i(()=>{n(()=>{a.forEach(l=>{r(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{r=a},setBatchNotifyFunction:a=>{n=a},setScheduler:a=>{i=a}}}var tt=Dw(),wi,Mr,_i,Xf,Mw=(Xf=class extends Qa{constructor(){super();ne(this,wi,!0);ne(this,Mr);ne(this,_i);J(this,_i,e=>{if(!Ja&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){C(this,Mr)||this.setEventListener(C(this,_i))}onUnsubscribe(){var e;this.hasListeners()||((e=C(this,Mr))==null||e.call(this),J(this,Mr,void 0))}setEventListener(e){var r;J(this,_i,e),(r=C(this,Mr))==null||r.call(this),J(this,Mr,e(this.setOnline.bind(this)))}setOnline(e){C(this,wi)!==e&&(J(this,wi,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return C(this,wi)}},wi=new WeakMap,Mr=new WeakMap,_i=new WeakMap,Xf),ba=new Mw;function Uw(t){return Math.min(1e3*2**t,3e4)}function Eg(t){return(t??"online")==="online"?ba.isOnline():!0}var Vu=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function kg(t){let e=!1,r=0,n;const i=Iw(),s=()=>i.status!=="pending",o=w=>{var k;if(!s()){const m=new Vu(w);f(m),(k=t.onCancel)==null||k.call(t,m)}},a=()=>{e=!0},l=()=>{e=!1},u=()=>Sg.isFocused()&&(t.networkMode==="always"||ba.isOnline())&&t.canRun(),c=()=>Eg(t.networkMode)&&t.canRun(),h=w=>{s()||(n==null||n(),i.resolve(w))},f=w=>{s()||(n==null||n(),i.reject(w))},v=()=>new Promise(w=>{var k;n=m=>{(s()||u())&&w(m)},(k=t.onPause)==null||k.call(t)}).then(()=>{var w;n=void 0,s()||(w=t.onContinue)==null||w.call(t)}),y=()=>{if(s())return;let w;const k=r===0?t.initialPromise:void 0;try{w=k??t.fn()}catch(m){w=Promise.reject(m)}Promise.resolve(w).then(h).catch(m=>{var j;if(s())return;const p=t.retry??(Ja?0:3),g=t.retryDelay??Uw,E=typeof g=="function"?g(r,m):g,P=p===!0||typeof p=="number"&&r<p||typeof p=="function"&&p(r,m);if(e||!P){f(m);return}r++,(j=t.onFail)==null||j.call(t,r,m),Cw(E).then(()=>u()?void 0:v()).then(()=>{e?f(m):y()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(n==null||n(),i),cancelRetry:a,continueRetry:l,canStart:c,start:()=>(c()?y():v().then(y),i)}}var Sn,Zf,bg=(Zf=class{constructor(){ne(this,Sn)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),bw(this.gcTime)&&J(this,Sn,$u.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Ja?1/0:5*60*1e3))}clearGcTimeout(){C(this,Sn)&&($u.clearTimeout(C(this,Sn)),J(this,Sn,void 0))}},Sn=new WeakMap,Zf),En,xi,kt,kn,Me,Gs,bn,Mt,or,ep,zw=(ep=class extends bg{constructor(e){super();ne(this,Mt);ne(this,En);ne(this,xi);ne(this,kt);ne(this,kn);ne(this,Me);ne(this,Gs);ne(this,bn);J(this,bn,!1),J(this,Gs,e.defaultOptions),this.setOptions(e.options),this.observers=[],J(this,kn,e.client),J(this,kt,C(this,kn).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,J(this,En,Kh(this.options)),this.state=e.state??C(this,En),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=C(this,Me))==null?void 0:e.promise}setOptions(e){if(this.options={...C(this,Gs),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=Kh(this.options);r.data!==void 0&&(this.setData(r.data,{updatedAt:r.dataUpdatedAt,manual:!0}),J(this,En,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&C(this,kt).remove(this)}setData(e,r){const n=Rw(this.state.data,e,this.options);return qe(this,Mt,or).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){qe(this,Mt,or).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,i;const r=(n=C(this,Me))==null?void 0:n.promise;return(i=C(this,Me))==null||i.cancel(e),r?r.then(Dt).catch(Dt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(C(this,En))}isActive(){return this.observers.some(e=>Pw(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ad||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Fu(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!jw(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=C(this,Me))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=C(this,Me))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),C(this,kt).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(C(this,Me)&&(C(this,bn)?C(this,Me).cancel({revert:!0}):C(this,Me).cancelRetry()),this.scheduleGc()),C(this,kt).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||qe(this,Mt,or).call(this,{type:"invalidate"})}async fetch(e,r){var l,u,c,h,f,v,y,w,k,m,p,g;if(this.state.fetchStatus!=="idle"&&((l=C(this,Me))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(C(this,Me))return C(this,Me).continueRetry(),C(this,Me).promise}if(e&&this.setOptions(e),!this.options.queryFn){const E=this.observers.find(P=>P.options.queryFn);E&&this.setOptions(E.options)}const n=new AbortController,i=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(J(this,bn,!0),n.signal)})},s=()=>{const E=xg(this.options,r),j=(()=>{const _={client:C(this,kn),queryKey:this.queryKey,meta:this.meta};return i(_),_})();return J(this,bn,!1),this.options.persister?this.options.persister(E,j,this):E(j)},a=(()=>{const E={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:C(this,kn),state:this.state,fetchFn:s};return i(E),E})();(u=this.options.behavior)==null||u.onFetch(a,this),J(this,xi,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=a.fetchOptions)==null?void 0:c.meta))&&qe(this,Mt,or).call(this,{type:"fetch",meta:(h=a.fetchOptions)==null?void 0:h.meta}),J(this,Me,kg({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,onCancel:E=>{E instanceof Vu&&E.revert&&this.setState({...C(this,xi),fetchStatus:"idle"}),n.abort()},onFail:(E,P)=>{qe(this,Mt,or).call(this,{type:"failed",failureCount:E,error:P})},onPause:()=>{qe(this,Mt,or).call(this,{type:"pause"})},onContinue:()=>{qe(this,Mt,or).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}));try{const E=await C(this,Me).start();if(E===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(E),(v=(f=C(this,kt).config).onSuccess)==null||v.call(f,E,this),(w=(y=C(this,kt).config).onSettled)==null||w.call(y,E,this.state.error,this),E}catch(E){if(E instanceof Vu){if(E.silent)return C(this,Me).promise;if(E.revert){if(this.state.data===void 0)throw E;return this.state.data}}throw qe(this,Mt,or).call(this,{type:"error",error:E}),(m=(k=C(this,kt).config).onError)==null||m.call(k,E,this),(g=(p=C(this,kt).config).onSettled)==null||g.call(p,this.state.data,E,this),E}finally{this.scheduleGc()}}},En=new WeakMap,xi=new WeakMap,kt=new WeakMap,kn=new WeakMap,Me=new WeakMap,Gs=new WeakMap,bn=new WeakMap,Mt=new WeakSet,or=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...$w(n.data,this.options),fetchMeta:e.meta??null};case"success":const i={...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return J(this,xi,e.manual?i:void 0),i;case"error":const s=e.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),tt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),C(this,kt).notify({query:this,type:"updated",action:e})})},ep);function $w(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Eg(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Kh(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}function Qh(t){return{onFetch:(e,r)=>{var c,h,f,v,y;const n=e.options,i=(f=(h=(c=e.fetchOptions)==null?void 0:c.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,s=((v=e.state.data)==null?void 0:v.pages)||[],o=((y=e.state.data)==null?void 0:y.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let w=!1;const k=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(e.signal.aborted?w=!0:e.signal.addEventListener("abort",()=>{w=!0}),e.signal)})},m=xg(e.options,e.fetchOptions),p=async(g,E,P)=>{if(w)return Promise.reject();if(E==null&&g.pages.length)return Promise.resolve(g);const _=(()=>{const W={client:e.client,queryKey:e.queryKey,pageParam:E,direction:P?"backward":"forward",meta:e.options.meta};return k(W),W})(),R=await m(_),{maxPages:z}=e.options,A=P?Ow:Aw;return{pages:A(g.pages,R,z),pageParams:A(g.pageParams,E,z)}};if(i&&s.length){const g=i==="backward",E=g?Fw:Jh,P={pages:s,pageParams:o},j=E(n,P);a=await p(P,j,g)}else{const g=t??s.length;do{const E=l===0?o[0]??n.initialPageParam:Jh(n,a);if(l>0&&E==null)break;a=await p(a,E),l++}while(l<g)}return a};e.options.persister?e.fetchFn=()=>{var w,k;return(k=(w=e.options).persister)==null?void 0:k.call(w,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=u}}}function Jh(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function Fw(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var Ys,Yt,Ze,jn,Xt,jr,tp,Bw=(tp=class extends bg{constructor(e){super();ne(this,Xt);ne(this,Ys);ne(this,Yt);ne(this,Ze);ne(this,jn);J(this,Ys,e.client),this.mutationId=e.mutationId,J(this,Ze,e.mutationCache),J(this,Yt,[]),this.state=e.state||Vw(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){C(this,Yt).includes(e)||(C(this,Yt).push(e),this.clearGcTimeout(),C(this,Ze).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){J(this,Yt,C(this,Yt).filter(r=>r!==e)),this.scheduleGc(),C(this,Ze).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){C(this,Yt).length||(this.state.status==="pending"?this.scheduleGc():C(this,Ze).remove(this))}continue(){var e;return((e=C(this,jn))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,a,l,u,c,h,f,v,y,w,k,m,p,g,E,P,j,_,R,z;const r=()=>{qe(this,Xt,jr).call(this,{type:"continue"})},n={client:C(this,Ys),meta:this.options.meta,mutationKey:this.options.mutationKey};J(this,jn,kg({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(A,W)=>{qe(this,Xt,jr).call(this,{type:"failed",failureCount:A,error:W})},onPause:()=>{qe(this,Xt,jr).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>C(this,Ze).canRun(this)}));const i=this.state.status==="pending",s=!C(this,jn).canStart();try{if(i)r();else{qe(this,Xt,jr).call(this,{type:"pending",variables:e,isPaused:s}),await((a=(o=C(this,Ze).config).onMutate)==null?void 0:a.call(o,e,this,n));const W=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,e,n));W!==this.state.context&&qe(this,Xt,jr).call(this,{type:"pending",context:W,variables:e,isPaused:s})}const A=await C(this,jn).start();return await((h=(c=C(this,Ze).config).onSuccess)==null?void 0:h.call(c,A,e,this.state.context,this,n)),await((v=(f=this.options).onSuccess)==null?void 0:v.call(f,A,e,this.state.context,n)),await((w=(y=C(this,Ze).config).onSettled)==null?void 0:w.call(y,A,null,this.state.variables,this.state.context,this,n)),await((m=(k=this.options).onSettled)==null?void 0:m.call(k,A,null,e,this.state.context,n)),qe(this,Xt,jr).call(this,{type:"success",data:A}),A}catch(A){try{throw await((g=(p=C(this,Ze).config).onError)==null?void 0:g.call(p,A,e,this.state.context,this,n)),await((P=(E=this.options).onError)==null?void 0:P.call(E,A,e,this.state.context,n)),await((_=(j=C(this,Ze).config).onSettled)==null?void 0:_.call(j,void 0,A,this.state.variables,this.state.context,this,n)),await((z=(R=this.options).onSettled)==null?void 0:z.call(R,void 0,A,e,this.state.context,n)),A}finally{qe(this,Xt,jr).call(this,{type:"error",error:A})}}finally{C(this,Ze).runNext(this)}}},Ys=new WeakMap,Yt=new WeakMap,Ze=new WeakMap,jn=new WeakMap,Xt=new WeakSet,jr=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),tt.batch(()=>{C(this,Yt).forEach(n=>{n.onMutationUpdate(e)}),C(this,Ze).notify({mutation:this,type:"updated",action:e})})},tp);function Vw(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var dr,Ut,Xs,rp,qw=(rp=class extends Qa{constructor(e={}){super();ne(this,dr);ne(this,Ut);ne(this,Xs);this.config=e,J(this,dr,new Set),J(this,Ut,new Map),J(this,Xs,0)}build(e,r,n){const i=new Bw({client:e,mutationCache:this,mutationId:++mo(this,Xs)._,options:e.defaultMutationOptions(r),state:n});return this.add(i),i}add(e){C(this,dr).add(e);const r=No(e);if(typeof r=="string"){const n=C(this,Ut).get(r);n?n.push(e):C(this,Ut).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(C(this,dr).delete(e)){const r=No(e);if(typeof r=="string"){const n=C(this,Ut).get(r);if(n)if(n.length>1){const i=n.indexOf(e);i!==-1&&n.splice(i,1)}else n[0]===e&&C(this,Ut).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=No(e);if(typeof r=="string"){const n=C(this,Ut).get(r),i=n==null?void 0:n.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var n;const r=No(e);if(typeof r=="string"){const i=(n=C(this,Ut).get(r))==null?void 0:n.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){tt.batch(()=>{C(this,dr).forEach(e=>{this.notify({type:"removed",mutation:e})}),C(this,dr).clear(),C(this,Ut).clear()})}getAll(){return Array.from(C(this,dr))}find(e){const r={exact:!0,...e};return this.getAll().find(n=>qh(r,n))}findAll(e={}){return this.getAll().filter(r=>qh(e,r))}notify(e){tt.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return tt.batch(()=>Promise.all(e.map(r=>r.continue().catch(Dt))))}},dr=new WeakMap,Ut=new WeakMap,Xs=new WeakMap,rp);function No(t){var e;return(e=t.options.scope)==null?void 0:e.id}var Zt,np,Hw=(np=class extends Qa{constructor(e={}){super();ne(this,Zt);this.config=e,J(this,Zt,new Map)}build(e,r,n){const i=r.queryKey,s=r.queryHash??od(i,r);let o=this.get(s);return o||(o=new zw({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){C(this,Zt).has(e.queryHash)||(C(this,Zt).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=C(this,Zt).get(e.queryHash);r&&(e.destroy(),r===e&&C(this,Zt).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){tt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return C(this,Zt).get(e)}getAll(){return[...C(this,Zt).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>Vh(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>Vh(e,n)):r}notify(e){tt.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){tt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){tt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Zt=new WeakMap,np),Pe,Ur,zr,Si,Ei,$r,ki,bi,ip,Ww=(ip=class{constructor(t={}){ne(this,Pe);ne(this,Ur);ne(this,zr);ne(this,Si);ne(this,Ei);ne(this,$r);ne(this,ki);ne(this,bi);J(this,Pe,t.queryCache||new Hw),J(this,Ur,t.mutationCache||new qw),J(this,zr,t.defaultOptions||{}),J(this,Si,new Map),J(this,Ei,new Map),J(this,$r,0)}mount(){mo(this,$r)._++,C(this,$r)===1&&(J(this,ki,Sg.subscribe(async t=>{t&&(await this.resumePausedMutations(),C(this,Pe).onFocus())})),J(this,bi,ba.subscribe(async t=>{t&&(await this.resumePausedMutations(),C(this,Pe).onOnline())})))}unmount(){var t,e;mo(this,$r)._--,C(this,$r)===0&&((t=C(this,ki))==null||t.call(this),J(this,ki,void 0),(e=C(this,bi))==null||e.call(this),J(this,bi,void 0))}isFetching(t){return C(this,Pe).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return C(this,Ur).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=C(this,Pe).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=C(this,Pe).build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(Fu(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return C(this,Pe).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),i=C(this,Pe).get(n.queryHash),s=i==null?void 0:i.state.data,o=kw(e,s);if(o!==void 0)return C(this,Pe).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return tt.batch(()=>C(this,Pe).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=C(this,Pe).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=C(this,Pe);tt.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=C(this,Pe);return tt.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=tt.batch(()=>C(this,Pe).findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(Dt).catch(Dt)}invalidateQueries(t,e={}){return tt.batch(()=>(C(this,Pe).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=tt.batch(()=>C(this,Pe).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,r);return r.throwOnError||(s=s.catch(Dt)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(Dt)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=C(this,Pe).build(this,e);return r.isStaleByTime(Fu(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Dt).catch(Dt)}fetchInfiniteQuery(t){return t.behavior=Qh(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Dt).catch(Dt)}ensureInfiniteQueryData(t){return t.behavior=Qh(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return ba.isOnline()?C(this,Ur).resumePausedMutations():Promise.resolve()}getQueryCache(){return C(this,Pe)}getMutationCache(){return C(this,Ur)}getDefaultOptions(){return C(this,zr)}setDefaultOptions(t){J(this,zr,t)}setQueryDefaults(t,e){C(this,Si).set(Fs(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...C(this,Si).values()],r={};return e.forEach(n=>{Bs(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){C(this,Ei).set(Fs(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...C(this,Ei).values()],r={};return e.forEach(n=>{Bs(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...C(this,zr).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=od(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===ad&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...C(this,zr).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){C(this,Pe).clear(),C(this,Ur).clear()}},Pe=new WeakMap,Ur=new WeakMap,zr=new WeakMap,Si=new WeakMap,Ei=new WeakMap,$r=new WeakMap,ki=new WeakMap,bi=new WeakMap,ip),Kw=x.createContext(void 0),Qw=({client:t,children:e})=>(x.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),d.jsx(Kw.Provider,{value:t,children:e}));const Jw={defaultOptions:{queries:{staleTime:5*60*1e3,gcTime:10*60*1e3,refetchOnWindowFocus:!1,refetchOnReconnect:!0,refetchOnMount:!0,retry:1,retryDelay:t=>Math.min(1e3*2**t,3e4)},mutations:{retry:1}}};function Gw(){return new Ww(Jw)}const Yw="modulepreload",Xw=function(t){return"/"+t},Gh={},L=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(r.map(l=>{if(l=Xw(l),l in Gh)return;Gh[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":Yw,u||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),u)return new Promise((f,v)=>{h.addEventListener("load",f),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})},Zw=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>L(async()=>{const{default:n}=await Promise.resolve().then(()=>zi);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class ld extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class e_ extends ld{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Yh extends ld{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Xh extends ld{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var qu;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(qu||(qu={}));var t_=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(c){try{u(n.next(c))}catch(h){o(h)}}function l(c){try{u(n.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};class r_{constructor(e,{headers:r={},customFetch:n,region:i=qu.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=Zw(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return t_(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:o}=r;let a={},{region:l}=r;l||(l=this.region);const u=new URL(`${this.url}/${e}`);l&&l!=="any"&&(a["x-region"]=l,u.searchParams.set("forceFunctionRegion",l));let c;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const h=yield this.fetch(u.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:c}).catch(w=>{throw new e_(w)}),f=h.headers.get("x-relay-error");if(f&&f==="true")throw new Yh(h);if(!h.ok)throw new Xh(h);let v=((n=h.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),y;return v==="application/json"?y=yield h.json():v==="application/octet-stream"?y=yield h.blob():v==="text/event-stream"?y=h:v==="multipart/form-data"?y=yield h.formData():y=yield h.text(),{data:y,error:null,response:h}}catch(i){return{data:null,error:i,response:i instanceof Xh||i instanceof Yh?i.context:void 0}}})}}var ct={},ud={},Ga={},io={},Ya={},Xa={},n_=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ni=n_();const i_=Ni.fetch,jg=Ni.fetch.bind(Ni),Pg=Ni.Headers,s_=Ni.Request,o_=Ni.Response,zi=Object.freeze(Object.defineProperty({__proto__:null,Headers:Pg,Request:s_,Response:o_,default:jg,fetch:i_},Symbol.toStringTag,{value:"Module"})),a_=Wv(zi);var Za={};Object.defineProperty(Za,"__esModule",{value:!0});let l_=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Za.default=l_;var Tg=Ct&&Ct.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Xa,"__esModule",{value:!0});const u_=Tg(a_),c_=Tg(Za);let d_=class{constructor(e){var r,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(r=e.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=u_.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=new Headers(this.headers),this.headers.set(e,r),this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var o,a,l,u;let c=null,h=null,f=null,v=s.status,y=s.statusText;if(s.ok){if(this.method!=="HEAD"){const p=await s.text();p===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?h=p:h=JSON.parse(p))}const k=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),m=(l=s.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");k&&m&&m.length>1&&(f=parseInt(m[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(c={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,f=null,v=406,y="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const k=await s.text();try{c=JSON.parse(k),Array.isArray(c)&&s.status===404&&(h=[],c=null,v=200,y="OK")}catch{s.status===404&&k===""?(v=204,y="No Content"):c={message:k}}if(c&&this.isMaybeSingle&&(!((u=c==null?void 0:c.details)===null||u===void 0)&&u.includes("0 rows"))&&(c=null,v=200,y="OK"),c&&this.shouldThrowOnError)throw new c_.default(c)}return{error:c,data:h,count:f,status:v,statusText:y}});return this.shouldThrowOnError||(i=i.catch(s=>{var o,a,l;return{error:{message:`${(o=s==null?void 0:s.name)!==null&&o!==void 0?o:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(a=s==null?void 0:s.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=s==null?void 0:s.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,r)}returns(){return this}overrideTypes(){return this}};Xa.default=d_;var h_=Ct&&Ct.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ya,"__esModule",{value:!0});const f_=h_(Xa);let p_=class extends f_.default{select(e){let r=!1;const n=(e??"*").split("").map(i=>/\s/.test(i)&&!r?"":(i==='"'&&(r=!r),i)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:i,referencedTable:s=i}={}){const o=s?`${s}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:i=n}={}){const s=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(o,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:i=!1,wal:s=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,r?"verbose":null,n?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};Ya.default=p_;var m_=Ct&&Ct.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(io,"__esModule",{value:!0});const g_=m_(Ya);let v_=class extends g_.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${s}fts${o}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};io.default=v_;var y_=Ct&&Ct.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ga,"__esModule",{value:!0});const ts=y_(io);let w_=class{constructor(e,{headers:r={},schema:n,fetch:i}){this.url=e,this.headers=new Headers(r),this.schema=n,this.fetch=i}select(e,{head:r=!1,count:n}={}){const i=r?"HEAD":"GET";let s=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new ts.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:r,defaultToNull:n=!0}={}){var i;const s="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new ts.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:i,defaultToNull:s=!0}={}){var o;const a="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),i&&this.headers.append("Prefer",`count=${i}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new ts.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:r}={}){var n;const i="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new ts.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var r;const n="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new ts.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};Ga.default=w_;var Cg=Ct&&Ct.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ud,"__esModule",{value:!0});const __=Cg(Ga),x_=Cg(io);let S_=class Rg{constructor(e,{headers:r={},schema:n,fetch:i}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=i}from(e){const r=new URL(`${this.url}/${e}`);return new __.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Rg(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:i=!1,count:s}={}){var o;let a;const l=new URL(`${this.url}/rpc/${e}`);let u;n||i?(a=n?"HEAD":"GET",Object.entries(r).filter(([h,f])=>f!==void 0).map(([h,f])=>[h,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([h,f])=>{l.searchParams.append(h,f)})):(a="POST",u=r);const c=new Headers(this.headers);return s&&c.set("Prefer",`count=${s}`),new x_.default({method:a,url:l,headers:c,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};ud.default=S_;var $i=Ct&&Ct.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ct,"__esModule",{value:!0});ct.PostgrestError=ct.PostgrestBuilder=ct.PostgrestTransformBuilder=ct.PostgrestFilterBuilder=ct.PostgrestQueryBuilder=ct.PostgrestClient=void 0;const Ag=$i(ud);ct.PostgrestClient=Ag.default;const Og=$i(Ga);ct.PostgrestQueryBuilder=Og.default;const Ng=$i(io);ct.PostgrestFilterBuilder=Ng.default;const Ig=$i(Ya);ct.PostgrestTransformBuilder=Ig.default;const Lg=$i(Xa);ct.PostgrestBuilder=Lg.default;const Dg=$i(Za);ct.PostgrestError=Dg.default;var E_=ct.default={PostgrestClient:Ag.default,PostgrestQueryBuilder:Og.default,PostgrestFilterBuilder:Ng.default,PostgrestTransformBuilder:Ig.default,PostgrestBuilder:Lg.default,PostgrestError:Dg.default};const{PostgrestClient:k_,PostgrestQueryBuilder:Gb,PostgrestFilterBuilder:Yb,PostgrestTransformBuilder:Xb,PostgrestBuilder:Zb,PostgrestError:ej}=E_;class b_{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const j_="2.15.5",P_=`realtime-js/${j_}`,T_="1.0.0",Hu=1e4,C_=1e3,R_=100;var xs;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(xs||(xs={}));var Ne;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Ne||(Ne={}));var $t;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})($t||($t={}));var Wu;(function(t){t.websocket="websocket"})(Wu||(Wu={}));var pn;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(pn||(pn={}));class A_{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const i=r.getUint8(1),s=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(e.slice(o,o+i));o=o+i;const l=n.decode(e.slice(o,o+s));o=o+s;const u=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class Mg{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var me;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(me||(me={}));const Zh=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((s,o)=>(s[o]=O_(o,t,e,i),s),{})},O_=(t,e,r,n)=>{const i=e.find(a=>a.name===t),s=i==null?void 0:i.type,o=r[t];return s&&!n.includes(s)?Ug(s,o):Ku(o)},Ug=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return D_(e,r)}switch(t){case me.bool:return N_(e);case me.float4:case me.float8:case me.int2:case me.int4:case me.int8:case me.numeric:case me.oid:return I_(e);case me.json:case me.jsonb:return L_(e);case me.timestamp:return M_(e);case me.abstime:case me.date:case me.daterange:case me.int4range:case me.int8range:case me.money:case me.reltime:case me.text:case me.time:case me.timestamptz:case me.timetz:case me.tsrange:case me.tstzrange:return Ku(e);default:return Ku(e)}},Ku=t=>t,N_=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},I_=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},L_=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},D_=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let s;const o=t.slice(1,r);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>Ug(e,a))}return t},M_=t=>typeof t=="string"?t.replace(" ","T"):t,zg=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Il{constructor(e,r,n={},i=Hu){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var ef;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(ef||(ef={}));class Ss{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ss.syncState(this.state,i,s,o),this.pendingDiffs.forEach(l=>{this.state=Ss.syncDiff(this.state,l,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Ss.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const s=this.cloneDeep(e),o=this.transformState(r),a={},l={};return this.map(s,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const h=s[u];if(h){const f=c.map(k=>k.presence_ref),v=h.map(k=>k.presence_ref),y=c.filter(k=>v.indexOf(k.presence_ref)<0),w=h.filter(k=>f.indexOf(k.presence_ref)<0);y.length>0&&(a[u]=y),w.length>0&&(l[u]=w)}else a[u]=c}),this.syncDiff(s,{joins:a,leaves:l},n,i)}static syncDiff(e,r,n,i){const{joins:s,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const h=e[a].map(v=>v.presence_ref),f=c.filter(v=>h.indexOf(v.presence_ref)<0);e[a].unshift(...f)}n(a,c,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(h=>h.presence_ref);u=u.filter(h=>c.indexOf(h.presence_ref)<0),e[a]=u,i(a,u,l),u.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var tf;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(tf||(tf={}));var Es;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Es||(Es={}));var ur;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ur||(ur={}));class cd{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Ne.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Il(this,$t.join,this.params,this.timeout),this.rejoinTimer=new Mg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ne.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ne.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Ne.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ne.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Ne.errored,this.rejoinTimer.scheduleTimeout())}),this._on($t.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new Ss(this),this.broadcastEndpointURL=zg(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Ne.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,u=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(v=>v.filter))!==null&&i!==void 0?i:[],c=!!this.bindings[Es.PRESENCE]&&this.bindings[Es.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,h={},f={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(v=>e==null?void 0:e(ur.CHANNEL_ERROR,v)),this._onClose(()=>e==null?void 0:e(ur.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:v})=>{var y;if(this.socket.setAuth(),v===void 0){e==null||e(ur.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,k=(y=w==null?void 0:w.length)!==null&&y!==void 0?y:0,m=[];for(let p=0;p<k;p++){const g=w[p],{filter:{event:E,schema:P,table:j,filter:_}}=g,R=v&&v[p];if(R&&R.event===E&&R.schema===P&&R.table===j&&R.filter===_)m.push(Object.assign(Object.assign({},g),{id:R.id}));else{this.unsubscribe(),this.state=Ne.errored,e==null||e(ur.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,e&&e(ur.SUBSCRIBED);return}}).receive("error",v=>{this.state=Ne.errored,e==null||e(ur.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ur.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===Ne.joined&&e===Es.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){const{event:s,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,a,l;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ne.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger($t.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Il(this,$t.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ne.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Il(this,e,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>R_){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,s;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=$t;if(n&&[a,l,u,c].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(v=>{var y,w,k;return((y=v.filter)===null||y===void 0?void 0:y.event)==="*"||((k=(w=v.filter)===null||w===void 0?void 0:w.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===o}).map(v=>v.callback(f,n)):(s=this.bindings[o])===null||s===void 0||s.filter(v=>{var y,w,k,m,p,g;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const E=v.id,P=(y=v.filter)===null||y===void 0?void 0:y.event;return E&&((w=r.ids)===null||w===void 0?void 0:w.includes(E))&&(P==="*"||(P==null?void 0:P.toLocaleLowerCase())===((k=r.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const E=(p=(m=v==null?void 0:v.filter)===null||m===void 0?void 0:m.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return E==="*"||E===((g=r==null?void 0:r.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof f=="object"&&"ids"in f){const y=f.data,{schema:w,table:k,commit_timestamp:m,type:p,errors:g}=y;f=Object.assign(Object.assign({},{schema:w,table:k,commit_timestamp:m,eventType:p,new:{},old:{},errors:g}),this._getPayloadRecords(y))}v.callback(f,n)})}_isClosed(){return this.state===Ne.closed}_isJoined(){return this.state===Ne.joined}_isJoining(){return this.state===Ne.joining}_isLeaving(){return this.state===Ne.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&cd.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on($t.close,{},e)}_onError(e){this._on($t.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ne.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Zh(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Zh(e.columns,e.old_record)),r}}const Ll=()=>{},Io={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},U_=[1e3,2e3,5e3,1e4],z_=1e4,$_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class F_{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Hu,this.transport=null,this.heartbeatIntervalMs=Io.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ll,this.ref=0,this.reconnectTimer=null,this.logger=Ll,this.conn=null,this.sendBuffer=[],this.serializer=new A_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...o)=>L(async()=>{const{default:a}=await Promise.resolve().then(()=>zi);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):s=fetch,(...o)=>s(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Wu.websocket}`,this.httpEndpoint=zg(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=b_.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:T_}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case xs.connecting:return pn.Connecting;case xs.open:return pn.Open;case xs.closing:return pn.Closing;default:return pn.Closed}}isConnected(){return this.connectionState()===pn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new cd(`realtime:${e}`,r,this);return this.channels.push(s),s}}push(e){const{topic:r,event:n,payload:i,ref:s}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(C_,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Io.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:s,ref:o}=r,a=o?`(${o})`:"",l=s.status||"";this.log("receive",`${l} ${n} ${i} ${a}`.trim(),s),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(i,s,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger($t.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([$_],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:P_};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push($t.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Mg(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Io.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,i,s,o,a,l,u,c;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:Hu,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:Io.HEARTBEAT_INTERVAL,this.worker=(s=e==null?void 0:e.worker)!==null&&s!==void 0?s:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:Ll,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:h=>U_[h-1]||z_,this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(h,f)=>f(JSON.stringify(h)),this.decode=(c=e==null?void 0:e.decode)!==null&&c!==void 0?c:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class dd extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ie(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class B_ extends dd{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Qu extends dd{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var V_=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(c){try{u(n.next(c))}catch(h){o(h)}}function l(c){try{u(n.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const $g=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>L(async()=>{const{default:n}=await Promise.resolve().then(()=>zi);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},q_=()=>V_(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield L(()=>Promise.resolve().then(()=>zi),void 0)).Response:Response}),Ju=t=>{if(Array.isArray(t))return t.map(r=>Ju(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=Ju(n)}),e},H_=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var Mn=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(c){try{u(n.next(c))}catch(h){o(h)}}function l(c){try{u(n.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const Dl=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),W_=(t,e,r)=>Mn(void 0,void 0,void 0,function*(){const n=yield q_();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(i=>{const s=t.status||500,o=(i==null?void 0:i.statusCode)||s+"";e(new B_(Dl(i),s,o))}).catch(i=>{e(new Qu(Dl(i),i))}):e(new Qu(Dl(t),t))}),K_=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?i:(H_(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),r))};function so(t,e,r,n,i,s){return Mn(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,K_(e,n,i,s)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>W_(l,a,n))})})}function ja(t,e,r,n){return Mn(this,void 0,void 0,function*(){return so(t,"GET",e,r,n)})}function Gt(t,e,r,n,i){return Mn(this,void 0,void 0,function*(){return so(t,"POST",e,n,i,r)})}function Gu(t,e,r,n,i){return Mn(this,void 0,void 0,function*(){return so(t,"PUT",e,n,i,r)})}function Q_(t,e,r,n){return Mn(this,void 0,void 0,function*(){return so(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Fg(t,e,r,n,i){return Mn(this,void 0,void 0,function*(){return so(t,"DELETE",e,n,i,r)})}var Xe=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(c){try{u(n.next(c))}catch(h){o(h)}}function l(c){try{u(n.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const J_={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},rf={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class G_{constructor(e,r={},n,i){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=$g(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,i){return Xe(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},rf),i);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l))):(s=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(a=Object.assign(Object.assign({},a),i.headers));const u=this._removeEmptyFolders(r),c=this._getFinalPath(u),h=yield(e=="PUT"?Gu:Gt)(this.fetch,`${this.url}/object/${c}`,s,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ie(s))return{data:null,error:s};throw s}})}upload(e,r,n){return Xe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,i){return Xe(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),o=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:rf.upsert},i),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const h=yield Gu(this.fetch,a.toString(),l,{headers:c});return{data:{path:s,fullPath:h.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ie(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return Xe(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const s=yield Gt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(this.url+s.url),a=o.searchParams.get("token");if(!a)throw new dd("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ie(n))return{data:null,error:n};throw n}})}update(e,r,n){return Xe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return Xe(this,void 0,void 0,function*(){try{return{data:yield Gt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ie(i))return{data:null,error:i};throw i}})}copy(e,r,n){return Xe(this,void 0,void 0,function*(){try{return{data:{path:(yield Gt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ie(i))return{data:null,error:i};throw i}})}createSignedUrl(e,r,n){return Xe(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield Gt(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ie(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,n){return Xe(this,void 0,void 0,function*(){try{const i=yield Gt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ie(i))return{data:null,error:i};throw i}})}download(e,r){return Xe(this,void 0,void 0,function*(){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=s?`?${s}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield ja(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ie(a))return{data:null,error:a};throw a}})}info(e){return Xe(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield ja(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Ju(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ie(n))return{data:null,error:n};throw n}})}exists(e){return Xe(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield Q_(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ie(n)&&n instanceof Qu){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),i=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&i.push(s);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${u}`)}}}remove(e){return Xe(this,void 0,void 0,function*(){try{return{data:yield Fg(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ie(r))return{data:null,error:r};throw r}})}list(e,r,n){return Xe(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},J_),r),{prefix:e||""});return{data:yield Gt(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ie(i))return{data:null,error:i};throw i}})}listV2(e,r){return Xe(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Gt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ie(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const Y_="2.12.1",X_={"X-Client-Info":`storage-js/${Y_}`};var Hn=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(c){try{u(n.next(c))}catch(h){o(h)}}function l(c){try{u(n.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};class Z_{constructor(e,r={},n,i){this.shouldThrowOnError=!1;const s=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href,this.headers=Object.assign(Object.assign({},X_),r),this.fetch=$g(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Hn(this,void 0,void 0,function*(){try{return{data:yield ja(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ie(e))return{data:null,error:e};throw e}})}getBucket(e){return Hn(this,void 0,void 0,function*(){try{return{data:yield ja(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ie(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return Hn(this,void 0,void 0,function*(){try{return{data:yield Gt(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ie(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return Hn(this,void 0,void 0,function*(){try{return{data:yield Gu(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ie(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Hn(this,void 0,void 0,function*(){try{return{data:yield Gt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ie(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Hn(this,void 0,void 0,function*(){try{return{data:yield Fg(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ie(r))return{data:null,error:r};throw r}})}}class e1 extends Z_{constructor(e,r={},n,i){super(e,r,n,i)}from(e){return new G_(this.url,this.headers,e,this.fetch)}}const t1="2.57.4";let us="";typeof Deno<"u"?us="deno":typeof document<"u"?us="web":typeof navigator<"u"&&navigator.product==="ReactNative"?us="react-native":us="node";const r1={"X-Client-Info":`supabase-js-${us}/${t1}`},n1={headers:r1},i1={schema:"public"},s1={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},o1={};var a1=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(c){try{u(n.next(c))}catch(h){o(h)}}function l(c){try{u(n.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const l1=t=>{let e;return t?e=t:typeof fetch>"u"?e=jg:e=fetch,(...r)=>e(...r)},u1=()=>typeof Headers>"u"?Pg:Headers,c1=(t,e,r)=>{const n=l1(r),i=u1();return(s,o)=>a1(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(s,Object.assign(Object.assign({},o),{headers:u}))})};var d1=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(c){try{u(n.next(c))}catch(h){o(h)}}function l(c){try{u(n.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};function h1(t){return t.endsWith("/")?t:t+"/"}function f1(t,e){var r,n;const{db:i,auth:s,realtime:o,global:a}=t,{db:l,auth:u,realtime:c,global:h}=e,f={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},c),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>d1(this,void 0,void 0,function*(){return""})};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function p1(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(h1(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Bg="2.71.1",Xn=30*1e3,Yu=3,Ml=Yu*Xn,m1="http://localhost:9999",g1="supabase.auth.token",v1={"X-Client-Info":`gotrue-js/${Bg}`},Xu="X-Supabase-Api-Version",Vg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},y1=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,w1=10*60*1e3;class hd extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Y(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class _1 extends hd{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function x1(t){return Y(t)&&t.name==="AuthApiError"}class qg extends hd{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class nn extends hd{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class Pr extends nn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function S1(t){return Y(t)&&t.name==="AuthSessionMissingError"}class Lo extends nn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Do extends nn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Mo extends nn{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function E1(t){return Y(t)&&t.name==="AuthImplicitGrantRedirectError"}class nf extends nn{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Zu extends nn{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Ul(t){return Y(t)&&t.name==="AuthRetryableFetchError"}class sf extends nn{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class ec extends nn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Pa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),of=` 	
\r=`.split(""),k1=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<of.length;e+=1)t[of[e].charCodeAt(0)]=-2;for(let e=0;e<Pa.length;e+=1)t[Pa[e].charCodeAt(0)]=e;return t})();function af(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Pa[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Pa[n]),e.queuedBits-=6}}function Hg(t,e,r){const n=k1[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function lf(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{P1(o,n,r)};for(let o=0;o<t.length;o+=1)Hg(t.charCodeAt(o),i,s);return e.join("")}function b1(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function j1(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}b1(n,e)}}function P1(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function T1(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)Hg(t.charCodeAt(i),r,n);return new Uint8Array(e)}function C1(t){const e=[];return j1(t,r=>e.push(r)),new Uint8Array(e)}function R1(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>af(i,r,n)),af(null,r,n),e.join("")}function A1(t){return Math.round(Date.now()/1e3)+t}function O1(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const It=()=>typeof window<"u"&&typeof document<"u",un={tested:!1,writable:!1},Wg=()=>{if(!It())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(un.tested)return un.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),un.tested=!0,un.writable=!0}catch{un.tested=!0,un.writable=!1}return un.writable};function N1(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const Kg=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>L(async()=>{const{default:n}=await Promise.resolve().then(()=>zi);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},I1=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Zn=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},cn=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},br=async(t,e)=>{await t.removeItem(e)};let Qg=class Jg{constructor(){this.promise=new Jg.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}};Qg.promiseConstructor=Promise;function zl(t){const e=t.split(".");if(e.length!==3)throw new ec("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!y1.test(e[n]))throw new ec("JWT not in base64url format");return{header:JSON.parse(lf(e[0])),payload:JSON.parse(lf(e[1])),signature:T1(e[2]),raw:{header:e[0],payload:e[1]}}}async function L1(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function D1(t,e){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await t(s);if(!e(s,null,o)){n(o);return}}catch(o){if(!e(s,o)){i(o);return}}})()})}function M1(t){return("0"+t.toString(16)).substr(-2)}function U1(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,M1).join("")}async function z1(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function $1(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await z1(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Wn(t,e,r=!1){const n=U1();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Zn(t,`${e}-code-verifier`,i);const s=await $1(n);return[s,n===s?"plain":"s256"]}const F1=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function B1(t){const e=t.headers.get(Xu);if(!e||!e.match(F1))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function V1(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function q1(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const H1=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Kn(t){if(!H1.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function $l(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function uf(t){return JSON.parse(JSON.stringify(t))}var W1=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};const fn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),K1=[502,503,504];async function cf(t){var e;if(!I1(t))throw new Zu(fn(t),0);if(K1.includes(t.status))throw new Zu(fn(t),t.status);let r;try{r=await t.json()}catch(s){throw new qg(fn(s),s)}let n;const i=B1(t);if(i&&i.getTime()>=Vg["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new sf(fn(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Pr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new sf(fn(r),t.status,r.weak_password.reasons);throw new _1(fn(r),t.status||500,n)}const Q1=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function ee(t,e,r,n){var i;const s=Object.assign({},n==null?void 0:n.headers);s[Xu]||(s[Xu]=Vg["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const o=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await J1(t,e,r+a,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function J1(t,e,r,n,i,s){const o=Q1(e,n,i,s);let a;try{a=await t(r,Object.assign({},o))}catch(l){throw console.error(l),new Zu(fn(l),0)}if(a.ok||await cf(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await cf(l)}}function ar(t){var e;let r=null;Z1(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=A1(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function df(t){const e=ar(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Nr(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function G1(t){return{data:t,error:null}}function Y1(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=t,o=W1(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function X1(t){return t}function Z1(t){return t.access_token&&t.refresh_token&&t.expires_in}const Fl=["global","local","others"];var ex=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};class tx{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Kg(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=Fl[0]){if(Fl.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Fl.join(", ")}`);try{return await ee(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Y(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await ee(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Nr})}catch(n){if(Y(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=ex(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await ee(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Y1,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Y(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await ee(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Nr})}catch(r){if(Y(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,s,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await ee(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:X1});if(c.error)throw c.error;const h=await c.json(),f=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return v.length>0&&(v.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(y.split(";")[1].split("=")[1]);u[`${k}Page`]=w}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(Y(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Kn(e);try{return await ee(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Nr})}catch(r){if(Y(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Kn(e);try{return await ee(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Nr})}catch(n){if(Y(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Kn(e);try{return await ee(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Nr})}catch(n){if(Y(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Kn(e.userId);try{const{data:r,error:n}=await ee(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(Y(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Kn(e.userId),Kn(e.id);try{return{data:await ee(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Y(r))return{data:null,error:r};throw r}}}function hf(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function rx(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Qn={debug:!!(globalThis&&Wg()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Gg extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class nx extends Gg{}async function ix(t,e,r){Qn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Qn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Qn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{Qn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Qn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new nx(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Qn.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}rx();const sx={url:m1,storageKey:g1,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:v1,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ff(t,e,r){return await r()}const Jn={};class Vs{constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Vs.nextInstanceID,Vs.nextInstanceID+=1,this.instanceID>0&&It()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},sx),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new tx({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Kg(i.fetch),this.lock=i.lock||ff,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:It()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=ix:this.lock=ff,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Wg()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=hf(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=hf(this.memoryStorage)),It()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}get jwks(){var e,r;return(r=(e=Jn[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Jn[this.storageKey]=Object.assign(Object.assign({},Jn[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Jn[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Jn[this.storageKey]=Object.assign(Object.assign({},Jn[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Bg}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=N1(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),It()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),E1(s)){const l=(e=s.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Y(r)?{error:r}:{error:new qg("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const s=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:ar}),{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(Y(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var r,n,i;try{let s;if("email"in e){const{email:c,password:h,options:f}=e;let v=null,y=null;this.flowType==="pkce"&&([v,y]=await Wn(this.storage,this.storageKey)),s=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:c,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:v,code_challenge_method:y},xform:ar})}else if("phone"in e){const{phone:c,password:h,options:f}=e;s=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(i=f==null?void 0:f.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:ar})}else throw new Do("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(Y(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let r;if("email"in e){const{email:s,password:o,options:a}=e;r=await ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:df})}else if("phone"in e){const{phone:s,password:o,options:a}=e;r=await ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:df})}else throw new Do("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Lo}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(Y(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,n,i,s,o,a,l,u,c,h,f,v;let y,w;if("message"in e)y=e.message,w=e.signature;else{const{chain:k,wallet:m,statement:p,options:g}=e;let E;if(It())if(typeof m=="object")E=m;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))E=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof m!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=m}const P=new URL((r=g==null?void 0:g.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in E&&E.signIn){const j=await E.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g==null?void 0:g.signInWithSolana),{version:"1",domain:P.host,uri:P.href}),p?{statement:p}:null));let _;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")_=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)_=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in _&&"signature"in _&&(typeof _.signedMessage=="string"||_.signedMessage instanceof Uint8Array)&&_.signature instanceof Uint8Array)y=typeof _.signedMessage=="string"?_.signedMessage:new TextDecoder().decode(_.signedMessage),w=_.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in E)||typeof E.signMessage!="function"||!("publicKey"in E)||typeof E!="object"||!E.publicKey||!("toBase58"in E.publicKey)||typeof E.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${P.host} wants you to sign in with your Solana account:`,E.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${P.href}`,`Issued At: ${(i=(n=g==null?void 0:g.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=g==null?void 0:g.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...!((o=g==null?void 0:g.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...!((a=g==null?void 0:g.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...!((l=g==null?void 0:g.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...!((u=g==null?void 0:g.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...!((h=(c=g==null?void 0:g.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||h===void 0)&&h.length?["Resources",...g.signInWithSolana.resources.map(_=>`- ${_}`)]:[]].join(`
`);const j=await E.signMessage(new TextEncoder().encode(y),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=j}}try{const{data:k,error:m}=await ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:R1(w)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:ar});if(m)throw m;return!k||!k.session||!k.user?{data:{user:null,session:null},error:new Lo}:(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),{data:Object.assign({},k),error:m})}catch(k){if(Y(k))return{data:{user:null,session:null},error:k};throw k}}async _exchangeCodeForSession(e){const r=await cn(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:s,error:o}=await ee(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:ar});if(await br(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Lo}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(Y(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:s,nonce:o}=e,a=await ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:ar}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Lo}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(r){if(Y(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,i,s,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Wn(this.storage,this.storageKey));const{error:h}=await ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new Do("You must provide either an email or phone number.")}catch(a){if(Y(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var r,n;try{let i,s;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await ee(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:ar});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(Y(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var r,n,i;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await Wn(this.storage,this.storageKey)),await ee(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:G1})}catch(s){if(Y(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Pr;const{error:i}=await ee(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(Y(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:s}=e,{error:o}=await ee(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:i,options:s}=e,{data:o,error:a}=await ee(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Do("You must provide either an email or phone number and a type")}catch(r){if(Y(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await cn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Ml:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await cn(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=$l()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:e},error:null}}const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Nr}):await this._useSession(async r=>{var n,i,s;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Pr}:await ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Nr})})}catch(r){if(Y(r))return S1(r)&&(await this._removeSession(),await br(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new Pr;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Wn(this.storage,this.storageKey));const{data:u,error:c}=await ee(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Nr});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(Y(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Pr;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:o}=zl(e.access_token);if(o.exp&&(n=o.exp,i=n<=r),i){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;s={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(Y(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:a}=r;if(a)throw a;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Pr;const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Y(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!It())throw new Mo("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Mo(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new nf("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Mo("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new nf("No code detected.");const{data:p,error:g}=await this._exchangeCodeForSession(e.code);if(g)throw g;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!s||!a||!o||!u)throw new Mo("No session defined in URL");const c=Math.round(Date.now()/1e3),h=parseInt(a);let f=c+h;l&&(f=parseInt(l));const v=f-c;v*1e3<=Xn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${h}s`);const y=f-h;c-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,f,c):c-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,f,c);const{data:w,error:k}=await this._getUser(s);if(k)throw k;const m={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:e.type},error:null}}catch(n){if(Y(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await cn(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{error:s};const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(x1(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await br(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=O1(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Wn(this.storage,this.storageKey,!0));try{return await ee(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(Y(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(Y(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var o,a,l,u,c;const{data:h,error:f}=s;if(f)throw f;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ee(this.fetch,"GET",v,{headers:this.headers,jwt:(c=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(i)throw i;return It()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Y(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:o}=r;if(o)throw o;return await ee(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(Y(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await D1(async i=>(i>0&&await L1(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await ee(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ar})),(i,s)=>{const o=200*Math.pow(2,i);return s&&Ul(s)&&Date.now()+o-n<Xn})}catch(n){if(this._debug(r,"error",n),Y(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),It()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await cn(this.storage,this.storageKey);if(i&&this.userStorage){let o=await cn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Zn(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:$l()}else if(i&&!i.user&&!i.user){const o=await cn(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await br(this.storage,this.storageKey+"-user"),await Zn(this.storage,this.storageKey,i)):i.user=$l()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Ml;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${Ml}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),Ul(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(i.access_token);!a&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Pr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Qg;const{data:s,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!s.session)throw new Pr;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={session:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(i,"error",s),Y(s)){const o={session:null,error:s};return Ul(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(l){s.push(l)}});if(await Promise.all(o),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Zn(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const s=uf(i);await Zn(this.storage,this.storageKey,s)}else{const i=uf(r);await Zn(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await br(this.storage,this.storageKey),await br(this.storage,this.storageKey+"-code-verifier"),await br(this.storage,this.storageKey+"-user"),this.userStorage&&await br(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&It()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Xn);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/Xn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Xn}ms, refresh threshold is ${Yu} ticks`),i<=Yu&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Gg)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!It()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,o]=await Wn(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await ee(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Y(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:o}=r;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await ee(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(Y(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{data:null,error:s};const{data:o,error:a}=await ee(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(r){if(Y(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await ee(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Y(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],i=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),s=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:i},error:s}=e;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=zl(i.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(a=>a.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+w1>i)return n;const{data:s,error:o}=await ee(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(a=>a.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:v,error:y}=await this.getSession();if(y||!v.session)return{data:null,error:y};n=v.session.access_token}const{header:i,payload:s,signature:o,raw:{header:a,payload:l}}=zl(n);r!=null&&r.allowExpired||V1(s.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:s,header:i,signature:o},error:null}}const c=q1(i.alg),h=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,h,o,C1(`${a}.${l}`)))throw new ec("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(n){if(Y(n))return{data:null,error:n};throw n}}}Vs.nextInstanceID=0;const ox=Vs;class ax extends ox{constructor(e){super(e)}}var lx=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(c){try{u(n.next(c))}catch(h){o(h)}}function l(c){try{u(n.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};class ux{constructor(e,r,n){var i,s,o;this.supabaseUrl=e,this.supabaseKey=r;const a=p1(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,u={db:i1,realtime:o1,auth:Object.assign(Object.assign({},s1),{storageKey:l}),global:n1},c=f1(n??{},u);this.storageKey=(i=c.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=c1(r,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new k_(new URL("rest/v1",a).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new e1(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new r_(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return lx(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:s,storageKey:o,flowType:a,lock:l,debug:u},c,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ax({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),c),storageKey:o,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:s,flowType:a,lock:l,debug:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new F_(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const cx=(t,e,r)=>new ux(t,e,r);function dx(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}dx()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const hx="https://muiidvzmpcmcmrxuwtqt.supabase.co",fx="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im11aWlkdnptcGNtY21yeHV3dHF0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQwNDQzMDgsImV4cCI6MjA3OTYyMDMwOH0.WURqe9zpb_hSZyJrHOXswxEkByungk_U1fYGeqfLJag",fe=cx(hx,fx,{auth:{persistSession:!0,autoRefreshToken:!0}});async function Yg(){try{const t=new Promise((n,i)=>setTimeout(()=>i(new Error("Connection timeout after 5 seconds")),5e3)),e=fe.from("profiles").select("id").limit(1),{error:r}=await Promise.race([e,t]);return r?r.message.includes("schema cache")||r.message.includes("Could not find")?{success:!1,message:"La table des profils n'est pas accessible. Les migrations de base de donnes n'ont peut-tre pas t appliques correctement."}:{success:!1,message:r.message}:{success:!0,message:"Database connection successful"}}catch(t){return t.message.includes("timeout")?{success:!1,message:"La connexion a expir. Vrifiez votre connexion Internet."}:t.message.includes("schema cache")||t.message.includes("Could not find")?{success:!1,message:"La table des profils n'est pas accessible. Les migrations de base de donnes n'ont peut-tre pas t appliques correctement."}:{success:!1,message:t.message}}}class px{constructor(){Vn(this,"isDevelopment",!1);Vn(this,"isProduction",!0)}formatMessage(e){const r=[`[${e.timestamp}]`,`[${e.level.toUpperCase()}]`,e.message];return e.context&&r.push(JSON.stringify(e.context)),r.join(" ")}createEntry(e,r,n,i){return{level:e,message:r,timestamp:new Date().toISOString(),context:n,error:i}}shouldLog(e){return this.isDevelopment?!0:this.isProduction?e==="warn"||e==="error":!1}debug(e,r){if(!this.shouldLog("debug"))return;const n=this.createEntry("debug",e,r);console.debug(this.formatMessage(n),r)}info(e,r){if(!this.shouldLog("info"))return;const n=this.createEntry("info",e,r);console.info(this.formatMessage(n),r)}warn(e,r){if(!this.shouldLog("warn"))return;const n=this.createEntry("warn",e,r);console.warn(this.formatMessage(n),r),this.isProduction&&window.Sentry&&window.Sentry.captureMessage(e,{level:"warning",extra:r})}error(e,r,n){if(!this.shouldLog("error"))return;const i=this.createEntry("error",e,n,r);console.error(this.formatMessage(i),r,n),this.isProduction&&window.Sentry&&(r?window.Sentry.captureException(r,{extra:{message:e,...n}}):window.Sentry.captureMessage(e,{level:"error",extra:n}))}group(e){this.isDevelopment&&console.group(e)}groupEnd(){this.isDevelopment&&console.groupEnd()}}const Uo=new px,Xg=x.createContext(void 0);function mx({children:t}){const[e,r]=x.useState(null),[n,i]=x.useState(null),[s,o]=x.useState(null),[a,l]=x.useState(!0),[u,c]=x.useState(null);x.useEffect(()=>{fe.auth.getSession().then(({data:{session:j}})=>{o(j),r((j==null?void 0:j.user)??null),j!=null&&j.user?h(j.user.id):l(!1)});const{data:{subscription:P}}=fe.auth.onAuthStateChange((j,_)=>{(async()=>(o(_),r((_==null?void 0:_.user)??null),_!=null&&_.user?await h(_.user.id):(i(null),l(!1))))()});return()=>P.unsubscribe()},[]);const h=async(P,j=0)=>{try{if(Uo.debug("Loading user profile",{userId:P,attempt:j+1,maxRetries:6}),j===0){const W=await Yg();if(!W.success){Uo.error("Database connection failed",void 0,{message:W.message}),c({type:"network",message:"Problme de connexion  la base de donnes",details:W.message}),l(!1);return}}const{data:z,error:A}=await fe.from("profiles").select("*").eq("id",P).maybeSingle();if(A){if(Uo.error("Error loading profile from Supabase",A,{userId:P}),A.message.includes("schema cache")||A.message.includes("Could not find the table")){Uo.error("Schema cache error - profiles table not accessible",void 0,{userId:P}),c({type:"database",message:"Connexion  la base de donnes impossible",details:`Could not find the table 'public.profiles' in the schema cache

La table des profils n'existe pas ou n'est pas accessible. Veuillez contacter le support.`}),l(!1);return}if(A.code==="PGRST116"){if(console.log("[AuthContext] Profile not found, attempting recovery..."),await f(P))return h(P,j+1);c({type:"not_found",message:"Profil introuvable",details:"Votre profil n'a pas t cr correctement. Tentative de rcupration choue."})}else if(A.message.includes("permission")||A.message.includes("denied")){if(console.warn("[AuthContext] Permission error detected"),j<5)return console.log("[AuthContext] Retrying after permission error..."),await new Promise(W=>setTimeout(W,1500*(j+1))),h(P,j+1);c({type:"permission",message:"Connexion  la base de donnes impossible",details:`permission denied for table profiles

Vrifiez votre connexion Internet et ressayez dans quelques instants.`})}else c({type:"database",message:"Erreur de base de donnes",details:A.message});throw A}if(!z){if(console.warn("[AuthContext] No profile found for user:",P),j===0&&(console.log("[AuthContext] Attempting profile recovery..."),await f(P)))return h(P,1);if(j<5)return console.log("[AuthContext] Retrying in 1500ms..."),await new Promise(W=>setTimeout(W,1500*(j+1))),h(P,j+1);console.error("[AuthContext] Profile not found after all retries"),c({type:"not_found",message:"Profil introuvable",details:"Impossible de trouver votre profil aprs plusieurs tentatives. Veuillez contacter le support."}),l(!1);return}console.log("[AuthContext] Profile loaded successfully:",z.email),i(z),c(null)}catch(z){if(console.error("[AuthContext] Error loading profile:",z),j<5)return console.log(`[AuthContext] Retrying after error in ${1500*(j+1)}ms...`),await new Promise(A=>setTimeout(A,1500*(j+1))),h(P,j+1);u||c({type:"unknown",message:"Erreur inconnue",details:z.message||"Une erreur inattendue s'est produite."})}finally{l(!1)}},f=async P=>{try{console.log("[AuthContext] Attempting to recover profile for user:",P);const{data:j,error:_}=await fe.rpc("ensure_my_profile_exists");return _?(console.error("[AuthContext] Profile recovery failed:",_),!1):(console.log("[AuthContext] Profile recovery result:",j),j===!0)}catch(j){return console.error("[AuthContext] Profile recovery exception:",j),!1}},v=async(P,j)=>{const{error:_}=await fe.auth.signInWithPassword({email:P,password:j});return{error:_}},y=async(P,j,_)=>{try{const{data:R,error:z}=await fe.auth.signUp({email:P,password:j,options:{data:{full_name:_.full_name,user_type:_.user_type||"locataire",phone:_.phone||""},emailRedirectTo:`${window.location.origin}/auth/callback`}});return z?{error:z}:R.user&&!R.session?{error:null}:{error:null}}catch(R){return{error:R}}},w=async P=>{try{const{error:j}=await fe.auth.signInWithOAuth({provider:P,options:{redirectTo:`${window.location.origin}/auth/callback`,queryParams:{access_type:"offline",prompt:"consent"}}});return{error:j}}catch(j){return{error:j}}},k=async()=>{await fe.auth.signOut(),r(null),i(null),o(null)},m=async P=>{if(!e)return;const{error:j}=await fe.from("profiles").update({...P,updated_at:new Date().toISOString()}).eq("id",e.id);if(j)throw j;await h(e.id)},p=async P=>{try{const{data:j,error:_}=await fe.functions.invoke("send-password-reset",{body:{email:P}});return _?(console.error("[AuthContext] Error calling send-password-reset:",_),{error:{message:_.message||"Erreur lors de l'envoi de l'email de rinitialisation",status:500,name:"AuthError"}}):j!=null&&j.emailNotFound?{error:{message:"Aucun compte associ  cette adresse email",status:404,name:"AuthError"}}:j!=null&&j.error?{error:{message:j.error,status:500,name:"AuthError"}}:{error:null}}catch(j){return console.error("[AuthContext] Password reset exception:",j),{error:{message:"Erreur lors de l'envoi de l'email de rinitialisation. Veuillez ressayer.",status:500,name:"AuthError"}}}},g=async()=>{e&&(l(!0),c(null),await h(e.id))},E=()=>{c(null)};return d.jsx(Xg.Provider,{value:{user:e,profile:n,session:s,loading:a,profileError:u,signIn:v,signUp:y,signInWithProvider:w,signOut:k,updateProfile:m,resetPassword:p,refreshProfile:g,clearProfileError:E},children:t})}function fd(){const t=x.useContext(Xg);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}const Zg=x.createContext(void 0);function gx({children:t}){const[e,r]=x.useState(()=>localStorage.getItem("theme")||"system"),[n,i]=x.useState("light");x.useEffect(()=>{const a=window.document.documentElement,l=()=>e==="system"?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e,u=()=>{const f=l();i(f),a.classList.remove("light","dark"),a.classList.add(f);const v=document.querySelector('meta[name="theme-color"]');v&&v.setAttribute("content",f==="dark"?"#1a1a1a":"#ffffff")};u();const c=window.matchMedia("(prefers-color-scheme: dark)"),h=()=>{e==="system"&&u()};return c.addEventListener("change",h),()=>c.removeEventListener("change",h)},[e]);const s=a=>{r(a),localStorage.setItem("theme",a)},o=()=>{s(n==="dark"?"light":"dark")};return d.jsx(Zg.Provider,{value:{theme:e,actualTheme:n,setTheme:s,toggleTheme:o},children:t})}function vx(){const t=x.useContext(Zg);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t}function yx(){"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{console.log(" Service Worker registered:",e.scope),e.addEventListener("updatefound",()=>{const r=e.installing;r&&r.addEventListener("statechange",()=>{r.state==="installed"&&navigator.serviceWorker.controller&&(console.log(" New version available! Refresh to update."),confirm("Une nouvelle version est disponible. Voulez-vous actualiser?")&&(r.postMessage({type:"SKIP_WAITING"}),window.location.reload()))})})}).catch(e=>{console.error(" Service Worker registration failed:",e)});let t=!1;navigator.serviceWorker.addEventListener("controllerchange",()=>{t||(t=!0,window.location.reload())})})}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function we(){return we=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},we.apply(this,arguments)}var Ae;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ae||(Ae={}));const pf="popstate";function wx(t){t===void 0&&(t={});function e(n,i){let{pathname:s,search:o,hash:a}=n.location;return qs("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:In(i)}return xx(e,r,null,t)}function re(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ii(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function _x(){return Math.random().toString(36).substr(2,8)}function mf(t,e){return{usr:t.state,key:t.key,idx:e}}function qs(t,e,r,n){return r===void 0&&(r=null),we({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?sn(e):e,{state:r,key:e&&e.key||n||_x()})}function In(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function sn(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function xx(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,a=Ae.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(we({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function h(){a=Ae.Pop;let k=c(),m=k==null?null:k-u;u=k,l&&l({action:a,location:w.location,delta:m})}function f(k,m){a=Ae.Push;let p=qs(w.location,k,m);u=c()+1;let g=mf(p,u),E=w.createHref(p);try{o.pushState(g,"",E)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(E)}s&&l&&l({action:a,location:w.location,delta:1})}function v(k,m){a=Ae.Replace;let p=qs(w.location,k,m);u=c();let g=mf(p,u),E=w.createHref(p);o.replaceState(g,"",E),s&&l&&l({action:a,location:w.location,delta:0})}function y(k){let m=i.location.origin!=="null"?i.location.origin:i.location.href,p=typeof k=="string"?k:In(k);return p=p.replace(/ $/,"%20"),re(m,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,m)}let w={get action(){return a},get location(){return t(i,o)},listen(k){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(pf,h),l=k,()=>{i.removeEventListener(pf,h),l=null}},createHref(k){return e(i,k)},createURL:y,encodeLocation(k){let m=y(k);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:v,go(k){return o.go(k)}};return w}var ue;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(ue||(ue={}));const Sx=new Set(["lazy","caseSensitive","path","id","index","children"]);function Ex(t){return t.index===!0}function Ta(t,e,r,n){return r===void 0&&(r=[]),n===void 0&&(n={}),t.map((i,s)=>{let o=[...r,String(s)],a=typeof i.id=="string"?i.id:o.join("-");if(re(i.index!==!0||!i.children,"Cannot specify children on an index route"),re(!n[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),Ex(i)){let l=we({},i,e(i),{id:a});return n[a]=l,l}else{let l=we({},i,e(i),{id:a,children:void 0});return n[a]=l,i.children&&(l.children=Ta(i.children,e,o,n)),l}})}function mn(t,e,r){return r===void 0&&(r="/"),Zo(t,e,r,!1)}function Zo(t,e,r,n){let i=typeof e=="string"?sn(e):e,s=Fi(i.pathname||"/",r);if(s==null)return null;let o=ev(t);bx(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=Dx(s);a=Ix(o[l],u,n)}return a}function kx(t,e){let{route:r,pathname:n,params:i}=t;return{id:r.id,pathname:n,params:i,data:e[r.id],handle:r.handle}}function ev(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(re(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=mr([n,l.relativePath]),c=r.concat(l);s.children&&s.children.length>0&&(re(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),ev(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:Ox(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of tv(s.path))i(s,o,l)}),e}function tv(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let o=tv(n.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function bx(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:Nx(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const jx=/^:[\w-]+$/,Px=3,Tx=2,Cx=1,Rx=10,Ax=-2,gf=t=>t==="*";function Ox(t,e){let r=t.split("/"),n=r.length;return r.some(gf)&&(n+=Ax),e&&(n+=Tx),r.filter(i=>!gf(i)).reduce((i,s)=>i+(jx.test(s)?Px:s===""?Cx:Rx),n)}function Nx(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function Ix(t,e,r){r===void 0&&(r=!1);let{routesMeta:n}=t,i={},s="/",o=[];for(let a=0;a<n.length;++a){let l=n[a],u=a===n.length-1,c=s==="/"?e:e.slice(s.length)||"/",h=vf({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),f=l.route;if(!h&&u&&r&&!n[n.length-1].route.index&&(h=vf({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:mr([s,h.pathname]),pathnameBase:zx(mr([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=mr([s,h.pathnameBase]))}return o}function vf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=Lx(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:n.reduce((u,c,h)=>{let{paramName:f,isOptional:v}=c;if(f==="*"){let w=a[h]||"";o=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const y=a[h];return v&&!y?u[f]=void 0:u[f]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function Lx(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Ii(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function Dx(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ii(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Fi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function Mx(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?sn(t):t;return{pathname:r?r.startsWith("/")?r:Ux(r,e):e,search:$x(n),hash:Fx(i)}}function Ux(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Bl(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function rv(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function pd(t,e){let r=rv(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function md(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=sn(t):(i=we({},t),re(!i.pathname||!i.pathname.includes("?"),Bl("?","pathname","search",i)),re(!i.pathname||!i.pathname.includes("#"),Bl("#","pathname","hash",i)),re(!i.search||!i.search.includes("#"),Bl("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=r;else{let h=e.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=Mx(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const mr=t=>t.join("/").replace(/\/\/+/g,"/"),zx=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),$x=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Fx=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Ca{constructor(e,r,n,i){i===void 0&&(i=!1),this.status=e,this.statusText=r||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function Hs(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const nv=["post","put","patch","delete"],Bx=new Set(nv),Vx=["get",...nv],qx=new Set(Vx),Hx=new Set([301,302,303,307,308]),Wx=new Set([307,308]),Vl={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Kx={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},rs={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},gd=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qx=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),iv="remix-router-transitions";function Jx(t){const e=t.window?t.window:typeof window<"u"?window:void 0,r=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",n=!r;re(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let S=t.detectErrorBoundary;i=b=>({hasErrorBoundary:S(b)})}else i=Qx;let s={},o=Ta(t.routes,i,void 0,s),a,l=t.basename||"/",u=t.dataStrategy||Zx,c=t.patchRoutesOnNavigation,h=we({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),f=null,v=new Set,y=null,w=null,k=null,m=t.hydrationData!=null,p=mn(o,t.history.location,l),g=!1,E=null;if(p==null&&!c){let S=lt(404,{pathname:t.history.location.pathname}),{matches:b,route:T}=Tf(o);p=b,E={[T.id]:S}}p&&!t.hydrationData&&co(p,o,t.history.location.pathname).active&&(p=null);let P;if(p)if(p.some(S=>S.route.lazy))P=!1;else if(!p.some(S=>S.route.loader))P=!0;else if(h.v7_partialHydration){let S=t.hydrationData?t.hydrationData.loaderData:null,b=t.hydrationData?t.hydrationData.errors:null;if(b){let T=p.findIndex(O=>b[O.route.id]!==void 0);P=p.slice(0,T+1).every(O=>!rc(O.route,S,b))}else P=p.every(T=>!rc(T.route,S,b))}else P=t.hydrationData!=null;else if(P=!1,p=[],h.v7_partialHydration){let S=co(null,o,t.history.location.pathname);S.active&&S.matches&&(g=!0,p=S.matches)}let j,_={historyAction:t.history.action,location:t.history.location,matches:p,initialized:P,navigation:Vl,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||E,fetchers:new Map,blockers:new Map},R=Ae.Pop,z=!1,A,W=!1,M=new Map,ie=null,ke=!1,st=!1,ot=[],at=new Set,I=new Map,K=0,G=-1,de=new Map,he=new Set,Ot=new Map,mt=new Map,Je=new Set,Ge=new Map,Et=new Map,ao;function Pv(){if(f=t.history.listen(S=>{let{action:b,location:T,delta:O}=S;if(ao){ao(),ao=void 0;return}Ii(Et.size===0||O!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let D=Cd({currentLocation:_.location,nextLocation:T,historyAction:b});if(D&&O!=null){let H=new Promise(Q=>{ao=Q});t.history.go(O*-1),uo(D,{state:"blocked",location:T,proceed(){uo(D,{state:"proceeding",proceed:void 0,reset:void 0,location:T}),H.then(()=>t.history.go(O))},reset(){let Q=new Map(_.blockers);Q.set(D,rs),Ye({blockers:Q})}});return}return on(b,T)}),r){fS(e,M);let S=()=>pS(e,M);e.addEventListener("pagehide",S),ie=()=>e.removeEventListener("pagehide",S)}return _.initialized||on(Ae.Pop,_.location,{initialHydration:!0}),j}function Tv(){f&&f(),ie&&ie(),v.clear(),A&&A.abort(),_.fetchers.forEach((S,b)=>lo(b)),_.blockers.forEach((S,b)=>Td(b))}function Cv(S){return v.add(S),()=>v.delete(S)}function Ye(S,b){b===void 0&&(b={}),_=we({},_,S);let T=[],O=[];h.v7_fetcherPersist&&_.fetchers.forEach((D,H)=>{D.state==="idle"&&(Je.has(H)?O.push(H):T.push(H))}),Je.forEach(D=>{!_.fetchers.has(D)&&!I.has(D)&&O.push(D)}),[...v].forEach(D=>D(_,{deletedFetchers:O,viewTransitionOpts:b.viewTransitionOpts,flushSync:b.flushSync===!0})),h.v7_fetcherPersist?(T.forEach(D=>_.fetchers.delete(D)),O.forEach(D=>lo(D))):O.forEach(D=>Je.delete(D))}function zn(S,b,T){var O,D;let{flushSync:H}=T===void 0?{}:T,Q=_.actionData!=null&&_.navigation.formMethod!=null&&Ft(_.navigation.formMethod)&&_.navigation.state==="loading"&&((O=S.state)==null?void 0:O._isRedirect)!==!0,F;b.actionData?Object.keys(b.actionData).length>0?F=b.actionData:F=null:Q?F=_.actionData:F=null;let V=b.loaderData?jf(_.loaderData,b.loaderData,b.matches||[],b.errors):_.loaderData,$=_.blockers;$.size>0&&($=new Map($),$.forEach((se,$e)=>$.set($e,rs)));let q=z===!0||_.navigation.formMethod!=null&&Ft(_.navigation.formMethod)&&((D=S.state)==null?void 0:D._isRedirect)!==!0;a&&(o=a,a=void 0),ke||R===Ae.Pop||(R===Ae.Push?t.history.push(S,S.state):R===Ae.Replace&&t.history.replace(S,S.state));let X;if(R===Ae.Pop){let se=M.get(_.location.pathname);se&&se.has(S.pathname)?X={currentLocation:_.location,nextLocation:S}:M.has(S.pathname)&&(X={currentLocation:S,nextLocation:_.location})}else if(W){let se=M.get(_.location.pathname);se?se.add(S.pathname):(se=new Set([S.pathname]),M.set(_.location.pathname,se)),X={currentLocation:_.location,nextLocation:S}}Ye(we({},b,{actionData:F,loaderData:V,historyAction:R,location:S,initialized:!0,navigation:Vl,revalidation:"idle",restoreScrollPosition:Ad(S,b.matches||_.matches),preventScrollReset:q,blockers:$}),{viewTransitionOpts:X,flushSync:H===!0}),R=Ae.Pop,z=!1,W=!1,ke=!1,st=!1,ot=[]}async function xd(S,b){if(typeof S=="number"){t.history.go(S);return}let T=tc(_.location,_.matches,l,h.v7_prependBasename,S,h.v7_relativeSplatPath,b==null?void 0:b.fromRouteId,b==null?void 0:b.relative),{path:O,submission:D,error:H}=yf(h.v7_normalizeFormMethod,!1,T,b),Q=_.location,F=qs(_.location,O,b&&b.state);F=we({},F,t.history.encodeLocation(F));let V=b&&b.replace!=null?b.replace:void 0,$=Ae.Push;V===!0?$=Ae.Replace:V===!1||D!=null&&Ft(D.formMethod)&&D.formAction===_.location.pathname+_.location.search&&($=Ae.Replace);let q=b&&"preventScrollReset"in b?b.preventScrollReset===!0:void 0,X=(b&&b.flushSync)===!0,se=Cd({currentLocation:Q,nextLocation:F,historyAction:$});if(se){uo(se,{state:"blocked",location:F,proceed(){uo(se,{state:"proceeding",proceed:void 0,reset:void 0,location:F}),xd(S,b)},reset(){let $e=new Map(_.blockers);$e.set(se,rs),Ye({blockers:$e})}});return}return await on($,F,{submission:D,pendingError:H,preventScrollReset:q,replace:b&&b.replace,enableViewTransition:b&&b.viewTransition,flushSync:X})}function Rv(){if(nl(),Ye({revalidation:"loading"}),_.navigation.state!=="submitting"){if(_.navigation.state==="idle"){on(_.historyAction,_.location,{startUninterruptedRevalidation:!0});return}on(R||_.historyAction,_.navigation.location,{overrideNavigation:_.navigation,enableViewTransition:W===!0})}}async function on(S,b,T){A&&A.abort(),A=null,R=S,ke=(T&&T.startUninterruptedRevalidation)===!0,$v(_.location,_.matches),z=(T&&T.preventScrollReset)===!0,W=(T&&T.enableViewTransition)===!0;let O=a||o,D=T&&T.overrideNavigation,H=T!=null&&T.initialHydration&&_.matches&&_.matches.length>0&&!g?_.matches:mn(O,b,l),Q=(T&&T.flushSync)===!0;if(H&&_.initialized&&!st&&sS(_.location,b)&&!(T&&T.submission&&Ft(T.submission.formMethod))){zn(b,{matches:H},{flushSync:Q});return}let F=co(H,O,b.pathname);if(F.active&&F.matches&&(H=F.matches),!H){let{error:pe,notFoundMatches:le,route:be}=il(b.pathname);zn(b,{matches:le,loaderData:{},errors:{[be.id]:pe}},{flushSync:Q});return}A=new AbortController;let V=Gn(t.history,b,A.signal,T&&T.submission),$;if(T&&T.pendingError)$=[gn(H).route.id,{type:ue.error,error:T.pendingError}];else if(T&&T.submission&&Ft(T.submission.formMethod)){let pe=await Av(V,b,T.submission,H,F.active,{replace:T.replace,flushSync:Q});if(pe.shortCircuited)return;if(pe.pendingActionResult){let[le,be]=pe.pendingActionResult;if(vt(be)&&Hs(be.error)&&be.error.status===404){A=null,zn(b,{matches:pe.matches,loaderData:{},errors:{[le]:be.error}});return}}H=pe.matches||H,$=pe.pendingActionResult,D=ql(b,T.submission),Q=!1,F.active=!1,V=Gn(t.history,V.url,V.signal)}let{shortCircuited:q,matches:X,loaderData:se,errors:$e}=await Ov(V,b,H,F.active,D,T&&T.submission,T&&T.fetcherSubmission,T&&T.replace,T&&T.initialHydration===!0,Q,$);q||(A=null,zn(b,we({matches:X||H},Pf($),{loaderData:se,errors:$e})))}async function Av(S,b,T,O,D,H){H===void 0&&(H={}),nl();let Q=dS(b,T);if(Ye({navigation:Q},{flushSync:H.flushSync===!0}),D){let $=await ho(O,b.pathname,S.signal);if($.type==="aborted")return{shortCircuited:!0};if($.type==="error"){let q=gn($.partialMatches).route.id;return{matches:$.partialMatches,pendingActionResult:[q,{type:ue.error,error:$.error}]}}else if($.matches)O=$.matches;else{let{notFoundMatches:q,error:X,route:se}=il(b.pathname);return{matches:q,pendingActionResult:[se.id,{type:ue.error,error:X}]}}}let F,V=cs(O,b);if(!V.route.action&&!V.route.lazy)F={type:ue.error,error:lt(405,{method:S.method,pathname:b.pathname,routeId:V.route.id})};else if(F=(await Vi("action",_,S,[V],O,null))[V.route.id],S.signal.aborted)return{shortCircuited:!0};if(_n(F)){let $;return H&&H.replace!=null?$=H.replace:$=Ef(F.response.headers.get("Location"),new URL(S.url),l)===_.location.pathname+_.location.search,await an(S,F,!0,{submission:T,replace:$}),{shortCircuited:!0}}if(Vr(F))throw lt(400,{type:"defer-action"});if(vt(F)){let $=gn(O,V.route.id);return(H&&H.replace)!==!0&&(R=Ae.Push),{matches:O,pendingActionResult:[$.route.id,F]}}return{matches:O,pendingActionResult:[V.route.id,F]}}async function Ov(S,b,T,O,D,H,Q,F,V,$,q){let X=D||ql(b,H),se=H||Q||Rf(X),$e=!ke&&(!h.v7_partialHydration||!V);if(O){if($e){let je=Sd(q);Ye(we({navigation:X},je!==void 0?{actionData:je}:{}),{flushSync:$})}let ae=await ho(T,b.pathname,S.signal);if(ae.type==="aborted")return{shortCircuited:!0};if(ae.type==="error"){let je=gn(ae.partialMatches).route.id;return{matches:ae.partialMatches,loaderData:{},errors:{[je]:ae.error}}}else if(ae.matches)T=ae.matches;else{let{error:je,notFoundMatches:Fn,route:Wi}=il(b.pathname);return{matches:Fn,loaderData:{},errors:{[Wi.id]:je}}}}let pe=a||o,[le,be]=_f(t.history,_,T,se,b,h.v7_partialHydration&&V===!0,h.v7_skipActionErrorRevalidation,st,ot,at,Je,Ot,he,pe,l,q);if(sl(ae=>!(T&&T.some(je=>je.route.id===ae))||le&&le.some(je=>je.route.id===ae)),G=++K,le.length===0&&be.length===0){let ae=jd();return zn(b,we({matches:T,loaderData:{},errors:q&&vt(q[1])?{[q[0]]:q[1].error}:null},Pf(q),ae?{fetchers:new Map(_.fetchers)}:{}),{flushSync:$}),{shortCircuited:!0}}if($e){let ae={};if(!O){ae.navigation=X;let je=Sd(q);je!==void 0&&(ae.actionData=je)}be.length>0&&(ae.fetchers=Nv(be)),Ye(ae,{flushSync:$})}be.forEach(ae=>{Er(ae.key),ae.controller&&I.set(ae.key,ae.controller)});let $n=()=>be.forEach(ae=>Er(ae.key));A&&A.signal.addEventListener("abort",$n);let{loaderResults:qi,fetcherResults:ir}=await Ed(_,T,le,be,S);if(S.signal.aborted)return{shortCircuited:!0};A&&A.signal.removeEventListener("abort",$n),be.forEach(ae=>I.delete(ae.key));let Kt=zo(qi);if(Kt)return await an(S,Kt.result,!0,{replace:F}),{shortCircuited:!0};if(Kt=zo(ir),Kt)return he.add(Kt.key),await an(S,Kt.result,!0,{replace:F}),{shortCircuited:!0};let{loaderData:ol,errors:Hi}=bf(_,T,qi,q,be,ir,Ge);Ge.forEach((ae,je)=>{ae.subscribe(Fn=>{(Fn||ae.done)&&Ge.delete(je)})}),h.v7_partialHydration&&V&&_.errors&&(Hi=we({},_.errors,Hi));let ln=jd(),fo=Pd(G),po=ln||fo||be.length>0;return we({matches:T,loaderData:ol,errors:Hi},po?{fetchers:new Map(_.fetchers)}:{})}function Sd(S){if(S&&!vt(S[1]))return{[S[0]]:S[1].data};if(_.actionData)return Object.keys(_.actionData).length===0?null:_.actionData}function Nv(S){return S.forEach(b=>{let T=_.fetchers.get(b.key),O=ns(void 0,T?T.data:void 0);_.fetchers.set(b.key,O)}),new Map(_.fetchers)}function Iv(S,b,T,O){if(n)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Er(S);let D=(O&&O.flushSync)===!0,H=a||o,Q=tc(_.location,_.matches,l,h.v7_prependBasename,T,h.v7_relativeSplatPath,b,O==null?void 0:O.relative),F=mn(H,Q,l),V=co(F,H,Q);if(V.active&&V.matches&&(F=V.matches),!F){nr(S,b,lt(404,{pathname:Q}),{flushSync:D});return}let{path:$,submission:q,error:X}=yf(h.v7_normalizeFormMethod,!0,Q,O);if(X){nr(S,b,X,{flushSync:D});return}let se=cs(F,$),$e=(O&&O.preventScrollReset)===!0;if(q&&Ft(q.formMethod)){Lv(S,b,$,se,F,V.active,D,$e,q);return}Ot.set(S,{routeId:b,path:$}),Dv(S,b,$,se,F,V.active,D,$e,q)}async function Lv(S,b,T,O,D,H,Q,F,V){nl(),Ot.delete(S);function $(Re){if(!Re.route.action&&!Re.route.lazy){let Bn=lt(405,{method:V.formMethod,pathname:T,routeId:b});return nr(S,b,Bn,{flushSync:Q}),!0}return!1}if(!H&&$(O))return;let q=_.fetchers.get(S);Sr(S,hS(V,q),{flushSync:Q});let X=new AbortController,se=Gn(t.history,T,X.signal,V);if(H){let Re=await ho(D,new URL(se.url).pathname,se.signal,S);if(Re.type==="aborted")return;if(Re.type==="error"){nr(S,b,Re.error,{flushSync:Q});return}else if(Re.matches){if(D=Re.matches,O=cs(D,T),$(O))return}else{nr(S,b,lt(404,{pathname:T}),{flushSync:Q});return}}I.set(S,X);let $e=K,le=(await Vi("action",_,se,[O],D,S))[O.route.id];if(se.signal.aborted){I.get(S)===X&&I.delete(S);return}if(h.v7_fetcherPersist&&Je.has(S)){if(_n(le)||vt(le)){Sr(S,Tr(void 0));return}}else{if(_n(le))if(I.delete(S),G>$e){Sr(S,Tr(void 0));return}else return he.add(S),Sr(S,ns(V)),an(se,le,!1,{fetcherSubmission:V,preventScrollReset:F});if(vt(le)){nr(S,b,le.error);return}}if(Vr(le))throw lt(400,{type:"defer-action"});let be=_.navigation.location||_.location,$n=Gn(t.history,be,X.signal),qi=a||o,ir=_.navigation.state!=="idle"?mn(qi,_.navigation.location,l):_.matches;re(ir,"Didn't find any matches after fetcher action");let Kt=++K;de.set(S,Kt);let ol=ns(V,le.data);_.fetchers.set(S,ol);let[Hi,ln]=_f(t.history,_,ir,V,be,!1,h.v7_skipActionErrorRevalidation,st,ot,at,Je,Ot,he,qi,l,[O.route.id,le]);ln.filter(Re=>Re.key!==S).forEach(Re=>{let Bn=Re.key,Od=_.fetchers.get(Bn),Vv=ns(void 0,Od?Od.data:void 0);_.fetchers.set(Bn,Vv),Er(Bn),Re.controller&&I.set(Bn,Re.controller)}),Ye({fetchers:new Map(_.fetchers)});let fo=()=>ln.forEach(Re=>Er(Re.key));X.signal.addEventListener("abort",fo);let{loaderResults:po,fetcherResults:ae}=await Ed(_,ir,Hi,ln,$n);if(X.signal.aborted)return;X.signal.removeEventListener("abort",fo),de.delete(S),I.delete(S),ln.forEach(Re=>I.delete(Re.key));let je=zo(po);if(je)return an($n,je.result,!1,{preventScrollReset:F});if(je=zo(ae),je)return he.add(je.key),an($n,je.result,!1,{preventScrollReset:F});let{loaderData:Fn,errors:Wi}=bf(_,ir,po,void 0,ln,ae,Ge);if(_.fetchers.has(S)){let Re=Tr(le.data);_.fetchers.set(S,Re)}Pd(Kt),_.navigation.state==="loading"&&Kt>G?(re(R,"Expected pending action"),A&&A.abort(),zn(_.navigation.location,{matches:ir,loaderData:Fn,errors:Wi,fetchers:new Map(_.fetchers)})):(Ye({errors:Wi,loaderData:jf(_.loaderData,Fn,ir,Wi),fetchers:new Map(_.fetchers)}),st=!1)}async function Dv(S,b,T,O,D,H,Q,F,V){let $=_.fetchers.get(S);Sr(S,ns(V,$?$.data:void 0),{flushSync:Q});let q=new AbortController,X=Gn(t.history,T,q.signal);if(H){let le=await ho(D,new URL(X.url).pathname,X.signal,S);if(le.type==="aborted")return;if(le.type==="error"){nr(S,b,le.error,{flushSync:Q});return}else if(le.matches)D=le.matches,O=cs(D,T);else{nr(S,b,lt(404,{pathname:T}),{flushSync:Q});return}}I.set(S,q);let se=K,pe=(await Vi("loader",_,X,[O],D,S))[O.route.id];if(Vr(pe)&&(pe=await vd(pe,X.signal,!0)||pe),I.get(S)===q&&I.delete(S),!X.signal.aborted){if(Je.has(S)){Sr(S,Tr(void 0));return}if(_n(pe))if(G>se){Sr(S,Tr(void 0));return}else{he.add(S),await an(X,pe,!1,{preventScrollReset:F});return}if(vt(pe)){nr(S,b,pe.error);return}re(!Vr(pe),"Unhandled fetcher deferred data"),Sr(S,Tr(pe.data))}}async function an(S,b,T,O){let{submission:D,fetcherSubmission:H,preventScrollReset:Q,replace:F}=O===void 0?{}:O;b.response.headers.has("X-Remix-Revalidate")&&(st=!0);let V=b.response.headers.get("Location");re(V,"Expected a Location header on the redirect Response"),V=Ef(V,new URL(S.url),l);let $=qs(_.location,V,{_isRedirect:!0});if(r){let le=!1;if(b.response.headers.has("X-Remix-Reload-Document"))le=!0;else if(gd.test(V)){const be=t.history.createURL(V);le=be.origin!==e.location.origin||Fi(be.pathname,l)==null}if(le){F?e.location.replace(V):e.location.assign(V);return}}A=null;let q=F===!0||b.response.headers.has("X-Remix-Replace")?Ae.Replace:Ae.Push,{formMethod:X,formAction:se,formEncType:$e}=_.navigation;!D&&!H&&X&&se&&$e&&(D=Rf(_.navigation));let pe=D||H;if(Wx.has(b.response.status)&&pe&&Ft(pe.formMethod))await on(q,$,{submission:we({},pe,{formAction:V}),preventScrollReset:Q||z,enableViewTransition:T?W:void 0});else{let le=ql($,D);await on(q,$,{overrideNavigation:le,fetcherSubmission:H,preventScrollReset:Q||z,enableViewTransition:T?W:void 0})}}async function Vi(S,b,T,O,D,H){let Q,F={};try{Q=await eS(u,S,b,T,O,D,H,s,i)}catch(V){return O.forEach($=>{F[$.route.id]={type:ue.error,error:V}}),F}for(let[V,$]of Object.entries(Q))if(oS($)){let q=$.result;F[V]={type:ue.redirect,response:nS(q,T,V,D,l,h.v7_relativeSplatPath)}}else F[V]=await rS($);return F}async function Ed(S,b,T,O,D){let H=S.matches,Q=Vi("loader",S,D,T,b,null),F=Promise.all(O.map(async q=>{if(q.matches&&q.match&&q.controller){let se=(await Vi("loader",S,Gn(t.history,q.path,q.controller.signal),[q.match],q.matches,q.key))[q.match.route.id];return{[q.key]:se}}else return Promise.resolve({[q.key]:{type:ue.error,error:lt(404,{pathname:q.path})}})})),V=await Q,$=(await F).reduce((q,X)=>Object.assign(q,X),{});return await Promise.all([uS(b,V,D.signal,H,S.loaderData),cS(b,$,O)]),{loaderResults:V,fetcherResults:$}}function nl(){st=!0,ot.push(...sl()),Ot.forEach((S,b)=>{I.has(b)&&at.add(b),Er(b)})}function Sr(S,b,T){T===void 0&&(T={}),_.fetchers.set(S,b),Ye({fetchers:new Map(_.fetchers)},{flushSync:(T&&T.flushSync)===!0})}function nr(S,b,T,O){O===void 0&&(O={});let D=gn(_.matches,b);lo(S),Ye({errors:{[D.route.id]:T},fetchers:new Map(_.fetchers)},{flushSync:(O&&O.flushSync)===!0})}function kd(S){return mt.set(S,(mt.get(S)||0)+1),Je.has(S)&&Je.delete(S),_.fetchers.get(S)||Kx}function lo(S){let b=_.fetchers.get(S);I.has(S)&&!(b&&b.state==="loading"&&de.has(S))&&Er(S),Ot.delete(S),de.delete(S),he.delete(S),h.v7_fetcherPersist&&Je.delete(S),at.delete(S),_.fetchers.delete(S)}function Mv(S){let b=(mt.get(S)||0)-1;b<=0?(mt.delete(S),Je.add(S),h.v7_fetcherPersist||lo(S)):mt.set(S,b),Ye({fetchers:new Map(_.fetchers)})}function Er(S){let b=I.get(S);b&&(b.abort(),I.delete(S))}function bd(S){for(let b of S){let T=kd(b),O=Tr(T.data);_.fetchers.set(b,O)}}function jd(){let S=[],b=!1;for(let T of he){let O=_.fetchers.get(T);re(O,"Expected fetcher: "+T),O.state==="loading"&&(he.delete(T),S.push(T),b=!0)}return bd(S),b}function Pd(S){let b=[];for(let[T,O]of de)if(O<S){let D=_.fetchers.get(T);re(D,"Expected fetcher: "+T),D.state==="loading"&&(Er(T),de.delete(T),b.push(T))}return bd(b),b.length>0}function Uv(S,b){let T=_.blockers.get(S)||rs;return Et.get(S)!==b&&Et.set(S,b),T}function Td(S){_.blockers.delete(S),Et.delete(S)}function uo(S,b){let T=_.blockers.get(S)||rs;re(T.state==="unblocked"&&b.state==="blocked"||T.state==="blocked"&&b.state==="blocked"||T.state==="blocked"&&b.state==="proceeding"||T.state==="blocked"&&b.state==="unblocked"||T.state==="proceeding"&&b.state==="unblocked","Invalid blocker state transition: "+T.state+" -> "+b.state);let O=new Map(_.blockers);O.set(S,b),Ye({blockers:O})}function Cd(S){let{currentLocation:b,nextLocation:T,historyAction:O}=S;if(Et.size===0)return;Et.size>1&&Ii(!1,"A router only supports one blocker at a time");let D=Array.from(Et.entries()),[H,Q]=D[D.length-1],F=_.blockers.get(H);if(!(F&&F.state==="proceeding")&&Q({currentLocation:b,nextLocation:T,historyAction:O}))return H}function il(S){let b=lt(404,{pathname:S}),T=a||o,{matches:O,route:D}=Tf(T);return sl(),{notFoundMatches:O,route:D,error:b}}function sl(S){let b=[];return Ge.forEach((T,O)=>{(!S||S(O))&&(T.cancel(),b.push(O),Ge.delete(O))}),b}function zv(S,b,T){if(y=S,k=b,w=T||null,!m&&_.navigation===Vl){m=!0;let O=Ad(_.location,_.matches);O!=null&&Ye({restoreScrollPosition:O})}return()=>{y=null,k=null,w=null}}function Rd(S,b){return w&&w(S,b.map(O=>kx(O,_.loaderData)))||S.key}function $v(S,b){if(y&&k){let T=Rd(S,b);y[T]=k()}}function Ad(S,b){if(y){let T=Rd(S,b),O=y[T];if(typeof O=="number")return O}return null}function co(S,b,T){if(c)if(S){if(Object.keys(S[0].params).length>0)return{active:!0,matches:Zo(b,T,l,!0)}}else return{active:!0,matches:Zo(b,T,l,!0)||[]};return{active:!1,matches:null}}async function ho(S,b,T,O){if(!c)return{type:"success",matches:S};let D=S;for(;;){let H=a==null,Q=a||o,F=s;try{await c({signal:T,path:b,matches:D,fetcherKey:O,patch:(q,X)=>{T.aborted||Sf(q,X,Q,F,i)}})}catch(q){return{type:"error",error:q,partialMatches:D}}finally{H&&!T.aborted&&(o=[...o])}if(T.aborted)return{type:"aborted"};let V=mn(Q,b,l);if(V)return{type:"success",matches:V};let $=Zo(Q,b,l,!0);if(!$||D.length===$.length&&D.every((q,X)=>q.route.id===$[X].route.id))return{type:"success",matches:null};D=$}}function Fv(S){s={},a=Ta(S,i,void 0,s)}function Bv(S,b){let T=a==null;Sf(S,b,a||o,s,i),T&&(o=[...o],Ye({}))}return j={get basename(){return l},get future(){return h},get state(){return _},get routes(){return o},get window(){return e},initialize:Pv,subscribe:Cv,enableScrollRestoration:zv,navigate:xd,fetch:Iv,revalidate:Rv,createHref:S=>t.history.createHref(S),encodeLocation:S=>t.history.encodeLocation(S),getFetcher:kd,deleteFetcher:Mv,dispose:Tv,getBlocker:Uv,deleteBlocker:Td,patchRoutes:Bv,_internalFetchControllers:I,_internalActiveDeferreds:Ge,_internalSetRoutes:Fv},j}function Gx(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function tc(t,e,r,n,i,s,o,a){let l,u;if(o){l=[];for(let h of e)if(l.push(h),h.route.id===o){u=h;break}}else l=e,u=e[e.length-1];let c=md(i||".",pd(l,s),Fi(t.pathname,r)||t.pathname,a==="path");if(i==null&&(c.search=t.search,c.hash=t.hash),(i==null||i===""||i===".")&&u){let h=yd(c.search);if(u.route.index&&!h)c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index";else if(!u.route.index&&h){let f=new URLSearchParams(c.search),v=f.getAll("index");f.delete("index"),v.filter(w=>w).forEach(w=>f.append("index",w));let y=f.toString();c.search=y?"?"+y:""}}return n&&r!=="/"&&(c.pathname=c.pathname==="/"?r:mr([r,c.pathname])),In(c)}function yf(t,e,r,n){if(!n||!Gx(n))return{path:r};if(n.formMethod&&!lS(n.formMethod))return{path:r,error:lt(405,{method:n.formMethod})};let i=()=>({path:r,error:lt(400,{type:"invalid-body"})}),s=n.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),a=av(r);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Ft(o))return i();let f=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((v,y)=>{let[w,k]=y;return""+v+w+"="+k+`
`},""):String(n.body);return{path:r,submission:{formMethod:o,formAction:a,formEncType:n.formEncType,formData:void 0,json:void 0,text:f}}}else if(n.formEncType==="application/json"){if(!Ft(o))return i();try{let f=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:r,submission:{formMethod:o,formAction:a,formEncType:n.formEncType,formData:void 0,json:f,text:void 0}}}catch{return i()}}}re(typeof FormData=="function","FormData is not available in this environment");let l,u;if(n.formData)l=nc(n.formData),u=n.formData;else if(n.body instanceof FormData)l=nc(n.body),u=n.body;else if(n.body instanceof URLSearchParams)l=n.body,u=kf(l);else if(n.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(n.body),u=kf(l)}catch{return i()}let c={formMethod:o,formAction:a,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(Ft(c.formMethod))return{path:r,submission:c};let h=sn(r);return e&&h.search&&yd(h.search)&&l.append("index",""),h.search="?"+l,{path:In(h),submission:c}}function wf(t,e,r){r===void 0&&(r=!1);let n=t.findIndex(i=>i.route.id===e);return n>=0?t.slice(0,r?n+1:n):t}function _f(t,e,r,n,i,s,o,a,l,u,c,h,f,v,y,w){let k=w?vt(w[1])?w[1].error:w[1].data:void 0,m=t.createURL(e.location),p=t.createURL(i),g=r;s&&e.errors?g=wf(r,Object.keys(e.errors)[0],!0):w&&vt(w[1])&&(g=wf(r,w[0]));let E=w?w[1].statusCode:void 0,P=o&&E&&E>=400,j=g.filter((R,z)=>{let{route:A}=R;if(A.lazy)return!0;if(A.loader==null)return!1;if(s)return rc(A,e.loaderData,e.errors);if(Yx(e.loaderData,e.matches[z],R)||l.some(ie=>ie===R.route.id))return!0;let W=e.matches[z],M=R;return xf(R,we({currentUrl:m,currentParams:W.params,nextUrl:p,nextParams:M.params},n,{actionResult:k,actionStatus:E,defaultShouldRevalidate:P?!1:a||m.pathname+m.search===p.pathname+p.search||m.search!==p.search||sv(W,M)}))}),_=[];return h.forEach((R,z)=>{if(s||!r.some(ke=>ke.route.id===R.routeId)||c.has(z))return;let A=mn(v,R.path,y);if(!A){_.push({key:z,routeId:R.routeId,path:R.path,matches:null,match:null,controller:null});return}let W=e.fetchers.get(z),M=cs(A,R.path),ie=!1;f.has(z)?ie=!1:u.has(z)?(u.delete(z),ie=!0):W&&W.state!=="idle"&&W.data===void 0?ie=a:ie=xf(M,we({currentUrl:m,currentParams:e.matches[e.matches.length-1].params,nextUrl:p,nextParams:r[r.length-1].params},n,{actionResult:k,actionStatus:E,defaultShouldRevalidate:P?!1:a})),ie&&_.push({key:z,routeId:R.routeId,path:R.path,matches:A,match:M,controller:new AbortController})}),[j,_]}function rc(t,e,r){if(t.lazy)return!0;if(!t.loader)return!1;let n=e!=null&&e[t.id]!==void 0,i=r!=null&&r[t.id]!==void 0;return!n&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!n&&!i}function Yx(t,e,r){let n=!e||r.route.id!==e.route.id,i=t[r.route.id]===void 0;return n||i}function sv(t,e){let r=t.route.path;return t.pathname!==e.pathname||r!=null&&r.endsWith("*")&&t.params["*"]!==e.params["*"]}function xf(t,e){if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate(e);if(typeof r=="boolean")return r}return e.defaultShouldRevalidate}function Sf(t,e,r,n,i){var s;let o;if(t){let u=n[t];re(u,"No route found to patch children into: routeId = "+t),u.children||(u.children=[]),o=u.children}else o=r;let a=e.filter(u=>!o.some(c=>ov(u,c))),l=Ta(a,i,[t||"_","patch",String(((s=o)==null?void 0:s.length)||"0")],n);o.push(...l)}function ov(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((r,n)=>{var i;return(i=e.children)==null?void 0:i.some(s=>ov(r,s))}):!1}async function Xx(t,e,r){if(!t.lazy)return;let n=await t.lazy();if(!t.lazy)return;let i=r[t.id];re(i,"No route found in manifest");let s={};for(let o in n){let l=i[o]!==void 0&&o!=="hasErrorBoundary";Ii(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!Sx.has(o)&&(s[o]=n[o])}Object.assign(i,s),Object.assign(i,we({},e(i),{lazy:void 0}))}async function Zx(t){let{matches:e}=t,r=e.filter(i=>i.shouldLoad);return(await Promise.all(r.map(i=>i.resolve()))).reduce((i,s,o)=>Object.assign(i,{[r[o].route.id]:s}),{})}async function eS(t,e,r,n,i,s,o,a,l,u){let c=s.map(v=>v.route.lazy?Xx(v.route,l,a):void 0),h=s.map((v,y)=>{let w=c[y],k=i.some(p=>p.route.id===v.route.id);return we({},v,{shouldLoad:k,resolve:async p=>(p&&n.method==="GET"&&(v.route.lazy||v.route.loader)&&(k=!0),k?tS(e,n,v,w,p,u):Promise.resolve({type:ue.data,result:void 0}))})}),f=await t({matches:h,request:n,params:s[0].params,fetcherKey:o,context:u});try{await Promise.all(c)}catch{}return f}async function tS(t,e,r,n,i,s){let o,a,l=u=>{let c,h=new Promise((y,w)=>c=w);a=()=>c(),e.signal.addEventListener("abort",a);let f=y=>typeof u!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+r.route.id+"]"))):u({request:e,params:r.params,context:s},...y!==void 0?[y]:[]),v=(async()=>{try{return{type:"data",result:await(i?i(w=>f(w)):f())}}catch(y){return{type:"error",result:y}}})();return Promise.race([v,h])};try{let u=r.route[t];if(n)if(u){let c,[h]=await Promise.all([l(u).catch(f=>{c=f}),n]);if(c!==void 0)throw c;o=h}else if(await n,u=r.route[t],u)o=await l(u);else if(t==="action"){let c=new URL(e.url),h=c.pathname+c.search;throw lt(405,{method:e.method,pathname:h,routeId:r.route.id})}else return{type:ue.data,result:void 0};else if(u)o=await l(u);else{let c=new URL(e.url),h=c.pathname+c.search;throw lt(404,{pathname:h})}re(o.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+r.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(u){return{type:ue.error,result:u}}finally{a&&e.signal.removeEventListener("abort",a)}return o}async function rS(t){let{result:e,type:r}=t;if(lv(e)){let h;try{let f=e.headers.get("Content-Type");f&&/\bapplication\/json\b/.test(f)?e.body==null?h=null:h=await e.json():h=await e.text()}catch(f){return{type:ue.error,error:f}}return r===ue.error?{type:ue.error,error:new Ca(e.status,e.statusText,h),statusCode:e.status,headers:e.headers}:{type:ue.data,data:h,statusCode:e.status,headers:e.headers}}if(r===ue.error){if(Cf(e)){var n,i;if(e.data instanceof Error){var s,o;return{type:ue.error,error:e.data,statusCode:(s=e.init)==null?void 0:s.status,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}}return{type:ue.error,error:new Ca(((n=e.init)==null?void 0:n.status)||500,void 0,e.data),statusCode:Hs(e)?e.status:void 0,headers:(i=e.init)!=null&&i.headers?new Headers(e.init.headers):void 0}}return{type:ue.error,error:e,statusCode:Hs(e)?e.status:void 0}}if(aS(e)){var a,l;return{type:ue.deferred,deferredData:e,statusCode:(a=e.init)==null?void 0:a.status,headers:((l=e.init)==null?void 0:l.headers)&&new Headers(e.init.headers)}}if(Cf(e)){var u,c;return{type:ue.data,data:e.data,statusCode:(u=e.init)==null?void 0:u.status,headers:(c=e.init)!=null&&c.headers?new Headers(e.init.headers):void 0}}return{type:ue.data,data:e}}function nS(t,e,r,n,i,s){let o=t.headers.get("Location");if(re(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!gd.test(o)){let a=n.slice(0,n.findIndex(l=>l.route.id===r)+1);o=tc(new URL(e.url),a,i,!0,o,s),t.headers.set("Location",o)}return t}function Ef(t,e,r){if(gd.test(t)){let n=t,i=n.startsWith("//")?new URL(e.protocol+n):new URL(n),s=Fi(i.pathname,r)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function Gn(t,e,r,n){let i=t.createURL(av(e)).toString(),s={signal:r};if(n&&Ft(n.formMethod)){let{formMethod:o,formEncType:a}=n;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(n.json)):a==="text/plain"?s.body=n.text:a==="application/x-www-form-urlencoded"&&n.formData?s.body=nc(n.formData):s.body=n.formData}return new Request(i,s)}function nc(t){let e=new URLSearchParams;for(let[r,n]of t.entries())e.append(r,typeof n=="string"?n:n.name);return e}function kf(t){let e=new FormData;for(let[r,n]of t.entries())e.append(r,n);return e}function iS(t,e,r,n,i){let s={},o=null,a,l=!1,u={},c=r&&vt(r[1])?r[1].error:void 0;return t.forEach(h=>{if(!(h.route.id in e))return;let f=h.route.id,v=e[f];if(re(!_n(v),"Cannot handle redirect results in processLoaderData"),vt(v)){let y=v.error;c!==void 0&&(y=c,c=void 0),o=o||{};{let w=gn(t,f);o[w.route.id]==null&&(o[w.route.id]=y)}s[f]=void 0,l||(l=!0,a=Hs(v.error)?v.error.status:500),v.headers&&(u[f]=v.headers)}else Vr(v)?(n.set(f,v.deferredData),s[f]=v.deferredData.data,v.statusCode!=null&&v.statusCode!==200&&!l&&(a=v.statusCode),v.headers&&(u[f]=v.headers)):(s[f]=v.data,v.statusCode&&v.statusCode!==200&&!l&&(a=v.statusCode),v.headers&&(u[f]=v.headers))}),c!==void 0&&r&&(o={[r[0]]:c},s[r[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:u}}function bf(t,e,r,n,i,s,o){let{loaderData:a,errors:l}=iS(e,r,n,o);return i.forEach(u=>{let{key:c,match:h,controller:f}=u,v=s[c];if(re(v,"Did not find corresponding fetcher result"),!(f&&f.signal.aborted))if(vt(v)){let y=gn(t.matches,h==null?void 0:h.route.id);l&&l[y.route.id]||(l=we({},l,{[y.route.id]:v.error})),t.fetchers.delete(c)}else if(_n(v))re(!1,"Unhandled fetcher revalidation redirect");else if(Vr(v))re(!1,"Unhandled fetcher deferred data");else{let y=Tr(v.data);t.fetchers.set(c,y)}}),{loaderData:a,errors:l}}function jf(t,e,r,n){let i=we({},e);for(let s of r){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),n&&n.hasOwnProperty(o))break}return i}function Pf(t){return t?vt(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function gn(t,e){return(e?t.slice(0,t.findIndex(n=>n.route.id===e)+1):[...t]).reverse().find(n=>n.route.hasErrorBoundary===!0)||t[0]}function Tf(t){let e=t.length===1?t[0]:t.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function lt(t,e){let{pathname:r,routeId:n,method:i,type:s,message:o}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",i&&r&&n?l="You made a "+i+' request to "'+r+'" but '+('did not provide a `loader` for route "'+n+'", ')+"so there is no way to handle the request.":s==="defer-action"?l="defer() is not supported in actions":s==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l='Route "'+n+'" does not match URL "'+r+'"'):t===404?(a="Not Found",l='No route matches URL "'+r+'"'):t===405&&(a="Method Not Allowed",i&&r&&n?l="You made a "+i.toUpperCase()+' request to "'+r+'" but '+('did not provide an `action` for route "'+n+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new Ca(t||500,a,new Error(l),!0)}function zo(t){let e=Object.entries(t);for(let r=e.length-1;r>=0;r--){let[n,i]=e[r];if(_n(i))return{key:n,result:i}}}function av(t){let e=typeof t=="string"?sn(t):t;return In(we({},e,{hash:""}))}function sS(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function oS(t){return lv(t.result)&&Hx.has(t.result.status)}function Vr(t){return t.type===ue.deferred}function vt(t){return t.type===ue.error}function _n(t){return(t&&t.type)===ue.redirect}function Cf(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function aS(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function lv(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function lS(t){return qx.has(t.toLowerCase())}function Ft(t){return Bx.has(t.toLowerCase())}async function uS(t,e,r,n,i){let s=Object.entries(e);for(let o=0;o<s.length;o++){let[a,l]=s[o],u=t.find(f=>(f==null?void 0:f.route.id)===a);if(!u)continue;let c=n.find(f=>f.route.id===u.route.id),h=c!=null&&!sv(c,u)&&(i&&i[u.route.id])!==void 0;Vr(l)&&h&&await vd(l,r,!1).then(f=>{f&&(e[a]=f)})}}async function cS(t,e,r){for(let n=0;n<r.length;n++){let{key:i,routeId:s,controller:o}=r[n],a=e[i];t.find(u=>(u==null?void 0:u.route.id)===s)&&Vr(a)&&(re(o,"Expected an AbortController for revalidating fetcher deferred result"),await vd(a,o.signal,!0).then(u=>{u&&(e[i]=u)}))}}async function vd(t,e,r){if(r===void 0&&(r=!1),!await t.deferredData.resolveData(e)){if(r)try{return{type:ue.data,data:t.deferredData.unwrappedData}}catch(i){return{type:ue.error,error:i}}return{type:ue.data,data:t.deferredData.data}}}function yd(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function cs(t,e){let r=typeof e=="string"?sn(e).search:e.search;if(t[t.length-1].route.index&&yd(r||""))return t[t.length-1];let n=rv(t);return n[n.length-1]}function Rf(t){let{formMethod:e,formAction:r,formEncType:n,text:i,formData:s,json:o}=t;if(!(!e||!r||!n)){if(i!=null)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:r,formEncType:n,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:o,text:void 0}}}function ql(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function dS(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function ns(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function hS(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Tr(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function fS(t,e){try{let r=t.sessionStorage.getItem(iv);if(r){let n=JSON.parse(r);for(let[i,s]of Object.entries(n||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function pS(t,e){if(e.size>0){let r={};for(let[n,i]of e)r[n]=[...i];try{t.sessionStorage.setItem(iv,JSON.stringify(r))}catch(n){Ii(!1,"Failed to save applied view transitions in sessionStorage ("+n+").")}}}/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ra(){return Ra=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ra.apply(this,arguments)}const el=x.createContext(null),uv=x.createContext(null),Un=x.createContext(null),wd=x.createContext(null),xr=x.createContext({outlet:null,matches:[],isDataRoute:!1}),cv=x.createContext(null);function mS(t,e){let{relative:r}=e===void 0?{}:e;oo()||re(!1);let{basename:n,navigator:i}=x.useContext(Un),{hash:s,pathname:o,search:a}=hv(t,{relative:r}),l=o;return n!=="/"&&(l=o==="/"?n:mr([n,o])),i.createHref({pathname:l,search:a,hash:s})}function oo(){return x.useContext(wd)!=null}function Bi(){return oo()||re(!1),x.useContext(wd).location}function dv(t){x.useContext(Un).static||x.useLayoutEffect(t)}function tl(){let{isDataRoute:t}=x.useContext(xr);return t?CS():gS()}function gS(){oo()||re(!1);let t=x.useContext(el),{basename:e,future:r,navigator:n}=x.useContext(Un),{matches:i}=x.useContext(xr),{pathname:s}=Bi(),o=JSON.stringify(pd(i,r.v7_relativeSplatPath)),a=x.useRef(!1);return dv(()=>{a.current=!0}),x.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){n.go(u);return}let h=md(u,JSON.parse(o),s,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:mr([e,h.pathname])),(c.replace?n.replace:n.push)(h,c.state,c)},[e,n,o,s,t])}const vS=x.createContext(null);function yS(t){let e=x.useContext(xr).outlet;return e&&x.createElement(vS.Provider,{value:t},e)}function tj(){let{matches:t}=x.useContext(xr),e=t[t.length-1];return e?e.params:{}}function hv(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=x.useContext(Un),{matches:i}=x.useContext(xr),{pathname:s}=Bi(),o=JSON.stringify(pd(i,n.v7_relativeSplatPath));return x.useMemo(()=>md(t,JSON.parse(o),s,r==="path"),[t,o,s,r])}function wS(t,e,r,n){oo()||re(!1);let{navigator:i}=x.useContext(Un),{matches:s}=x.useContext(xr),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Bi(),c;c=u;let h=c.pathname||"/",f=h;if(l!=="/"){let w=l.replace(/^\//,"").split("/");f="/"+h.replace(/^\//,"").split("/").slice(w.length).join("/")}let v=mn(t,{pathname:f});return kS(v&&v.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:mr([l,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:mr([l,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),s,r,n)}function _S(){let t=TS(),e=Hs(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),r?x.createElement("pre",{style:i},r):null,null)}const xS=x.createElement(_S,null);class SS extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?x.createElement(xr.Provider,{value:this.props.routeContext},x.createElement(cv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ES(t){let{routeContext:e,match:r,children:n}=t,i=x.useContext(el);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),x.createElement(xr.Provider,{value:e},n)}function kS(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,a=(i=r)==null?void 0:i.errors;if(a!=null){let c=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);c>=0||re(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let c=0;c<o.length;c++){let h=o[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=c),h.route.id){let{loaderData:f,errors:v}=r,y=h.route.loader&&f[h.route.id]===void 0&&(!v||v[h.route.id]===void 0);if(h.route.lazy||y){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,h,f)=>{let v,y=!1,w=null,k=null;r&&(v=a&&h.route.id?a[h.route.id]:void 0,w=h.route.errorElement||xS,l&&(u<0&&f===0?(y=!0,k=null):u===f&&(y=!0,k=h.route.hydrateFallbackElement||null)));let m=e.concat(o.slice(0,f+1)),p=()=>{let g;return v?g=w:y?g=k:h.route.Component?g=x.createElement(h.route.Component,null):h.route.element?g=h.route.element:g=c,x.createElement(ES,{match:h,routeContext:{outlet:c,matches:m,isDataRoute:r!=null},children:g})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?x.createElement(SS,{location:r.location,revalidation:r.revalidation,component:w,error:v,children:p(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):p()},null)}var fv=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(fv||{}),Aa=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Aa||{});function bS(t){let e=x.useContext(el);return e||re(!1),e}function jS(t){let e=x.useContext(uv);return e||re(!1),e}function PS(t){let e=x.useContext(xr);return e||re(!1),e}function pv(t){let e=PS(),r=e.matches[e.matches.length-1];return r.route.id||re(!1),r.route.id}function TS(){var t;let e=x.useContext(cv),r=jS(Aa.UseRouteError),n=pv(Aa.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function CS(){let{router:t}=bS(fv.UseNavigateStable),e=pv(Aa.UseNavigateStable),r=x.useRef(!1);return dv(()=>{r.current=!0}),x.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Ra({fromRouteId:e},s)))},[t,e])}function RS(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function Af(t){return yS(t.context)}function AS(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Ae.Pop,navigator:s,static:o=!1,future:a}=t;oo()&&re(!1);let l=e.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:l,navigator:s,static:o,future:Ra({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof n=="string"&&(n=sn(n));let{pathname:c="/",search:h="",hash:f="",state:v=null,key:y="default"}=n,w=x.useMemo(()=>{let k=Fi(c,l);return k==null?null:{location:{pathname:k,search:h,hash:f,state:v,key:y},navigationType:i}},[l,c,h,f,v,y,i]);return w==null?null:x.createElement(Un.Provider,{value:u},x.createElement(wd.Provider,{children:r,value:w}))}new Promise(()=>{});function OS(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:x.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:x.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:x.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ws(){return Ws=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ws.apply(this,arguments)}function NS(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function IS(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function LS(t,e){return t.button===0&&(!e||e==="_self")&&!IS(t)}function ic(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function DS(t,e){let r=ic(t);return e&&e.forEach((n,i)=>{r.has(i)||e.getAll(i).forEach(s=>{r.append(i,s)})}),r}const MS=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],US="6";try{window.__reactRouterVersion=US}catch{}function zS(t,e){return Jx({basename:void 0,future:Ws({},void 0,{v7_prependBasename:!0}),history:wx({window:void 0}),hydrationData:$S(),routes:t,mapRouteProperties:OS,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function $S(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Ws({},e,{errors:FS(e.errors)})),e}function FS(t){if(!t)return null;let e=Object.entries(t),r={};for(let[n,i]of e)if(i&&i.__type==="RouteErrorResponse")r[n]=new Ca(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",r[n]=o}catch{}}if(r[n]==null){let s=new Error(i.message);s.stack="",r[n]=s}}else r[n]=i;return r}const BS=x.createContext({isTransitioning:!1}),VS=x.createContext(new Map),qS="startTransition",Of=ly[qS],HS="flushSync",Nf=_w[HS];function WS(t){Of?Of(t):t()}function is(t){Nf?Nf(t):t()}class KS{constructor(){this.status="pending",this.promise=new Promise((e,r)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",e(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",r(n))}})}}function QS(t){let{fallbackElement:e,router:r,future:n}=t,[i,s]=x.useState(r.state),[o,a]=x.useState(),[l,u]=x.useState({isTransitioning:!1}),[c,h]=x.useState(),[f,v]=x.useState(),[y,w]=x.useState(),k=x.useRef(new Map),{v7_startTransition:m}=n||{},p=x.useCallback(R=>{m?WS(R):R()},[m]),g=x.useCallback((R,z)=>{let{deletedFetchers:A,flushSync:W,viewTransitionOpts:M}=z;R.fetchers.forEach((ke,st)=>{ke.data!==void 0&&k.current.set(st,ke.data)}),A.forEach(ke=>k.current.delete(ke));let ie=r.window==null||r.window.document==null||typeof r.window.document.startViewTransition!="function";if(!M||ie){W?is(()=>s(R)):p(()=>s(R));return}if(W){is(()=>{f&&(c&&c.resolve(),f.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:M.currentLocation,nextLocation:M.nextLocation})});let ke=r.window.document.startViewTransition(()=>{is(()=>s(R))});ke.finished.finally(()=>{is(()=>{h(void 0),v(void 0),a(void 0),u({isTransitioning:!1})})}),is(()=>v(ke));return}f?(c&&c.resolve(),f.skipTransition(),w({state:R,currentLocation:M.currentLocation,nextLocation:M.nextLocation})):(a(R),u({isTransitioning:!0,flushSync:!1,currentLocation:M.currentLocation,nextLocation:M.nextLocation}))},[r.window,f,c,k,p]);x.useLayoutEffect(()=>r.subscribe(g),[r,g]),x.useEffect(()=>{l.isTransitioning&&!l.flushSync&&h(new KS)},[l]),x.useEffect(()=>{if(c&&o&&r.window){let R=o,z=c.promise,A=r.window.document.startViewTransition(async()=>{p(()=>s(R)),await z});A.finished.finally(()=>{h(void 0),v(void 0),a(void 0),u({isTransitioning:!1})}),v(A)}},[p,o,c,r.window]),x.useEffect(()=>{c&&o&&i.location.key===o.location.key&&c.resolve()},[c,f,i.location,o]),x.useEffect(()=>{!l.isTransitioning&&y&&(a(y.state),u({isTransitioning:!0,flushSync:!1,currentLocation:y.currentLocation,nextLocation:y.nextLocation}),w(void 0))},[l.isTransitioning,y]),x.useEffect(()=>{},[]);let E=x.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:R=>r.navigate(R),push:(R,z,A)=>r.navigate(R,{state:z,preventScrollReset:A==null?void 0:A.preventScrollReset}),replace:(R,z,A)=>r.navigate(R,{replace:!0,state:z,preventScrollReset:A==null?void 0:A.preventScrollReset})}),[r]),P=r.basename||"/",j=x.useMemo(()=>({router:r,navigator:E,static:!1,basename:P}),[r,E,P]),_=x.useMemo(()=>({v7_relativeSplatPath:r.future.v7_relativeSplatPath}),[r.future.v7_relativeSplatPath]);return x.useEffect(()=>RS(n,r.future),[n,r.future]),x.createElement(x.Fragment,null,x.createElement(el.Provider,{value:j},x.createElement(uv.Provider,{value:i},x.createElement(VS.Provider,{value:k.current},x.createElement(BS.Provider,{value:l},x.createElement(AS,{basename:P,location:i.location,navigationType:i.historyAction,navigator:E,future:_},i.initialized||r.future.v7_partialHydration?x.createElement(JS,{routes:r.routes,future:r.future,state:i}):e))))),null)}const JS=x.memo(GS);function GS(t){let{routes:e,future:r,state:n}=t;return wS(e,void 0,n,r)}const YS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",XS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rj=x.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,viewTransition:h}=e,f=NS(e,MS),{basename:v}=x.useContext(Un),y,w=!1;if(typeof u=="string"&&XS.test(u)&&(y=u,YS))try{let g=new URL(window.location.href),E=u.startsWith("//")?new URL(g.protocol+u):new URL(u),P=Fi(E.pathname,v);E.origin===g.origin&&P!=null?u=P+E.search+E.hash:w=!0}catch{}let k=mS(u,{relative:i}),m=ZS(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,viewTransition:h});function p(g){n&&n(g),g.defaultPrevented||m(g)}return x.createElement("a",Ws({},f,{href:y||k,onClick:w||s?n:p,ref:r,target:l}))});var If;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(If||(If={}));var Lf;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Lf||(Lf={}));function ZS(t,e){let{target:r,replace:n,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=tl(),u=Bi(),c=hv(t,{relative:o});return x.useCallback(h=>{if(LS(h,r)){h.preventDefault();let f=n!==void 0?n:In(u)===In(c);l(t,{replace:f,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[u,l,c,n,i,r,t,s,o,a])}function nj(t){let e=x.useRef(ic(t)),r=x.useRef(!1),n=Bi(),i=x.useMemo(()=>DS(n.search,r.current?null:e.current),[n.search]),s=tl(),o=x.useCallback((a,l)=>{const u=ic(typeof a=="function"?a(i):a);r.current=!0,s("?"+u,l)},[s,i]);return[i,o]}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var eE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tE=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Z=(t,e)=>{const r=x.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:a="",children:l,...u},c)=>x.createElement("svg",{ref:c,...eE,width:i,height:i,stroke:n,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${tE(t)}`,a].join(" "),...u},[...e.map(([h,f])=>x.createElement(h,f)),...Array.isArray(l)?l:[l]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=Z("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gv=Z("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rE=Z("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nE=Z("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vv=Z("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yv=Z("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iE=Z("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sE=Z("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Df=Z("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oE=Z("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wv=Z("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=Z("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lE=Z("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=Z("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uE=Z("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cE=Z("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dE=Z("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hE=Z("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mf=Z("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fE=Z("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pE=Z("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mE=Z("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _v=Z("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gE=Z("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vE=Z("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=Z("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wE=Z("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _E=Z("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=Z("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=Z("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xv=Z("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EE=Z("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sc=Z("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kE=Z("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uf=Z("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bE=Z("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=Z("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=Z("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=Z("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _d=Z("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function TE(t){const e=[],r=t.split(`
`);let n=0;return r.forEach((i,s)=>{if(!i.trim()){e.push(d.jsx("br",{},`br-${n++}`));return}if(i.startsWith("# "))e.push(d.jsx("h3",{className:"text-lg font-bold mt-3 mb-2",children:Yn(i.substring(2))},`h3-${n++}`));else if(i.startsWith("## "))e.push(d.jsx("h4",{className:"text-base font-bold mt-2 mb-1",children:Yn(i.substring(3))},`h4-${n++}`));else if(i.match(/^[\d]+\.\s/)){const o=i.match(/^([\d]+)\.\s(.+)$/);o&&e.push(d.jsxs("div",{className:"flex gap-2 my-1",children:[d.jsxs("span",{className:"font-semibold text-terracotta-600",children:[o[1],"."]}),d.jsx("span",{children:Yn(o[2])})]},`ol-${n++}`))}else if(i.match(/^[]\s/)||i.match(/^[-*]\s/)){const o=i.match(/^[\-*]\s(.+)$/);o&&e.push(d.jsxs("div",{className:"flex gap-2 my-1",children:[d.jsx("span",{className:"text-terracotta-600",children:""}),d.jsx("span",{children:Yn(o[1])})]},`ul-${n++}`))}else i.startsWith("> ")?e.push(d.jsx("div",{className:"border-l-4 border-terracotta-400 pl-3 py-1 my-2 italic text-gray-700",children:Yn(i.substring(2))},`quote-${n++}`)):i.startsWith("```")?e.push(d.jsx("br",{},`code-br-${n++}`)):e.push(d.jsx("p",{className:"my-1",children:Yn(i)},`p-${n++}`))}),e}function Yn(t){const e=[];let r=0;const n=[{regex:/\*\*(.+?)\*\*/g,render:o=>d.jsx("strong",{children:o},`b-${r++}`)},{regex:/\*(.+?)\*/g,render:o=>d.jsx("em",{children:o},`i-${r++}`)},{regex:/`(.+?)`/g,render:o=>d.jsx("code",{className:"bg-gray-100 px-1 rounded text-sm",children:o},`c-${r++}`)},{regex:/\[(.+?)\]\((.+?)\)/g,render:(o,a)=>d.jsxs("a",{href:a,target:"_blank",rel:"noopener noreferrer",className:"text-terracotta-600 hover:underline inline-flex items-center gap-1",children:[o,d.jsx(Df,{className:"h-3 w-3"})]},`a-${r++}`)}];let i=0;const s=[];return n.forEach((o,a)=>{new RegExp(o.regex);let l;const u=t,c=new RegExp(o.regex.source,"g");for(;(l=c.exec(u))!==null;)s.push({index:l.index,length:l[0].length,type:["bold","italic","code","link"][a],data:l})}),s.sort((o,a)=>o.index-a.index),s.forEach(o=>{o.index>i&&e.push(t.substring(i,o.index)),o.type==="bold"?e.push(d.jsx("strong",{children:o.data[1]},`b-${r++}`)):o.type==="italic"?e.push(d.jsx("em",{children:o.data[1]},`i-${r++}`)):o.type==="code"?e.push(d.jsx("code",{className:"bg-gray-100 px-1 rounded text-sm",children:o.data[1]},`c-${r++}`)):o.type==="link"&&e.push(d.jsxs("a",{href:o.data[2],target:"_blank",rel:"noopener noreferrer",className:"text-terracotta-600 hover:underline inline-flex items-center gap-1",children:[o.data[1],d.jsx(Df,{className:"h-3 w-3"})]},`a-${r++}`)),i=o.index+o.length}),i<t.length&&e.push(t.substring(i)),e.length>0?e:[t]}function CE({role:t,content:e,timestamp:r,isNew:n=!1}){const i=t==="user",s=t==="assistant",o=e.includes("")||e.includes("ALERTE")||e.includes("ARNAQUE"),a=e.includes("")||e.includes("PROTG");return d.jsxs("div",{className:`flex gap-3 ${i?"flex-row-reverse":"flex-row"} ${n?"animate-slide-in":""}`,children:[d.jsx("div",{className:`flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center ${i?"bg-gradient-to-br from-terracotta-500 to-coral-500":"bg-gradient-to-br from-green-500 to-emerald-600"}`,children:i?d.jsx(ds,{className:"h-4 w-4 text-white"}):d.jsx(nE,{className:"h-5 w-5 text-white"})}),d.jsxs("div",{className:`flex flex-col ${i?"items-end":"items-start"} flex-1 max-w-[85%]`,children:[d.jsxs("div",{className:`rounded-2xl px-4 py-3 ${i?"bg-gradient-to-r from-terracotta-500 to-coral-500 text-white rounded-tr-none shadow-lg":o?"bg-red-50 border-2 border-red-300 text-gray-900 rounded-tl-none shadow-md":a?"bg-green-50 border-2 border-green-300 text-gray-900 rounded-tl-none shadow-md":"bg-white border-2 border-gray-200 text-gray-900 rounded-tl-none shadow-sm"}`,children:[o&&s&&d.jsxs("div",{className:"flex items-center gap-2 mb-2 pb-2 border-b border-red-300",children:[d.jsx(mv,{className:"h-5 w-5 text-red-600 flex-shrink-0"}),d.jsx("span",{className:"font-bold text-red-600 text-sm",children:"Alerte Scurit"})]}),a&&s&&d.jsxs("div",{className:"flex items-center gap-2 mb-2 pb-2 border-b border-green-300",children:[d.jsx(yv,{className:"h-5 w-5 text-green-600 flex-shrink-0"}),d.jsx("span",{className:"font-bold text-green-600 text-sm",children:"Information Scurise"})]}),d.jsx("div",{className:`text-sm leading-relaxed ${i?"text-white":"text-gray-800"}`,children:TE(e)})]}),d.jsx("span",{className:`text-xs mt-1 px-2 ${i?"text-gray-500":"text-gray-400"}`,children:new Date(r).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})})]})]})}const RE=x.memo(CE);class AE{async getOrCreateConversation(e){const{data:r,error:n}=await fe.from("chatbot_conversations").select("*").eq("user_id",e).eq("status","active").order("updated_at",{ascending:!1}).limit(1);if(n)return console.error("Error fetching conversation:",n),null;if(r&&r.length>0)return r[0];const i=this.generateConversationTitle(),{data:s,error:o}=await fe.from("chatbot_conversations").insert({user_id:e,title:i,status:"active"}).select().single();return o?(console.error("Error creating conversation:",o),null):s}generateConversationTitle(){const e=[" Assistance SUTA"," Recherche de logement"," Protection et Scurit"," Questions Paiement"," Aide sur les contrats"," Amlioration du score"," Planification de visite"," Problme Maintenance"],r=new Date().toLocaleDateString("fr-FR",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"});return`${e[Math.floor(Math.random()*e.length)]} - ${r}`}async updateConversationTitle(e,r){const{error:n}=await fe.from("chatbot_conversations").update({title:r}).eq("id",e);return n?(console.error("Error updating conversation title:",n),!1):!0}async getConversationMessages(e){const{data:r,error:n}=await fe.from("chatbot_messages").select("*").eq("conversation_id",e).order("created_at",{ascending:!0});return n?(console.error("Error fetching messages:",n),[]):r||[]}async sendMessage(e,r,n="user"){const{data:i,error:s}=await fe.from("chatbot_messages").insert({conversation_id:e,role:n,content:r}).select().single();return s?(console.error("Error sending message:",s),null):i}async getAIResponse(e,r,n=null){try{const s=[{role:"system",content:`Tu es SUTA, l'assistant virtuel PROTECTEUR de Mon Toit, la plateforme de location immobilire scurise en Cte d'Ivoire.

 TA MISSION PRINCIPALE : PROTGER LES UTILISATEURS DES ARNAQUES

 DTECTION D'ARNAQUES - Dclenche une ALERTE IMMDIATE si tu dtectes:
1.  Demande d'argent AVANT la visite (ARNAQUE CLASSIQUE)
2.  Demande d'argent en dehors de la plateforme Mon Toit
3.  Prix anormalement bas (ex: 50k pour 3 pices  Cocody)
4.  Propritaire " l'tranger" qui ne peut pas montrer le bien
5.  Pression pour payer rapidement ("d'autres sont intresss")
6.  Demande de coordonnes bancaires/Mobile Money par message priv
7.  Proprit non vrifiable (pas d'adresse prcise, photos floues)
8.  Propritaire refuse la visite avant paiement
9.  Montants d'avance excessifs (>3 mois de loyer)
10.  Contrat non officiel ou manuscrit

 FORMAT DE RPONSE POUR ARNAQUE DTECTE :
" **ALERTE ARNAQUE ! NE PAIE RIEN !** 

**Pourquoi c'est une arnaque** :
[Explique les signaux d'alerte]

**Les arnaques classiques en Cte d'Ivoire** :
 [Liste 3-4 techniques courantes]

**Ce que tu dois faire MAINTENANT** :
1.  **NE PAIE RIEN**
2.  **NE DONNE PAS** tes coordonnes bancaires
3.  **SIGNALE** cette personne
4.  **BLOQUE** ce contact

**Sur Mon Toit, tu es protg** :
  Vrification ANSUT obligatoire (ONECI + CNAM + Biomtrie)
  Paiements scuriss via la plateforme
  Signature lectronique AVANT tout paiement
  Dpt de garantie bloqu en squestre

**Veux-tu que je te montre des annonces VRIFIES et SRES ?** "

 TU ES EXPERT EN :
- Dtection d'arnaques et fraudes immobilires
- Protection des locataires et propritaires
- Processus scuris de location sur Mon Toit
- Vrification ANSUT (ONECI + CNAM + Biomtrie faciale)
- Signature lectronique CryptoNeo conforme loi ivoirienne
- Paiements Mobile Money scuriss (Orange, MTN, Moov, Wave)
- Escrow/squestre pour dpts de garantie
- Loi ivoirienne sur la location
- Prix du march par quartier d'Abidjan
- Droits et devoirs locataires/propritaires

 RGLES DE SCURIT MON TOIT ( rappeler souvent) :
1.  Visite TOUJOURS avant tout paiement
2.  Vrification ANSUT OBLIGATOIRE pour propritaires
3.  Paiements UNIQUEMENT via la plateforme
4.  Signature lectronique AVANT paiement
5.  Dpt bloqu en squestre jusqu' fin bail
6.  Contrats conformes droit ivoirien
7.  JAMAIS de paiement direct au propritaire
8.  JAMAIS de paiement en cash

 STYLE DE COMMUNICATION :
-  Protecteur et direct (surtout pour arnaques)
-  Rassurant et empathique
-  Pdagogique (explique les risques)
-  Actionnable (dis quoi faire concrtement)
-  Adapt au contexte ivoirien
-  Utilise BEAUCOUP d'emojis pour alerter

 OBJECTIFS SECONDAIRES :
- Recherche de proprits scurises
- Planification de visites
- Gestion contrats et paiements
- Score locataire
- Maintenance
- Questions juridiques location

Si tu ne connais pas une rponse, dis-le honntement et propose de contacter le support Mon Toit.

 PRIORIT ABSOLUE : La scurit de l'utilisateur passe AVANT tout !`},...r.slice(-10).map(u=>({role:u.role,content:u.content})),{role:"user",content:e}],a=await fetch("https://muiidvzmpcmcmrxuwtqt.supabase.co/functions/v1/ai-chatbot",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im11aWlkdnptcGNtY21yeHV3dHF0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQwNDQzMDgsImV4cCI6MjA3OTYyMDMwOH0.WURqe9zpb_hSZyJrHOXswxEkByungk_U1fYGeqfLJag"},body:JSON.stringify({messages:s,userId:n,temperature:.8,maxTokens:1e3})});if(!a.ok){const u=await a.json().catch(()=>({}));throw console.error("Edge function error:",u),new Error(u.error||"Failed to get AI response")}const l=await a.json();return console.log(" AI Response received successfully from edge function"),l.content}catch(i){return console.error(" Error getting AI response:",i),console.log(" Using intelligent fallback system"),this.getFallbackResponse(e)}}getFallbackResponse(e){const r=e.toLowerCase();return this.detectScam(r)?this.getScamWarningResponse(r):r.includes("recherche")||r.includes("proprit")?` **Pour rechercher une proprit SCURISE** :

1. Utilisez la barre de recherche rapide
2. Filtrez par ville, type, budget
3.  Vrifiez le badge de vrification du propritaire
4.  Confirmez l'adresse sur la carte
5.  Regardez les photos (multiples = bon signe)
6.  Planifiez une visite AVANT tout paiement

 **Rappel scurit** : Ne payez JAMAIS avant d'avoir visit !`:r.includes("paiement")||r.includes("money")||r.includes("payer")?` **PAIEMENTS SCURISS sur Mon Toit** :

 **Processus officiel** :
1. Signature du bail lectronique AVANT paiement
2. Paiement via la plateforme uniquement
3. Choix Mobile Money (Orange/MTN/Moov/Wave)
4. Confirmation SMS + Email
5. Reu officiel automatique

 **RGLES DE SCURIT** :
 JAMAIS de paiement direct au propritaire
 JAMAIS de paiement en cash
 JAMAIS de paiement avant visite
 JAMAIS de paiement hors plateforme

 Le dpt de garantie est bloqu en squestre jusqu' la fin du bail !`:r.includes("visite")?` **Planifier une visite EN TOUTE SCURIT** :

1. Trouvez la proprit
2. Vrifiez le badge de vrification du propritaire 
3. Cliquez 'Planifier une visite'
4. Choisissez date et heure
5. Le propritaire confirme (24-48h)
6. Recevez notification + rappel

 **Conseils scurit pour la visite** :
 Venez accompagn si possible
 Vrifiez l'identit du propritaire
 Prenez photos/vidos
 Posez TOUTES vos questions
  Ne payez RIEN lors de la visite
 Signez le bail sur Mon Toit APRS la visite`:r.includes("score")||r.includes("notation")?` **Votre Score Locataire** :

 **Calcul du score** :
 Historique paiements (40%) 
 Anciennet locative (25%) 
 Comportement gnral (20%) 
 Vrifications compltes (15%) 

 **Amliorer votre score** :
1. Payez vos loyers  temps
2. Compltez votre profil
3. Obtenez la vrification ANSUT
4. Maintenez une bonne relation avec propritaire
5. Respectez le bien lou

 Un bon score = Plus de chances d'obtenir le logement de vos rves !`:r.includes("maintenance")||r.includes("rparation")?` **Demande de Maintenance** :

 **Crer une demande** :
1. 'Maintenance' > 'Mes demandes'
2. 'Nouvelle demande'
3. Dcrivez le problme prcisment
4. Ajoutez photos (important !)
5. Indiquez l'urgence
6. Soumettez

 **Niveaux d'urgence** :
  Urgent : Fuite d'eau, lectricit, scurit
  Normal : quipements casss
  Bas : Amliorations esthtiques

Le propritaire reoit notification immdiate et vous suivez l'avancement en temps rel !`:r.includes("ansut")||r.includes("certification")||r.includes("vrification")?` **Vrification d'Identit - Votre Garantie de Scurit** :

 **Vrification Mon Toit**
Vrification multi-niveaux OBLIGATOIRE pour tous les propritaires :
  Vrification ONECI (CNI officielle)
  Vrification CNAM (couverture mdicale)
  Biomtrie faciale (anti-fraude)
  Documents proprit

 **Pour obtenir la vrification (propritaires)** :
1. Accdez  'Vrification d'identit'
2. Remplir le formulaire complet
3. Tlcharger CNI + justificatifs
4. Photo biomtrique
5. Validation 24-48h

 **Badge Vrifi = Propritaire de CONFIANCE**

 Locataires : Ne louez JAMAIS sans badge de vrification !`:r.includes("contrat")||r.includes("bail")?` **Contrats de Location Scuriss** :

 **Nos baux sont** :
 Conformes loi ivoirienne
 Signs lectroniquement (CryptoNeo)
 Valeur lgale complte
 Stocks de manire scurise
 Tlchargeables en PDF

 **Processus de signature** :
1. Visite de la proprit 
2. Accord propritaire-locataire
3. Gnration contrat automatique
4. Rvision par les deux parties
5. Signature lectronique
6. PUIS paiement scuris
7. Activation du bail

 **JAMAIS de paiement avant signature !**

Allez dans 'Mes contrats' pour voir vos baux actifs.`:r.includes("arnaque")||r.includes("fraude")||r.includes("suspect")?` **Signaler une Arnaque Suspecte** :

 **Vous avez raison de vous mfier !**

 **Signaler immdiatement** :
1. Cliquez sur 'Signaler' sur l'annonce
2. Ou contactez support@montoit.ci
3. Dcrivez la situation
4. Joignez captures d'cran si possible

 **En attendant** :
  Ne payez RIEN
  Ne donnez pas vos coordonnes
  Bloquez le contact
  Utilisez uniquement Mon Toit

 **Ensemble, luttons contre les fraudes !**

Votre scurit est notre priorit absolue.`:r.includes("bonjour")||r.includes("salut")||r.includes("hello")||r.includes("hey")?` **Bonjour ! Je suis SUTA** 

 Votre assistant PROTECTEUR sur Mon Toit !

Je suis l pour :
  Vous aider  trouver un logement SR
  Vous protger des arnaques
  Scuriser vos paiements
  Grer vos contrats
  Amliorer votre score

 **Rgle n1** : Ne payez JAMAIS avant d'avoir visit !

Que recherchez-vous aujourd'hui ? `:r.includes("merci")||r.includes("thanks")?` **Avec plaisir !**

N'oubliez pas :
 Votre scurit est ma priorit
 Je suis disponible 24/7
 Signalez tout comportement suspect

Bonne recherche et restez vigilant ! `:r.includes("prix")||r.includes("loyer")||r.includes("fcfa")||r.includes("budget")?` **Prix du March  Abidjan** (2025) :

 **Cocody** : 150K-500K FCFA/mois
   Studio: 150-200K  2P: 250-350K  3P+: 350-500K

 **Plateau** : 200K-600K FCFA/mois
   Studio: 200-300K  2P: 300-400K  3P+: 400-600K

 **Yopougon** : 80K-250K FCFA/mois
   Studio: 80-120K  2P: 120-180K  3P+: 180-250K

 **Marcory** : 100K-300K FCFA/mois
   Studio: 100-150K  2P: 150-220K  3P+: 220-300K

 **Si un prix est trop bas = ARNAQUE probable !**
Ex: 3 pices  Cocody pour 50K = FAUX

Utilisez les filtres pour trouver dans votre budget !`:r.includes("quartier")||r.includes("zone")||r.includes("abidjan")?` **Quartiers d'Abidjan** :

 **Cocody** - Rsidentiel haut standing
   Calme, scuris, bien desservi
   Prix : 

 **Plateau** - Centre d'affaires
   Dynamique, proche services, transport
   Prix : 

 **Yopougon** - Populaire, accessible
   Bien desservi, vie de quartier active
   Prix : 

 **Marcory** - Proche lagon
   Calme, rsidentiel, zones vertes
   Prix : 

 **Treichville** - Central, dynamique
   Commerce, transport, vivant
   Prix : 

 **Quel quartier vous intresse ?**
Je peux vous montrer les annonces vrifies ! `:r.includes("aide")||r.includes("help")?` **Je peux vous aider avec** :

 **Recherche de logements SCURISS**
 **Dtection d'arnaques**
 **Questions sur les contrats**
 **Paiements Mobile Money scuriss**
 **Planification de visites**
 **Score locataire**
 **Demandes de maintenance**
 **Vrification ANSUT**
 **Conseils quartiers**
 **Questions juridiques**

 **Posez-moi votre question !**

 **Rappel scurit** : Ne payez JAMAIS avant visite + signature !`:` **Comment puis-je vous aider ?**

Je suis SUTA, votre assistant PROTECTEUR ! 

Je peux vous aider avec :
  Recherche de logements vrifis
  Protection contre les arnaques
  Paiements scuriss
  Contrats et baux
  Planification visites
  Score locataire
  Maintenance

 **Conseil du jour** : Vrifiez TOUJOURS le badge ANSUT du propritaire !

Que souhaitez-vous savoir ? `}detectScam(e){const r=["avance","avant de visiter","avant visite","payer avant","envoie moi","envoyer","transfert","mobile money","orange money","mtn money","wave","depot","dpt","caution","frais","a l'etranger"," l'tranger","pas disponible","urgence","autres interesss","autres intresss","vite","rapidement"],n=[/\d+k.*avant/i,/\d+\s*fcfa.*avant/i,/paye.*avant/i,/envoie.*argent/i,/transfert.*avant/i,/numero.*money/i,/compte.*money/i],i=r.some(o=>e.includes(o)),s=n.some(o=>o.test(e));return i||s}getScamWarningResponse(e){const r=e.match(/(\d+)\s*k/i);return` **ALERTE ARNAQUE ! NE PAIE RIEN !** 

**Pourquoi c'est une arnaque** :
1.  Aucun propritaire lgitime ne demande de paiement avant la visite
2.  ${r?r[1]:"500"}k d'avance est ANORMAL (standard = paiement aprs signature uniquement)
3.  Le paiement se fait TOUJOURS aprs visite ET signature du bail
4.  Les paiements doivent passer par la plateforme Mon Toit

**Les arnaques classiques en Cte d'Ivoire** :
  Demande d'argent avant visite (ARNAQUE N1)
  Prix trop bas pour tre vrai
  Propritaire " l'tranger" qui ne peut pas montrer le bien
  Pression pour payer vite ("d'autres sont intresss")
  Demande de paiement Mobile Money direct
  Pas d'adresse prcise ou photos floues
  Refuse la visite avant paiement

**Ce que tu dois faire MAINTENANT** :
1.  **NE PAIE RIEN** - Aucun paiement avant visite !
2.  **NE DONNE PAS** tes coordonnes bancaires/Mobile Money
3.  **SIGNALE** cette personne (bouton "Signaler" ou support@montoit.ci)
4.  **BLOQUE** ce contact immdiatement
5.  **PRENDS** des captures d'cran comme preuve

**Sur Mon Toit, tu es PROTG** :
  Tous les propritaires sont vrifis ANSUT (ONECI + CNAM + Biomtrie)
  Les paiements passent par notre plateforme scurise
  Le bail est sign lectroniquement AVANT tout paiement
  Le dpt de garantie est bloqu en squestre jusqu' la fin du bail
  Les visites sont organises et traces
  Support disponible 24/7

**Veux-tu que je te montre des annonces VRIFIES et SRES ?** 

Dans quel quartier cherches-tu ? Je vais te trouver des options FIABLES avec badge ANSUT ! 

 **RAPPEL** : Processus lgitime = Visite  Signature bail  Paiement plateforme  Emmnagement`}async archiveConversation(e){const{error:r}=await fe.from("chatbot_conversations").update({status:"archived"}).eq("id",e);return r?(console.error("Error archiving conversation:",r),!1):!0}async getAllConversations(e){const{data:r,error:n}=await fe.from("chatbot_conversations").select("*").eq("user_id",e).order("updated_at",{ascending:!1});return n?(console.error("Error fetching conversations:",n),[]):r||[]}}const sr=new AE,OE=[{icon:Ks,label:"Rechercher un logement",message:"Je cherche un logement scuris. Peux-tu m'aider ?",color:"from-blue-500 to-blue-600"},{icon:sc,label:"Scurit & Arnaques",message:"Comment puis-je me protger des arnaques immobilires ?",color:"from-red-500 to-red-600"},{icon:vv,label:"Planifier une visite",message:"Comment planifier une visite en toute scurit ?",color:"from-green-500 to-green-600"},{icon:sE,label:"Paiements scuriss",message:"Comment fonctionnent les paiements sur Mon Toit ?",color:"from-yellow-500 to-yellow-600"},{icon:wv,label:"Contrats & Baux",message:"J'ai des questions sur les contrats de location",color:"from-purple-500 to-purple-600"},{icon:lE,label:"Aide gnrale",message:"J'ai besoin d'aide avec la plateforme",color:"from-gray-500 to-gray-600"}],NE=["Comment fonctionne la vrification d'identit ?","Quels sont les prix moyens  Abidjan ?","Comment amliorer mon score locataire ?","Que faire en cas de problme de maintenance ?"];function zf(){const[t,e]=x.useState(!1),[r,n]=x.useState([]),[i,s]=x.useState(""),[o,a]=x.useState(!1),[l,u]=x.useState(null),[c,h]=x.useState(!0),[f,v]=x.useState(!1),[y,w]=x.useState([]),k=x.useRef(null),m=x.useRef(null),{user:p}=fd();tl();const g=()=>{var M;(M=k.current)==null||M.scrollIntoView({behavior:"smooth"})};x.useEffect(()=>{g()},[r]),x.useEffect(()=>{t&&p&&!l&&(P(),E())},[t,p]);const E=async()=>{if(!p)return;const M=await sr.getAllConversations(p.id);w(M)},P=async()=>{if(!p)return;const M=await sr.getOrCreateConversation(p.id);if(M){u(M);const ie=await sr.getConversationMessages(M.id);if(n(ie),ie.length===0){const ke={id:"welcome",conversation_id:M.id,role:"assistant",content:` **Bonjour ! Je suis SUTA, votre assistant protecteur Mon Toit.**

Je suis l pour vous aider  :
  Trouver un logement **SCURIS**
  Vous **PROTGER** des arnaques
  Grer vos paiements en toute scurit
  Comprendre vos contrats et baux
  Amliorer votre score locataire

** Rgle n1 : Ne payez JAMAIS avant d'avoir visit !**

Comment puis-je vous aider aujourd'hui ? `,created_at:new Date().toISOString()};n([ke]),h(!0)}else h(!1)}},j=async M=>{var st;const ie=M||i.trim();if(!ie||!l||!p)return;s(""),a(!0),h(!1);const ke=await sr.sendMessage(l.id,ie,"user");ke&&n(ot=>[...ot,ke]);try{const ot=await sr.getAIResponse(ie,r,p.id),at=await sr.sendMessage(l.id,ot,"assistant");at&&n(I=>[...I,at])}catch(ot){console.error("Error getting AI response:",ot);const at=await sr.sendMessage(l.id," Dsol, je rencontre des difficults techniques. Veuillez ressayer dans quelques instants ou contacter le support  support@montoit.ci","assistant");at&&n(I=>[...I,at])}a(!1),(st=m.current)==null||st.focus()},_=M=>{M.key==="Enter"&&!M.shiftKey&&(M.preventDefault(),j())},R=M=>{j(M.message)},z=M=>{j(M)},A=async()=>{!p||!l||(await sr.archiveConversation(l.id),u(null),n([]),h(!0),await P(),await E())},W=async M=>{u(M);const ie=await sr.getConversationMessages(M.id);n(ie),v(!1),h(!1)};return p?d.jsxs(d.Fragment,{children:[!t&&d.jsxs("button",{onClick:()=>e(!0),className:"fixed bottom-6 right-6 bg-gradient-to-r from-terracotta-500 to-coral-500 text-white rounded-full p-4 shadow-2xl hover:shadow-glow transition-all duration-300 hover:scale-110 z-50 group","aria-label":"Ouvrir le chat",children:[d.jsx(_v,{className:"h-7 w-7 group-hover:animate-bounce"}),d.jsx("span",{className:"absolute -top-1 -right-1 bg-green-500 w-4 h-4 rounded-full animate-pulse border-2 border-white"})]}),t&&d.jsxs("div",{className:"fixed bottom-6 right-6 w-[420px] h-[650px] bg-white rounded-3xl shadow-2xl flex flex-col z-50 border border-gray-200 animate-scale-in overflow-hidden",children:[d.jsxs("div",{className:"bg-gradient-to-r from-terracotta-500 via-coral-500 to-terracotta-600 text-white p-4 flex items-center justify-between relative overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/10 to-transparent opacity-50"}),d.jsxs("div",{className:"flex items-center gap-3 relative z-10",children:[d.jsx("div",{className:"bg-white/20 backdrop-blur-sm p-2.5 rounded-full ring-2 ring-white/30",children:d.jsx(sc,{className:"h-6 w-6"})}),d.jsxs("div",{children:[d.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2",children:["SUTA",d.jsx(kE,{className:"h-4 w-4 animate-pulse"})]}),d.jsxs("p",{className:"text-xs text-white/90 flex items-center gap-1",children:[d.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),"Assistant Protecteur  Toujours disponible"]})]})]}),d.jsxs("div",{className:"flex items-center gap-1 relative z-10",children:[d.jsxs("button",{onClick:()=>v(!f),className:"p-2 hover:bg-white/20 rounded-lg transition-colors relative",title:"Historique",children:[d.jsx(iE,{className:"h-5 w-5"}),y.length>1&&d.jsx("span",{className:"absolute -top-1 -right-1 bg-yellow-400 text-terracotta-800 text-xs font-bold w-5 h-5 rounded-full flex items-center justify-center",children:y.length})]}),d.jsx("button",{onClick:A,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",title:"Nouvelle conversation",children:d.jsx(bE,{className:"h-5 w-5"})}),d.jsx("button",{onClick:()=>e(!1),className:"p-2 hover:bg-white/20 rounded-lg transition-colors","aria-label":"Fermer le chat",children:d.jsx(_d,{className:"h-5 w-5"})})]})]}),f&&d.jsxs("div",{className:"bg-gray-50 border-b border-gray-200 p-3 max-h-48 overflow-y-auto",children:[d.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Conversations rcentes"}),d.jsx("div",{className:"space-y-2",children:y.map(M=>d.jsxs("button",{onClick:()=>W(M),className:`w-full text-left p-2 rounded-lg transition-colors ${M.id===(l==null?void 0:l.id)?"bg-terracotta-100 border border-terracotta-300":"bg-white hover:bg-gray-100 border border-gray-200"}`,children:[d.jsx("div",{className:"text-sm font-medium text-gray-900",children:M.title}),d.jsx("div",{className:"text-xs text-gray-500",children:new Date(M.updated_at).toLocaleDateString("fr-FR")})]},M.id))})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gradient-to-b from-gray-50 to-white",children:[r.map((M,ie)=>d.jsx(RE,{role:M.role,content:M.content,timestamp:M.created_at,isNew:ie===r.length-1},M.id)),o&&d.jsxs("div",{className:"flex gap-3",children:[d.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-gradient-to-br from-green-500 to-emerald-600 flex items-center justify-center",children:d.jsx(sc,{className:"h-5 w-5 text-white"})}),d.jsx("div",{className:"bg-white rounded-2xl rounded-tl-none px-4 py-3 border-2 border-gray-200 shadow-sm",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(hE,{className:"h-4 w-4 animate-spin text-terracotta-500"}),d.jsx("span",{className:"text-sm text-gray-600",children:"SUTA analyse votre demande..."})]})})]}),c&&r.length<=1&&d.jsxs("div",{className:"animate-fade-in",children:[d.jsxs("div",{className:"text-center mb-4",children:[d.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:" Actions rapides"}),d.jsx("p",{className:"text-xs text-gray-500",children:"Choisissez une option ou posez votre question"})]}),d.jsx("div",{className:"grid grid-cols-2 gap-2",children:OE.map((M,ie)=>d.jsxs("button",{onClick:()=>R(M),className:"flex flex-col items-center gap-2 p-3 bg-white rounded-xl border-2 border-gray-200 hover:border-terracotta-400 hover:shadow-md transition-all group",children:[d.jsx("div",{className:`bg-gradient-to-br ${M.color} p-2 rounded-lg group-hover:scale-110 transition-transform`,children:d.jsx(M.icon,{className:"h-5 w-5 text-white"})}),d.jsx("span",{className:"text-xs font-medium text-gray-700 text-center leading-tight",children:M.label})]},ie))}),d.jsxs("div",{className:"mt-4",children:[d.jsx("h4",{className:"text-xs font-semibold text-gray-600 mb-2",children:" Suggestions"}),d.jsx("div",{className:"space-y-2",children:NE.map((M,ie)=>d.jsx("button",{onClick:()=>z(M),className:"w-full text-left p-2 px-3 bg-white rounded-lg border border-gray-200 hover:border-terracotta-400 hover:bg-terracotta-50 transition-all text-xs text-gray-700",children:M},ie))})]})]}),d.jsx("div",{ref:k})]}),d.jsxs("div",{className:"p-4 border-t border-gray-200 bg-white",children:[d.jsxs("div",{className:"flex items-end gap-2",children:[d.jsx("textarea",{ref:m,value:i,onChange:M=>s(M.target.value),onKeyPress:_,placeholder:"Posez votre question  SUTA...",className:"flex-1 resize-none border-2 border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-terracotta-400 focus:border-terracotta-400 max-h-24 text-sm transition-all",rows:1,disabled:o}),d.jsx("button",{onClick:()=>j(),disabled:!i.trim()||o,className:"bg-gradient-to-r from-terracotta-500 to-coral-500 text-white p-3 rounded-xl hover:shadow-lg hover:scale-105 transition-all disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100","aria-label":"Envoyer le message",children:d.jsx(xv,{className:"h-5 w-5"})})]}),d.jsxs("div",{className:"flex items-center justify-between mt-2",children:[d.jsx("p",{className:"text-xs text-gray-400",children:" Assistance scurise 24/7 par IA"}),d.jsx("p",{className:"text-xs text-gray-400",children:"Aliment par Azure AI"})]})]})]})]}):null}function IE(){const{user:t}=fd(),[e,r]=x.useState(0);return x.useEffect(()=>{if(!t)return;const i=async()=>{try{const{count:o,error:a}=await fe.from("messages").select("*",{count:"exact",head:!0}).eq("receiver_id",t.id).eq("is_read",!1);if(a)throw a;r(o||0)}catch(o){console.error("Error fetching unread count:",o)}};i();const s=fe.channel("message_notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`receiver_id=eq.${t.id}`},()=>{i(),"Notification"in window&&Notification.permission==="granted"&&new Notification("Nouveau message",{body:"Vous avez reu un nouveau message",icon:"/favicon.ico"})}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"messages",filter:`receiver_id=eq.${t.id}`},()=>{i()}).subscribe();return()=>{s.unsubscribe()}},[t]),{unreadCount:e,requestNotificationPermission:async()=>{"Notification"in window&&Notification.permission==="default"&&await Notification.requestPermission()}}}function LE(){const[t,e]=x.useState(()=>{const r=typeof window<"u"?window.innerWidth:1024;return{width:r,isMobile:r<768,isTablet:r>=768&&r<1024,isDesktop:r>=1024,current:r<768?"mobile":r<1024?"tablet":"desktop"}});return x.useEffect(()=>{const r=()=>{const n=window.innerWidth;e({width:n,isMobile:n<768,isTablet:n>=768&&n<1024,isDesktop:n>=1024,current:n<768?"mobile":n<1024?"tablet":"desktop"})};return window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]),t}function DE(){var l;const{theme:t,actualTheme:e,setTheme:r}=vx(),[n,i]=x.useState(!1),s=[{value:"light",label:"Clair",icon:Uf},{value:"dark",label:"Sombre",icon:vE},{value:"system",label:"Systme",icon:gE}],a=((l=s.find(u=>u.value===t))==null?void 0:l.icon)||Uf;return d.jsxs("div",{className:"relative",children:[d.jsx("button",{onClick:()=>i(!n),onBlur:()=>setTimeout(()=>i(!1),200),className:"p-2 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors","aria-label":"Changer le thme",children:d.jsx(a,{className:`h-5 w-5 ${e==="dark"?"text-yellow-400":"text-gray-700"}`})}),n&&d.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-xl shadow-xl border border-gray-200 dark:border-gray-700 py-2 z-50 animate-scale-in",children:s.map(u=>{const c=u.icon,h=t===u.value;return d.jsxs("button",{onClick:()=>{r(u.value),i(!1)},className:`w-full flex items-center space-x-3 px-4 py-2 text-sm transition-colors ${h?"bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 font-semibold":"text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[d.jsx(c,{className:"h-4 w-4"}),d.jsx("span",{children:u.label}),h&&d.jsx("span",{className:"ml-auto text-blue-600 dark:text-blue-400",children:""})]},u.value)})})]})}function ME(){const{user:t,profile:e,signOut:r}=fd(),{unreadCount:n}=IE(),{isMobile:i}=LE(),[s,o]=x.useState(!1),[a,l]=x.useState(!1),[u,c]=x.useState(!1),h=(e==null?void 0:e.user_type)==="proprietaire"||(e==null?void 0:e.active_role)==="proprietaire";x.useEffect(()=>{const y=()=>{c(window.scrollY>20)};return window.addEventListener("scroll",y),()=>window.removeEventListener("scroll",y)},[]);const f=[{label:"Rechercher",href:"/recherche",icon:SE},...t&&h?[{label:"Publier",href:"/ajouter-propriete",icon:wE}]:[],...t?[{label:"Messages",href:"/messages",icon:_v,badge:n}]:[]],v=t?[{label:"Mon Profil",href:"/profil",icon:ds},{label:"Mes Favoris",href:"/favoris",icon:aE},{label:"Mes Visites",href:"/mes-visites",icon:vv},{label:"Mes Alertes",href:"/recherches-sauvegardees",icon:rE},{label:"Mes Contrats",href:"/mes-contrats",icon:wv},{label:"Paramtres",href:"/profil",icon:EE}]:[];return d.jsxs(d.Fragment,{children:[d.jsx("header",{className:`header-premium ${u?"scrolled":""}`,children:d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"flex justify-between items-center h-16 md:h-20",children:[d.jsxs("a",{href:"/",className:"header-logo header-logo-animated flex items-center space-x-2 md:space-x-3 flex-shrink-0",children:[d.jsx("div",{className:"relative",children:d.jsx("img",{src:"/logo-montoit.png",alt:"Mon Toit",className:"h-10 w-10 md:h-12 md:w-12 object-contain"})}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-lg md:text-xl font-bold gradient-text-orange",children:"Mon Toit"}),!i&&d.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium",children:"Plateforme Immobilire"})]})]}),d.jsxs("nav",{className:"hidden md:flex items-center space-x-1",children:[d.jsxs("a",{href:"/",className:"header-nav-link header-nav-link-animated flex items-center space-x-2",style:{animationDelay:"0.1s"},children:[d.jsx(Ks,{className:"h-5 w-5"}),d.jsx("span",{children:"Accueil"})]}),f.map((y,w)=>d.jsxs("a",{href:y.href,className:"header-nav-link header-nav-link-animated flex items-center space-x-2 relative",style:{animationDelay:`${.2+w*.1}s`},children:[d.jsx(y.icon,{className:"h-5 w-5 header-btn-icon"}),d.jsx("span",{children:y.label}),y.badge&&y.badge>0&&d.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center animate-pulse",children:y.badge>9?"9+":y.badge})]},y.label)),d.jsx("div",{className:"ml-2",children:d.jsx(DE,{})}),t?d.jsxs("div",{className:"relative ml-2",children:[d.jsxs("button",{onClick:()=>l(!a),onBlur:()=>setTimeout(()=>l(!1),200),className:"header-btn-primary flex items-center space-x-2",children:[d.jsx(ds,{className:"h-5 w-5 header-btn-icon"}),d.jsx("span",{children:"Mon Compte"})]}),a&&d.jsxs("div",{className:"absolute right-0 mt-2 w-56 glass rounded-xl shadow-premium border border-gray-200 dark:border-gray-700 py-2 z-50 animate-fade-in",children:[d.jsxs("div",{className:"px-4 py-2 border-b border-gray-100 dark:border-gray-700",children:[d.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white truncate",children:(e==null?void 0:e.full_name)||"Utilisateur"}),d.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:t.email})]}),v.map(y=>d.jsxs("a",{href:y.href,className:"flex items-center space-x-3 px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-orange-50 dark:hover:bg-orange-900/20 hover:text-orange-600 dark:hover:text-orange-400 transition-all duration-200",children:[d.jsx(y.icon,{className:"h-4 w-4"}),d.jsx("span",{children:y.label})]},y.label)),d.jsx("div",{className:"border-t border-gray-100 dark:border-gray-700 mt-2 pt-2",children:d.jsxs("button",{onClick:r,className:"flex items-center space-x-3 px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-all duration-200 w-full",children:[d.jsx(Mf,{className:"h-4 w-4"}),d.jsx("span",{children:"Dconnexion"})]})})]})]}):d.jsxs("div",{className:"flex items-center space-x-2 ml-2",children:[d.jsxs("a",{href:"/connexion",className:"header-btn-secondary flex items-center space-x-2",children:[d.jsx(ds,{className:"h-5 w-5 header-btn-icon"}),d.jsx("span",{children:"Connexion"})]}),d.jsx("a",{href:"/inscription",className:"header-btn-primary flex items-center space-x-2",children:d.jsx("span",{children:"Inscription"})})]})]}),d.jsx("button",{onClick:()=>o(!s),className:"md:hidden p-2 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 transition-all",children:s?d.jsx(_d,{className:"h-6 w-6"}):d.jsx(mE,{className:"h-6 w-6"})})]})})}),d.jsx("div",{className:`header-mobile-backdrop ${s?"open":""}`,onClick:()=>o(!1)}),d.jsx("div",{className:`header-mobile-menu ${s?"open":""}`,children:d.jsxs("div",{className:"p-6 space-y-4",children:[t&&d.jsxs("div",{className:"header-mobile-item pb-4 border-b border-gray-200 dark:border-gray-700",children:[d.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white truncate",children:(e==null?void 0:e.full_name)||"Utilisateur"}),d.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:t.email})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("a",{href:"/",className:"header-mobile-item flex items-center space-x-3 px-4 py-3 rounded-xl text-gray-700 dark:text-gray-300 hover:bg-orange-50 dark:hover:bg-orange-900/20 hover:text-orange-600 dark:hover:text-orange-400 transition-all",children:[d.jsx(Ks,{className:"h-5 w-5"}),d.jsx("span",{className:"font-semibold",children:"Accueil"})]}),f.map(y=>d.jsxs("a",{href:y.href,className:"header-mobile-item flex items-center space-x-3 px-4 py-3 rounded-xl text-gray-700 dark:text-gray-300 hover:bg-orange-50 dark:hover:bg-orange-900/20 hover:text-orange-600 dark:hover:text-orange-400 transition-all relative",children:[d.jsx(y.icon,{className:"h-5 w-5"}),d.jsx("span",{className:"font-semibold",children:y.label}),y.badge&&y.badge>0&&d.jsx("span",{className:"ml-auto bg-red-500 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:y.badge>9?"9+":y.badge})]},y.label)),t&&v.map(y=>d.jsxs("a",{href:y.href,className:"header-mobile-item flex items-center space-x-3 px-4 py-3 rounded-xl text-gray-700 dark:text-gray-300 hover:bg-orange-50 dark:hover:bg-orange-900/20 hover:text-orange-600 dark:hover:text-orange-400 transition-all",children:[d.jsx(y.icon,{className:"h-5 w-5"}),d.jsx("span",{className:"font-semibold",children:y.label})]},y.label))]}),d.jsx("div",{className:"header-mobile-item pt-4 border-t border-gray-200 dark:border-gray-700 space-y-2",children:t?d.jsxs("button",{onClick:r,className:"flex items-center justify-center space-x-2 w-full px-4 py-3 rounded-xl text-red-600 dark:text-red-400 border-2 border-red-600 dark:border-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-all font-semibold",children:[d.jsx(Mf,{className:"h-5 w-5"}),d.jsx("span",{children:"Dconnexion"})]}):d.jsxs(d.Fragment,{children:[d.jsxs("a",{href:"/connexion",className:"flex items-center justify-center space-x-2 w-full px-4 py-3 rounded-xl text-orange-600 dark:text-orange-400 border-2 border-orange-600 dark:border-orange-400 hover:bg-orange-50 dark:hover:bg-orange-900/20 transition-all font-semibold",children:[d.jsx(ds,{className:"h-5 w-5"}),d.jsx("span",{children:"Connexion"})]}),d.jsx("a",{href:"/inscription",className:"flex items-center justify-center w-full px-4 py-3 rounded-xl gradient-orange text-white hover:shadow-orange-hover transition-all font-semibold",children:d.jsx("span",{children:"Inscription"})})]})})]})})]})}function UE(){const[t,e]=x.useState(""),[r,n]=x.useState(!1),i=a=>{a.preventDefault(),n(!0),e(""),setTimeout(()=>n(!1),3e3)},s=Array.from({length:15},(a,l)=>({id:l,left:`${Math.random()*100}%`,delay:`${Math.random()*20}s`,duration:`${20+Math.random()*10}s`})),o=Array.from({length:5},(a,l)=>({id:l,left:`${20+l*15}%`,delay:`${l*.8}s`}));return d.jsxs("footer",{className:"footer-premium",children:[d.jsx("div",{className:"footer-wave"}),d.jsx("div",{className:"footer-particles",children:s.map(a=>d.jsx("div",{className:"footer-particle",style:{left:a.left,animationDelay:a.delay,animationDuration:a.duration}},a.id))}),d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 relative z-10",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-10 mb-12",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center space-x-3 mb-6 group",children:[d.jsx("img",{src:"/logo-montoit.png",alt:"Mon Toit Logo",className:"h-12 w-12 object-contain group-hover:scale-110 transition-all duration-300"}),d.jsx("span",{className:"text-2xl font-bold text-white",children:"MON TOIT"})]}),d.jsx("p",{className:"text-sm text-gray-400 leading-relaxed mb-6",children:"Plateforme immobilire certifie pour un accs universel au logement en Cte d'Ivoire."}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("a",{href:"#",className:"footer-social-icon","aria-label":"Facebook",children:d.jsx(oE,{className:"h-5 w-5"})}),d.jsx("a",{href:"#",className:"footer-social-icon","aria-label":"Twitter",children:d.jsx(jE,{className:"h-5 w-5"})}),d.jsx("a",{href:"#",className:"footer-social-icon","aria-label":"Instagram",children:d.jsx(cE,{className:"h-5 w-5"})}),d.jsx("a",{href:"#",className:"footer-social-icon","aria-label":"LinkedIn",children:d.jsx(dE,{className:"h-5 w-5"})})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"footer-section-title",children:"Liens rapides"}),d.jsxs("ul",{className:"space-y-3 text-sm",children:[d.jsx("li",{children:d.jsx("a",{href:"/",className:"footer-link",children:"Accueil"})}),d.jsx("li",{children:d.jsx("a",{href:"/recherche",className:"footer-link",children:"Rechercher"})}),d.jsx("li",{children:d.jsx("a",{href:"/a-propos",className:"footer-link",children:" propos"})}),d.jsx("li",{children:d.jsx("a",{href:"/comment-ca-marche",className:"footer-link",children:"Comment a marche"})}),d.jsx("li",{children:d.jsx("a",{href:"/contact",className:"footer-link",children:"Contact"})})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"footer-section-title",children:"Lgal"}),d.jsxs("ul",{className:"space-y-3 text-sm",children:[d.jsx("li",{children:d.jsx("a",{href:"/conditions-utilisation",className:"footer-link",children:"Conditions d'utilisation"})}),d.jsx("li",{children:d.jsx("a",{href:"/politique-confidentialite",className:"footer-link",children:"Politique de confidentialit"})}),d.jsx("li",{children:d.jsx("a",{href:"/mentions-legales",className:"footer-link",children:"Mentions lgales"})}),d.jsx("li",{children:d.jsx("a",{href:"/cgv",className:"footer-link",children:"CGV"})})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"footer-section-title",children:"Newsletter"}),d.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Recevez nos dernires offres et actualits"}),d.jsxs("form",{onSubmit:i,className:"space-y-3",children:[d.jsx("input",{type:"email",value:t,onChange:a=>e(a.target.value),placeholder:"votre@email.com",required:!0,className:"footer-newsletter-input w-full"}),d.jsxs("button",{type:"submit",className:`footer-newsletter-btn w-full flex items-center justify-center space-x-2 ${r?"footer-newsletter-success":""}`,children:[d.jsx(xv,{className:"h-4 w-4"}),d.jsx("span",{children:r?"Inscrit !":"S'inscrire"})]})]}),d.jsxs("div",{className:"mt-6 space-y-2 text-sm text-gray-400",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(yE,{className:"h-4 w-4 text-orange-400"}),d.jsx("span",{children:"+225 XX XX XX XX XX"})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(fE,{className:"h-4 w-4 text-orange-400"}),d.jsx("span",{children:"contact@montoit.ci"})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(pE,{className:"h-4 w-4 text-orange-400"}),d.jsx("span",{children:"Abidjan, Cte d'Ivoire"})]})]})]})]}),d.jsx("div",{className:"footer-separator mb-8"}),d.jsxs("div",{className:"footer-copyright",children:[d.jsx("div",{className:"footer-copyright-particles",children:o.map(a=>d.jsx("div",{className:"footer-copyright-particle",style:{left:a.left,animationDelay:a.delay}},a.id))}),d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0 relative z-10",children:[d.jsxs("p",{className:"footer-copyright-text text-sm",children:[" ",new Date().getFullYear()," Mon Toit. Tous droits rservs."]}),d.jsxs("div",{className:"flex items-center space-x-6 text-sm",children:[d.jsx("a",{href:"/aide",className:"footer-link",children:"Aide"}),d.jsx("a",{href:"/faq",className:"footer-link",children:"FAQ"}),d.jsx("a",{href:"/blog",className:"footer-link",children:"Blog"})]})]}),d.jsx("div",{className:"mt-6 flex justify-center",children:d.jsxs("div",{className:"inline-flex items-center space-x-2 px-4 py-2 bg-white/5 backdrop-blur-sm rounded-full border border-white/10",children:[d.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),d.jsx("span",{className:"text-xs text-gray-400",children:"Certifi ANSUT"})]})})]})]})]})}class oc extends x.Component{constructor(r){super(r);Vn(this,"handleReset",()=>{this.setState({hasError:!1,error:null,errorInfo:null})});Vn(this,"handleGoHome",()=>{window.location.href="/"});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r,errorInfo:null}}componentDidCatch(r,n){console.error("ErrorBoundary caught an error:",r,n),this.setState({error:r,errorInfo:n}),console.error("Error details:",{message:r.message,stack:r.stack,componentStack:n.componentStack})}render(){return this.state.hasError?d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-terracotta-50 via-coral-50 to-amber-50 flex items-center justify-center p-4",children:d.jsx("div",{className:"max-w-2xl w-full",children:d.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-8 md:p-12 border-4 border-terracotta-100",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-red-100 rounded-full mb-4",children:d.jsx(gv,{className:"w-10 h-10 text-red-600"})}),d.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-3",children:"Oups ! Une erreur est survenue"}),d.jsx("p",{className:"text-lg text-gray-600",children:"Nous sommes dsols, quelque chose s'est mal pass."})]}),!1,d.jsxs("div",{className:"space-y-4",children:[d.jsxs("button",{onClick:this.handleReset,className:"w-full btn-primary py-4 text-lg font-bold flex items-center justify-center space-x-2",children:[d.jsx(xE,{className:"w-5 h-5"}),d.jsx("span",{children:"Ressayer"})]}),d.jsxs("button",{onClick:this.handleGoHome,className:"w-full px-6 py-4 bg-gray-100 hover:bg-gray-200 text-gray-700 font-bold rounded-2xl transition-all transform hover:scale-105 flex items-center justify-center space-x-2",children:[d.jsx(Ks,{className:"w-5 h-5"}),d.jsx("span",{children:"Retour  l'accueil"})]})]}),d.jsx("div",{className:"mt-8 p-4 bg-olive-50 border-2 border-olive-200 rounded-xl",children:d.jsx("p",{className:"text-sm text-olive-800 text-center",children:"Si le problme persiste, veuillez contacter notre support technique."})})]})})}):this.props.children}}let zE=0;const Qs=new Set;let Ir=[];function ac(t,e){t.forEach(r=>r([...e]))}function Wt(t,e){const r=`toast-${++zE}`,n={id:r,type:(e==null?void 0:e.type)||"info",message:t,description:e==null?void 0:e.description,duration:(e==null?void 0:e.duration)||5e3};return Ir.push(n),ac(Qs,Ir),n.duration&&setTimeout(()=>{Ir=Ir.filter(i=>i.id!==r),ac(Qs,Ir)},n.duration),r}Wt.success=(t,e)=>Wt(t,{...e,type:"success"});Wt.error=(t,e)=>Wt(t,{...e,type:"error"});Wt.info=(t,e)=>Wt(t,{...e,type:"info"});Wt.warning=(t,e)=>Wt(t,{...e,type:"warning"});Wt.dismiss=t=>{Ir=Ir.filter(e=>e.id!==t),ac(Qs,Ir)};function $E(){const[t,e]=x.useState([]);return x.useEffect(()=>{const r=n=>{e(n)};return Qs.add(r),()=>{Qs.delete(r)}},[]),{toasts:t,toast:Wt,dismiss:Wt.dismiss}}function FE(){const{toasts:t,dismiss:e}=$E(),r={success:d.jsx(yv,{className:"h-5 w-5 text-green-600"}),error:d.jsx(PE,{className:"h-5 w-5 text-red-600"}),info:d.jsx(uE,{className:"h-5 w-5 text-blue-600"}),warning:d.jsx(gv,{className:"h-5 w-5 text-yellow-600"})},n={success:"bg-green-50 border-green-200",error:"bg-red-50 border-red-200",info:"bg-blue-50 border-blue-200",warning:"bg-yellow-50 border-yellow-200"};return t.length===0?null:d.jsx("div",{className:"fixed bottom-4 right-4 z-50 space-y-2 max-w-md",children:t.map(i=>d.jsxs("div",{className:`${n[i.type]} border-2 rounded-xl p-4 shadow-lg animate-slide-up flex items-start gap-3 min-w-[320px]`,children:[d.jsx("div",{className:"flex-shrink-0",children:r[i.type]}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:"font-semibold text-gray-900 text-sm",children:i.message}),i.description&&d.jsx("p",{className:"text-sm text-gray-600 mt-1",children:i.description})]}),d.jsx("button",{onClick:()=>e(i.id),className:"flex-shrink-0 text-gray-400 hover:text-gray-600 transition-colors",children:d.jsx(_d,{className:"h-5 w-5"})})]},i.id))})}const $f=["/connexion","/inscription","/messages","/auth/callback"],BE=["/messages","/admin/tableau-de-bord","/admin/utilisateurs","/admin/service-monitoring","/admin/service-configuration","/admin/test-data-generator","/admin/demo-rapide","/admin/gestion-roles","/admin/cev-management","/visiter","/mes-visites","/creer-contrat","/contrat","/signer-bail","/bail/signer","/verification","/certification-ansut","/mes-certificats","/admin/api-keys","/admin/service-providers"];function VE(){const e=Bi().pathname,r=!$f.includes(e),n=!BE.some(i=>e.startsWith(i))&&!$f.includes(e);return r?d.jsxs(oc,{children:[n&&d.jsx(ME,{}),d.jsx(FE,{}),d.jsx(x.Suspense,{fallback:d.jsx("div",{className:"min-h-screen flex items-center justify-center",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-terracotta-500"})}),children:d.jsx("main",{className:n?"min-h-screen":"",children:d.jsx(Af,{})})}),n&&d.jsx(UE,{}),d.jsx(zf,{})]}):d.jsx(oc,{children:d.jsxs(x.Suspense,{fallback:d.jsx("div",{className:"min-h-screen flex items-center justify-center",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-terracotta-500"})}),children:[d.jsx(Af,{}),d.jsx(zf,{})]})})}const qE={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im11aWlkdnptcGNtY21yeHV3dHF0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQwNDQzMDgsImV4cCI6MjA3OTYyMDMwOH0.WURqe9zpb_hSZyJrHOXswxEkByungk_U1fYGeqfLJag",VITE_SUPABASE_URL:"https://muiidvzmpcmcmrxuwtqt.supabase.co"},Ff=t=>{let e;const r=new Set,n=(c,h)=>{const f=typeof c=="function"?c(e):c;if(!Object.is(f,e)){const v=e;e=h??(typeof f!="object"||f===null)?f:Object.assign({},e,f),r.forEach(y=>y(e,v))}},i=()=>e,l={setState:n,getState:i,getInitialState:()=>u,subscribe:c=>(r.add(c),()=>r.delete(c)),destroy:()=>{(qE?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},u=e=t(n,i,l);return l},HE=t=>t?Ff(t):Ff;var Sv={exports:{}},Ev={},kv={exports:{}},bv={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Li=x;function WE(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var KE=typeof Object.is=="function"?Object.is:WE,QE=Li.useState,JE=Li.useEffect,GE=Li.useLayoutEffect,YE=Li.useDebugValue;function XE(t,e){var r=e(),n=QE({inst:{value:r,getSnapshot:e}}),i=n[0].inst,s=n[1];return GE(function(){i.value=r,i.getSnapshot=e,Hl(i)&&s({inst:i})},[t,r,e]),JE(function(){return Hl(i)&&s({inst:i}),t(function(){Hl(i)&&s({inst:i})})},[t]),YE(r),r}function Hl(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!KE(t,r)}catch{return!0}}function ZE(t,e){return e()}var ek=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?ZE:XE;bv.useSyncExternalStore=Li.useSyncExternalStore!==void 0?Li.useSyncExternalStore:ek;kv.exports=bv;var tk=kv.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rl=x,rk=tk;function nk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ik=typeof Object.is=="function"?Object.is:nk,sk=rk.useSyncExternalStore,ok=rl.useRef,ak=rl.useEffect,lk=rl.useMemo,uk=rl.useDebugValue;Ev.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var s=ok(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=lk(function(){function l(v){if(!u){if(u=!0,c=v,v=n(v),i!==void 0&&o.hasValue){var y=o.value;if(i(y,v))return h=y}return h=v}if(y=h,ik(c,v))return y;var w=n(v);return i!==void 0&&i(y,w)?(c=v,y):(c=v,h=w)}var u=!1,c,h,f=r===void 0?null:r;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,r,n,i]);var a=sk(t,s[0],s[1]);return ak(function(){o.hasValue=!0,o.value=a},[a]),uk(a),a};Sv.exports=Ev;var ck=Sv.exports;const dk=cc(ck),jv={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im11aWlkdnptcGNtY21yeHV3dHF0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQwNDQzMDgsImV4cCI6MjA3OTYyMDMwOH0.WURqe9zpb_hSZyJrHOXswxEkByungk_U1fYGeqfLJag",VITE_SUPABASE_URL:"https://muiidvzmpcmcmrxuwtqt.supabase.co"},{useDebugValue:hk}=gp,{useSyncExternalStoreWithSelector:fk}=dk;let Bf=!1;const pk=t=>t;function mk(t,e=pk,r){(jv?"production":void 0)!=="production"&&r&&!Bf&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Bf=!0);const n=fk(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,r);return hk(n),n}const gk=t=>{(jv?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?HE(t):t,r=(n,i)=>mk(e,n,i);return Object.assign(r,e),r},vk=t=>gk,ea={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im11aWlkdnptcGNtY21yeHV3dHF0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQwNDQzMDgsImV4cCI6MjA3OTYyMDMwOH0.WURqe9zpb_hSZyJrHOXswxEkByungk_U1fYGeqfLJag",VITE_SUPABASE_URL:"https://muiidvzmpcmcmrxuwtqt.supabase.co"},lc=new Map,$o=t=>{const e=lc.get(t);return e?Object.fromEntries(Object.entries(e.stores).map(([r,n])=>[r,n.getState()])):{}},yk=(t,e,r)=>{if(t===void 0)return{type:"untracked",connection:e.connect(r)};const n=lc.get(r.name);if(n)return{type:"tracked",store:t,...n};const i={connection:e.connect(r),stores:{}};return lc.set(r.name,i),{type:"tracked",store:t,...i}},wk=(t,e={})=>(r,n,i)=>{const{enabled:s,anonymousActionType:o,store:a,...l}=e;let u;try{u=(s??(ea?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!u)return(ea?"production":void 0)!=="production"&&s&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),t(r,n,i);const{connection:c,...h}=yk(a,u,l);let f=!0;i.setState=(w,k,m)=>{const p=r(w,k);if(!f)return p;const g=m===void 0?{type:o||"anonymous"}:typeof m=="string"?{type:m}:m;return a===void 0?(c==null||c.send(g,n()),p):(c==null||c.send({...g,type:`${a}/${g.type}`},{...$o(l.name),[a]:i.getState()}),p)};const v=(...w)=>{const k=f;f=!1,r(...w),f=k},y=t(i.setState,n,i);if(h.type==="untracked"?c==null||c.init(y):(h.stores[h.store]=i,c==null||c.init(Object.fromEntries(Object.entries(h.stores).map(([w,k])=>[w,w===h.store?y:k.getState()])))),i.dispatchFromDevtools&&typeof i.dispatch=="function"){let w=!1;const k=i.dispatch;i.dispatch=(...m)=>{(ea?"production":void 0)!=="production"&&m[0].type==="__setState"&&!w&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),w=!0),k(...m)}}return c.subscribe(w=>{var k;switch(w.type){case"ACTION":if(typeof w.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return Wl(w.payload,m=>{if(m.type==="__setState"){if(a===void 0){v(m.state);return}Object.keys(m.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const p=m.state[a];if(p==null)return;JSON.stringify(i.getState())!==JSON.stringify(p)&&v(p);return}i.dispatchFromDevtools&&typeof i.dispatch=="function"&&i.dispatch(m)});case"DISPATCH":switch(w.payload.type){case"RESET":return v(y),a===void 0?c==null?void 0:c.init(i.getState()):c==null?void 0:c.init($o(l.name));case"COMMIT":if(a===void 0){c==null||c.init(i.getState());return}return c==null?void 0:c.init($o(l.name));case"ROLLBACK":return Wl(w.state,m=>{if(a===void 0){v(m),c==null||c.init(i.getState());return}v(m[a]),c==null||c.init($o(l.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return Wl(w.state,m=>{if(a===void 0){v(m);return}JSON.stringify(i.getState())!==JSON.stringify(m[a])&&v(m[a])});case"IMPORT_STATE":{const{nextLiftedState:m}=w.payload,p=(k=m.computedStates.slice(-1)[0])==null?void 0:k.state;if(!p)return;v(a===void 0?p:p[a]),c==null||c.send(null,m);return}case"PAUSE_RECORDING":return f=!f}return}}),y},_k=wk,Wl=(t,e)=>{let r;try{r=JSON.parse(t)}catch(n){console.error("[zustand devtools middleware] Could not parse the received json",n)}r!==void 0&&e(r)};function xk(t,e){let r;try{r=t()}catch{return}return{getItem:i=>{var s;const o=l=>l===null?null:JSON.parse(l,void 0),a=(s=r.getItem(i))!=null?s:null;return a instanceof Promise?a.then(o):o(a)},setItem:(i,s)=>r.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>r.removeItem(i)}}const Js=t=>e=>{try{const r=t(e);return r instanceof Promise?r:{then(n){return Js(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return Js(n)(r)}}}},Sk=(t,e)=>(r,n,i)=>{let s={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:k=>k,version:0,merge:(k,m)=>({...m,...k}),...e},o=!1;const a=new Set,l=new Set;let u;try{u=s.getStorage()}catch{}if(!u)return t((...k)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),r(...k)},n,i);const c=Js(s.serialize),h=()=>{const k=s.partialize({...n()});let m;const p=c({state:k,version:s.version}).then(g=>u.setItem(s.name,g)).catch(g=>{m=g});if(m)throw m;return p},f=i.setState;i.setState=(k,m)=>{f(k,m),h()};const v=t((...k)=>{r(...k),h()},n,i);let y;const w=()=>{var k;if(!u)return;o=!1,a.forEach(p=>p(n()));const m=((k=s.onRehydrateStorage)==null?void 0:k.call(s,n()))||void 0;return Js(u.getItem.bind(u))(s.name).then(p=>{if(p)return s.deserialize(p)}).then(p=>{if(p)if(typeof p.version=="number"&&p.version!==s.version){if(s.migrate)return s.migrate(p.state,p.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return p.state}).then(p=>{var g;return y=s.merge(p,(g=n())!=null?g:v),r(y,!0),h()}).then(()=>{m==null||m(y,void 0),o=!0,l.forEach(p=>p(y))}).catch(p=>{m==null||m(void 0,p)})};return i.persist={setOptions:k=>{s={...s,...k},k.getStorage&&(u=k.getStorage())},clearStorage:()=>{u==null||u.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>w(),hasHydrated:()=>o,onHydrate:k=>(a.add(k),()=>{a.delete(k)}),onFinishHydration:k=>(l.add(k),()=>{l.delete(k)})},w(),y||v},Ek=(t,e)=>(r,n,i)=>{let s={storage:xk(()=>localStorage),partialize:w=>w,version:0,merge:(w,k)=>({...k,...w}),...e},o=!1;const a=new Set,l=new Set;let u=s.storage;if(!u)return t((...w)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),r(...w)},n,i);const c=()=>{const w=s.partialize({...n()});return u.setItem(s.name,{state:w,version:s.version})},h=i.setState;i.setState=(w,k)=>{h(w,k),c()};const f=t((...w)=>{r(...w),c()},n,i);i.getInitialState=()=>f;let v;const y=()=>{var w,k;if(!u)return;o=!1,a.forEach(p=>{var g;return p((g=n())!=null?g:f)});const m=((k=s.onRehydrateStorage)==null?void 0:k.call(s,(w=n())!=null?w:f))||void 0;return Js(u.getItem.bind(u))(s.name).then(p=>{if(p)if(typeof p.version=="number"&&p.version!==s.version){if(s.migrate)return[!0,s.migrate(p.state,p.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,p.state];return[!1,void 0]}).then(p=>{var g;const[E,P]=p;if(v=s.merge(P,(g=n())!=null?g:f),r(v,!0),E)return c()}).then(()=>{m==null||m(v,void 0),v=n(),o=!0,l.forEach(p=>p(v))}).catch(p=>{m==null||m(void 0,p)})};return i.persist={setOptions:w=>{s={...s,...w},w.storage&&(u=w.storage)},clearStorage:()=>{u==null||u.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>y(),hasHydrated:()=>o,onHydrate:w=>(a.add(w),()=>{a.delete(w)}),onFinishHydration:w=>(l.add(w),()=>{l.delete(w)})},s.skipHydration||y(),v||f},kk=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((ea?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),Sk(t,e)):Ek(t,e),bk=kk,jk=vk()(_k(bk((t,e)=>({user:null,profile:null,session:null,loading:!0,initialized:!1,error:null,profileError:null,retryCount:0,initialize:async()=>{try{const{data:{session:r}}=await fe.auth.getSession();r!=null&&r.user&&(t({session:r,user:r.user}),await e().loadProfile(r.user.id)),t({initialized:!0,loading:!1}),fe.auth.onAuthStateChange((n,i)=>{(async()=>(t({session:i,user:(i==null?void 0:i.user)??null}),i!=null&&i.user?await e().loadProfile(i.user.id):t({profile:null,loading:!1})))()})}catch(r){console.error("Error initializing auth:",r),t({initialized:!0,loading:!1})}},loadProfile:async(r,n=0)=>{try{if(console.log(`[AuthStore] Loading profile (attempt ${n+1}/6)`),t({retryCount:n}),n===0){const l=await Yg();if(!l.success){console.error("[AuthStore] Database connection failed:",l.message),t({profileError:{type:"network",message:"Connexion  la base de donnes impossible",details:l.message,timestamp:new Date},loading:!1});return}}const{data:o,error:a}=await fe.from("profiles").select("*").eq("id",r).maybeSingle();if(a){console.error("[AuthStore] Supabase error:",a);let l="database",u="Erreur lors du chargement du profil",c=a.message;if(a.code==="PGRST116"?(l="not_found",u="Profil introuvable",c="Le profil n'a pas t trouv dans la base de donnes."):a.message.includes("permission")||a.code==="42501"?(l="permission",u="Accs refus",c="Permissions insuffisantes pour accder au profil."):(a.message.includes("network")||a.message.includes("fetch"))&&(l="network",u="Erreur de connexion",c="Impossible de se connecter au serveur."),n<5){const h=1500*Math.pow(1.5,n);return console.log(`[AuthStore] Retrying in ${h}ms...`),await new Promise(f=>setTimeout(f,h)),e().loadProfile(r,n+1)}t({profileError:{type:l,message:u,details:c,timestamp:new Date},loading:!1});return}if(!o){if(console.warn("[AuthStore] No profile data returned"),n<5){const l=1500*Math.pow(1.5,n);return console.log(`[AuthStore] Profile not found, retrying in ${l}ms...`),await new Promise(u=>setTimeout(u,l)),e().loadProfile(r,n+1)}t({profileError:{type:"not_found",message:"Profil introuvable",details:"Impossible de trouver votre profil aprs plusieurs tentatives.",timestamp:new Date},loading:!1});return}console.log("[AuthStore] Profile loaded successfully"),t({profile:o,loading:!1,profileError:null,retryCount:0})}catch(o){if(console.error("[AuthStore] Unexpected error loading profile:",o),n<5){const a=1500*Math.pow(1.5,n);return console.log(`[AuthStore] Retrying after error in ${a}ms...`),await new Promise(l=>setTimeout(l,a)),e().loadProfile(r,n+1)}t({profileError:{type:"unknown",message:"Erreur inattendue",details:o.message||"Une erreur inconnue s'est produite.",timestamp:new Date},loading:!1})}},signIn:async(r,n)=>{t({loading:!0,error:null});const{error:i}=await fe.auth.signInWithPassword({email:r,password:n});return i&&t({error:i,loading:!1}),{error:i}},signUp:async(r,n,i)=>{t({loading:!0,error:null});const{error:s}=await fe.auth.signUp({email:r,password:n,options:{data:{full_name:i.full_name,user_type:i.user_type}}});return s&&t({error:s,loading:!1}),{error:s}},signOut:async()=>{t({loading:!0}),await fe.auth.signOut(),t({user:null,profile:null,session:null,loading:!1,error:null})},updateProfile:async r=>{const{user:n}=e();if(n){t({loading:!0,error:null});try{const{error:i}=await fe.from("profiles").update(r).eq("id",n.id);if(i)throw i;await e().loadProfile(n.id)}catch(i){console.error("Error updating profile:",i),t({loading:!1})}}},clearError:()=>t({error:null}),clearProfileError:()=>t({profileError:null}),forceRefresh:async()=>{const{user:r}=e();r&&(t({loading:!0,profileError:null,retryCount:0}),await e().loadProfile(r.id))}}),{name:"auth-storage",partialize:t=>({session:t.session})}),{name:"AuthStore"}));function B({children:t}){const e=tl(),{user:r,loading:n}=jk();return x.useEffect(()=>{!n&&!r&&e("/connexion",{replace:!0})},[r,n,e]),n?d.jsx("div",{className:"flex items-center justify-center min-h-screen",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):r?d.jsx(d.Fragment,{children:t}):null}class Pk extends x.Component{constructor(r){super(r);Vn(this,"handleReset",()=>{this.setState({hasError:!1,error:null,errorInfo:null}),window.location.href="/recherche"});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,n){console.error("SearchErrorBoundary caught an error:",r,n),this.setState({error:r,errorInfo:n}),typeof window<"u"&&window.Sentry&&window.Sentry.captureException(r,{contexts:{react:{componentStack:n.componentStack}}})}render(){return this.state.hasError?d.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4",children:d.jsx("div",{className:"max-w-2xl w-full bg-white rounded-2xl shadow-xl p-8 md:p-12",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-red-100 rounded-full mb-6",children:d.jsx(mv,{className:"h-10 w-10 text-red-600"})}),d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Une erreur est survenue"}),d.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"La page de recherche a rencontr un problme technique. Nos quipes ont t notifies et travaillent sur une solution."}),!1,d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[d.jsxs("button",{onClick:this.handleReset,className:"inline-flex items-center justify-center gap-2 px-6 py-3 bg-orange-500 text-white font-semibold rounded-xl hover:bg-orange-600 transition-colors",children:[d.jsx(_E,{className:"h-5 w-5"}),"Ressayer"]}),d.jsxs("a",{href:"/",className:"inline-flex items-center justify-center gap-2 px-6 py-3 bg-gray-100 text-gray-700 font-semibold rounded-xl hover:bg-gray-200 transition-colors",children:[d.jsx(Ks,{className:"h-5 w-5"}),"Retour  l'accueil"]})]}),d.jsxs("p",{className:"mt-8 text-sm text-gray-500",children:["Si le problme persiste, veuillez"," ",d.jsx("a",{href:"/contact",className:"text-orange-600 hover:text-orange-700 font-medium",children:"contacter le support"})]})]})})}):this.props.children}}const Tk=x.lazy(()=>L(()=>import("./HomePage-C0QQdpvj.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),Ck=x.lazy(()=>L(()=>import("./NotFoundPage-C5DiKzdQ.js"),__vite__mapDeps([7,8]))),Vf=x.lazy(()=>L(()=>import("./AddPropertyLandingPage-DAN1PDhz.js"),__vite__mapDeps([9,5,10,11]))),qf=x.lazy(()=>L(()=>import("./AuthPage-Cvo0rBnX.js"),__vite__mapDeps([12,13,14,15,8]))),Rk=x.lazy(()=>L(()=>import("./ModernAuthPage-CJR8GOSC.js"),__vite__mapDeps([16,17,14,18,19,20,5,8]))),Ak=x.lazy(()=>L(()=>import("./CallbackPage-BFJZHg5l.js"),[])),Ok=x.lazy(()=>L(()=>import("./ForgotPasswordPage-BgR10loZ.js"),__vite__mapDeps([21,8,15]))),Nk=x.lazy(()=>L(()=>import("./ResetPasswordPage-Da7YcgVM.js"),__vite__mapDeps([22,8,14,18,19]))),Ik=x.lazy(()=>L(()=>import("./VerifyOTPPage-C8twSI0N.js"),__vite__mapDeps([23,8]))),Lk=x.lazy(()=>L(()=>import("./ProfileSelectionPage-CILnYf6d.js"),__vite__mapDeps([24,17,5,25]))),Dk=x.lazy(()=>L(()=>import("./ProfilePage-CdpXbGRr.js"),__vite__mapDeps([26,27,14,4,11,28,29,30,25,17,10,31]))),Mk=x.lazy(()=>L(()=>import("./SearchPropertiesPage-vwnySx0Y.js"),__vite__mapDeps([32,33,2]))),Kl=x.lazy(()=>L(()=>import("./PropertyDetailPage-Db2UWPEP.js"),__vite__mapDeps([34,33,2,8,1,35]))),Uk=x.lazy(()=>L(()=>import("./FavoritesPage-CL8uzXV5.js"),__vite__mapDeps([36,37,13,30,25,17,38,39,28,3,40,41,35,31]))),zk=x.lazy(()=>L(()=>import("./SavedSearchesPage-DD5-rrr-.js"),__vite__mapDeps([42,19]))),$k=x.lazy(()=>L(()=>import("./RecommendationsPage-D8fMkvcV.js"),__vite__mapDeps([43,11,2,19]))),Fk=x.lazy(()=>L(()=>import("./ApplicationFormPage-CmXcgWSi.js"),__vite__mapDeps([44,45,8,28]))),Bk=x.lazy(()=>L(()=>import("./ApplicationDetailPage-e-5aBDDc.js"),__vite__mapDeps([46,45,8,28]))),Vk=x.lazy(()=>L(()=>import("./ScheduleVisitPage-D_tq9FU3.js"),__vite__mapDeps([47,37,13,30,25,17,38,39,28,3,40,41,8,48]))),qk=x.lazy(()=>L(()=>import("./MyVisitsPage-B5fdMtsI.js"),__vite__mapDeps([49,37,13,30,25,17,38,39,28,3,40,41,48,4]))),Hk=x.lazy(()=>L(()=>import("./MessagesPage-6SDxsApY.js"),__vite__mapDeps([50,37,13,30,25,17,38,39,28,3,40,41,51]))),Wk=x.lazy(()=>L(()=>import("./CreateContractPage-B4aTdmkZ.js"),__vite__mapDeps([52,37,13,30,25,17,38,39,28,3,40,41,8,53]))),Kk=x.lazy(()=>L(()=>import("./MyContractsPage-CsxvUAxw.js"),__vite__mapDeps([54,37,13,30,25,17,38,39,28,3,40,41,19,55]))),Qk=x.lazy(()=>L(()=>import("./ContractDetailPage-Brao6C73.js"),__vite__mapDeps([56,37,13,30,25,17,38,39,28,3,40,41,8,55]))),Jk=x.lazy(()=>L(()=>import("./ContractDetailEnhancedPage-CD2T_v8Z.js"),__vite__mapDeps([57,37,13,30,25,17,38,39,28,3,40,41,58,19,59,60,8]))),Hf=x.lazy(()=>L(()=>import("./SignLeasePage-BO6uiiin.js"),__vite__mapDeps([61,37,13,30,25,17,38,39,28,3,40,41,27,14,59]))),Gk=x.lazy(()=>L(()=>import("./ContractsListPage-Av3xkRlj.js"),__vite__mapDeps([62,58,19,59]))),Yk=x.lazy(()=>L(()=>import("./MakePaymentPage-DRDaOacs.js"),__vite__mapDeps([63,37,13,30,25,17,38,39,28,3,40,41,64,53,8,65]))),Xk=x.lazy(()=>L(()=>import("./PaymentHistoryPage-AhIIfxjF.js"),__vite__mapDeps([66,37,13,30,25,17,38,39,28,3,40,41,53,19,59]))),Zk=x.lazy(()=>L(()=>import("./RequestPage-Buyntz1t.js"),__vite__mapDeps([67,37,13,30,25,17,38,39,28,3,40,41,64,60]))),Wf=x.lazy(()=>L(()=>import("./IdentityVerificationPage-D85SaFy5.js"),__vite__mapDeps([68,37,13,30,25,17,38,39,28,3,40,41,69,27,10,20,29,60]))),eb=x.lazy(()=>L(()=>import("./SettingsPage-BOLlH74c.js"),__vite__mapDeps([70,31]))),tb=x.lazy(()=>L(()=>import("./MyCertificatesPage-DLzLofAt.js"),__vite__mapDeps([71,37,13,30,25,17,38,39,28,3,40,41])));x.lazy(()=>L(()=>import("./RequestValidationPage-Bsprz3in.js"),__vite__mapDeps([72,73,69,27])));const rb=x.lazy(()=>L(()=>import("./RequestCEVPage-DSz8p10P.js"),__vite__mapDeps([74,75,60]))),nb=x.lazy(()=>L(()=>import("./CEVRequestDetailPage-CX3T47FA.js"),__vite__mapDeps([76,75,59,60]))),ib=x.lazy(()=>L(()=>import("./DashboardPage-BDuMa7vP.js"),__vite__mapDeps([77,53,78,39]))),sb=x.lazy(()=>L(()=>import("./CalendarPage-D0kIbCJU.js"),__vite__mapDeps([79,8,59,1,2,39,19,53]))),ob=x.lazy(()=>L(()=>import("./ScorePage-DD-iDpxp.js"),__vite__mapDeps([80,11,28,78,4,14,5]))),ab=x.lazy(()=>L(()=>import("./MaintenancePage-C_sw2mzp.js"),__vite__mapDeps([81,39]))),lb=x.lazy(()=>L(()=>import("./DashboardPage-BDuMa7vP.js"),__vite__mapDeps([77,53,78,39]))),Kf=x.lazy(()=>L(()=>import("./AddPropertyPage-BwCtxXyb.js"),__vite__mapDeps([82,8,83,60,17,31]))),ub=x.lazy(()=>L(()=>import("./PropertyStatsPage-TjFSIOtD.js"),__vite__mapDeps([84,8,19,11,3,4]))),cb=x.lazy(()=>L(()=>import("./MaintenancePage-C_sw2mzp.js"),__vite__mapDeps([81,39]))),db=x.lazy(()=>L(()=>import("./DashboardPage-BDuMa7vP.js"),__vite__mapDeps([77,53,78,39]))),hb=x.lazy(()=>L(()=>import("./RegistrationPage-mynmbEQv.js"),__vite__mapDeps([85,5,17,60]))),fb=x.lazy(()=>L(()=>import("./TeamPage-BVR7_Ui9.js"),__vite__mapDeps([86,3,41]))),pb=x.lazy(()=>L(()=>import("./PropertiesPage-DUIy8nwH.js"),__vite__mapDeps([87,19,53]))),mb=x.lazy(()=>L(()=>import("./CommissionsPage-HOtaEjhl.js"),__vite__mapDeps([88,89,58,53,11]))),gb=x.lazy(()=>L(()=>import("./MaintenanceRequestPage-BsmWUMe_.js"),__vite__mapDeps([90,39,10,60]))),vb=x.lazy(()=>L(()=>import("./DashboardPage-BDuMa7vP.js"),__vite__mapDeps([77,53,78,39]))),yb=x.lazy(()=>L(()=>import("./UsersPage-B1gk3NBz.js"),__vite__mapDeps([91,37,13,30,25,17,38,39,28,3,40,41,55]))),wb=x.lazy(()=>L(()=>import("./UserRolesPage-BVF5YoZw.js"),__vite__mapDeps([92,40,31,17,3]))),_b=x.lazy(()=>L(()=>import("./ApiKeysPage-BOZFu-pb.js"),__vite__mapDeps([93,37,13,30,25,17,38,39,28,3,40,41,18,19,31]))),xb=x.lazy(()=>L(()=>import("./ServiceProvidersPage-BouvpPAD.js"),__vite__mapDeps([94,37,13,30,25,17,38,39,28,3,40,41,95,53,11]))),Sb=x.lazy(()=>L(()=>import("./ServiceMonitoringPage-_qpMMhRq.js"),__vite__mapDeps([96,37,13,30,25,17,38,39,28,3,40,41,59,95,11]))),Eb=x.lazy(()=>L(()=>import("./ServiceConfigurationPage-CjgXN6fj.js"),__vite__mapDeps([97,37,13,30,25,17,38,39,28,3,40,41,53]))),kb=x.lazy(()=>L(()=>import("./TestDataGeneratorPage-CwU_rdMi.js"),__vite__mapDeps([98,95,3,59]))),bb=x.lazy(()=>L(()=>import("./QuickDemoPage-CM6cXjVe.js"),__vite__mapDeps([99,83,20,13,3]))),Qf=x.lazy(()=>L(()=>import("./CEVManagementPage-CvNz2U7G.js"),__vite__mapDeps([100,75,3,11,53,59,19]))),jb=x.lazy(()=>L(()=>import("./TrustAgentsPage-yjESEvKk.js"),__vite__mapDeps([101,41,28,55]))),Pb=x.lazy(()=>L(()=>import("./DashboardPage-BDuMa7vP.js"),__vite__mapDeps([77,53,78,39]))),Tb=x.lazy(()=>L(()=>import("./ModerationPage-Dj_ezGRw.js"),__vite__mapDeps([102,73,19]))),Cb=x.lazy(()=>L(()=>import("./MediationPage-DRXg7b8k.js"),__vite__mapDeps([103,73,78,104]))),Rb=x.lazy(()=>L(()=>import("./AnalyticsPage-BvYCBXln.js"),__vite__mapDeps([105,89,95,59,3,11]))),Ab=x.lazy(()=>L(()=>import("./NotificationPreferencesPage-CJGoWdr4.js"),__vite__mapDeps([106,78,65,31]))),Ob=x.lazy(()=>L(()=>import("./MyDisputesPage-DWZ2tmD4.js"),__vite__mapDeps([107,73,104,78]))),Nb=x.lazy(()=>L(()=>import("./CreateDisputePage-CTscvBZT.js"),__vite__mapDeps([108,73,60]))),Ib=x.lazy(()=>L(()=>import("./DisputeDetailPage-DfhtXG0l.js"),__vite__mapDeps([109,73,8,51,78]))),Lb=x.lazy(()=>L(()=>import("./AboutPage-Bhoc1qeo.js"),__vite__mapDeps([110,8,3,28]))),Jf=x.lazy(()=>L(()=>import("./TermsOfServicePage-S8K4AoyH.js"),__vite__mapDeps([111,8]))),Db=x.lazy(()=>L(()=>import("./PrivacyPolicyPage-bQLoeuzW.js"),__vite__mapDeps([112,8,19,14,40]))),Mb=x.lazy(()=>L(()=>import("./ContactPage-B5DTCNdD.js"),__vite__mapDeps([113,114,8,6]))),Ub=x.lazy(()=>L(()=>import("./HelpPage-SzHfQhcq.js"),__vite__mapDeps([115,114,8,38,6]))),zb=x.lazy(()=>L(()=>import("./FAQPage-BOfjUm2u.js"),__vite__mapDeps([116,114,8,38,6]))),$b=[{path:"/",element:d.jsx(VE,{}),errorElement:d.jsx(oc,{}),children:[{index:!0,element:d.jsx(Tk,{})},{path:"connexion",element:d.jsx(qf,{})},{path:"inscription",element:d.jsx(qf,{})},{path:"auth",element:d.jsx(Rk,{})},{path:"auth/callback",element:d.jsx(Ak,{})},{path:"mot-de-passe-oublie",element:d.jsx(Ok,{})},{path:"reinitialiser-mot-de-passe",element:d.jsx(Nk,{})},{path:"verification-otp",element:d.jsx(Ik,{})},{path:"a-propos",element:d.jsx(Lb,{})},{path:"conditions-utilisation",element:d.jsx(Jf,{})},{path:"politique-confidentialite",element:d.jsx(Db,{})},{path:"mentions-legales",element:d.jsx(Jf,{})},{path:"contact",element:d.jsx(Mb,{})},{path:"aide",element:d.jsx(Ub,{})},{path:"faq",element:d.jsx(zb,{})},{path:"ajouter-propriete",element:d.jsx(Vf,{})},{path:"louer-mon-bien",element:d.jsx(Vf,{})},{path:"choix-profil",element:d.jsx(B,{children:d.jsx(Lk,{})})},{path:"profil",element:d.jsx(B,{children:d.jsx(Dk,{})})},{path:"recherche",element:d.jsx(Pk,{children:d.jsx(Mk,{})})},{path:"propriete/:id",element:d.jsx(Kl,{})},{path:"properties/:id",element:d.jsx(Kl,{})},{path:"proprietes/:id",element:d.jsx(Kl,{})},{path:"favoris",element:d.jsx(B,{children:d.jsx(Uk,{})})},{path:"recherches-sauvegardees",element:d.jsx(B,{children:d.jsx(zk,{})})},{path:"recommandations",element:d.jsx(B,{children:d.jsx($k,{})})},{path:"candidature/:id",element:d.jsx(B,{children:d.jsx(Fk,{})})},{path:"visiter/:id",element:d.jsx(B,{children:d.jsx(Vk,{})})},{path:"mes-visites",element:d.jsx(B,{children:d.jsx(qk,{})})},{path:"messages",element:d.jsx(B,{children:d.jsx(Hk,{})})},{path:"creer-contrat/:propertyId",element:d.jsx(B,{allowedRoles:["proprietaire","agence"],children:d.jsx(Wk,{})})},{path:"mes-contrats",element:d.jsx(B,{children:d.jsx(Kk,{})})},{path:"tous-les-contrats",element:d.jsx(B,{children:d.jsx(Gk,{})})},{path:"contrat/:id",element:d.jsx(B,{children:d.jsx(Qk,{})})},{path:"bail/:id/details",element:d.jsx(B,{children:d.jsx(Jk,{})})},{path:"signer-bail/:id",element:d.jsx(B,{children:d.jsx(Hf,{})})},{path:"bail/signer/:id",element:d.jsx(B,{children:d.jsx(Hf,{})})},{path:"effectuer-paiement",element:d.jsx(B,{children:d.jsx(Yk,{})})},{path:"mes-paiements",element:d.jsx(B,{children:d.jsx(Xk,{})})},{path:"verification",element:d.jsx(B,{children:d.jsx(Zk,{})})},{path:"certification-ansut",element:d.jsx(B,{children:d.jsx(Wf,{})})},{path:"ansut-verification",element:d.jsx(B,{children:d.jsx(Wf,{})})},{path:"verification/parametres",element:d.jsx(B,{children:d.jsx(eb,{})})},{path:"mes-certificats",element:d.jsx(B,{children:d.jsx(tb,{})})},{path:"request-cev",element:d.jsx(B,{children:d.jsx(rb,{})})},{path:"cev-request/:id",element:d.jsx(B,{children:d.jsx(nb,{})})},{path:"dashboard/locataire",element:d.jsx(B,{allowedRoles:["locataire"],children:d.jsx(ib,{})})},{path:"dashboard/locataire/calendrier",element:d.jsx(B,{allowedRoles:["locataire"],children:d.jsx(sb,{})})},{path:"score-locataire",element:d.jsx(B,{allowedRoles:["locataire"],children:d.jsx(ob,{})})},{path:"maintenance/locataire",element:d.jsx(B,{allowedRoles:["locataire"],children:d.jsx(ab,{})})},{path:"dashboard/proprietaire",element:d.jsx(B,{allowedRoles:["proprietaire"],children:d.jsx(lb,{})})},{path:"dashboard/ajouter-propriete",element:d.jsx(B,{allowedRoles:["proprietaire","agence"],children:d.jsx(Kf,{})})},{path:"add-property",element:d.jsx(B,{allowedRoles:["proprietaire","agence"],children:d.jsx(Kf,{})})},{path:"dashboard/propriete/:id/stats",element:d.jsx(B,{allowedRoles:["proprietaire","agence"],children:d.jsx(ub,{})})},{path:"maintenance/proprietaire",element:d.jsx(B,{allowedRoles:["proprietaire"],children:d.jsx(cb,{})})},{path:"dashboard/candidature/:id",element:d.jsx(B,{allowedRoles:["proprietaire","agence"],children:d.jsx(Bk,{})})},{path:"agence/tableau-de-bord",element:d.jsx(B,{allowedRoles:["agence"],children:d.jsx(db,{})})},{path:"agence/inscription",element:d.jsx(B,{children:d.jsx(hb,{})})},{path:"agence/equipe",element:d.jsx(B,{allowedRoles:["agence"],children:d.jsx(fb,{})})},{path:"agence/proprietes",element:d.jsx(B,{allowedRoles:["agence"],children:d.jsx(pb,{})})},{path:"agence/commissions",element:d.jsx(B,{allowedRoles:["agence"],children:d.jsx(mb,{})})},{path:"maintenance/nouvelle",element:d.jsx(B,{children:d.jsx(gb,{})})},{path:"admin/tableau-de-bord",element:d.jsx(B,{allowedRoles:["admin"],children:d.jsx(vb,{})})},{path:"admin/utilisateurs",element:d.jsx(B,{allowedRoles:["admin"],children:d.jsx(yb,{})})},{path:"admin/gestion-roles",element:d.jsx(B,{allowedRoles:["admin"],children:d.jsx(wb,{})})},{path:"admin/api-keys",element:d.jsx(B,{allowedRoles:["admin"],children:d.jsx(_b,{})})},{path:"admin/service-providers",element:d.jsx(B,{allowedRoles:["admin"],children:d.jsx(xb,{})})},{path:"admin/service-monitoring",element:d.jsx(B,{allowedRoles:["admin"],children:d.jsx(Sb,{})})},{path:"admin/service-configuration",element:d.jsx(B,{allowedRoles:["admin"],children:d.jsx(Eb,{})})},{path:"admin/test-data-generator",element:d.jsx(B,{allowedRoles:["admin"],children:d.jsx(kb,{})})},{path:"admin/demo-rapide",element:d.jsx(B,{allowedRoles:["admin"],children:d.jsx(bb,{})})},{path:"admin/cev-management",element:d.jsx(B,{allowedRoles:["admin"],children:d.jsx(Qf,{})})},{path:"admin/cev/:id",element:d.jsx(B,{allowedRoles:["admin"],children:d.jsx(Qf,{})})},{path:"admin/trust-agents",element:d.jsx(B,{allowedRoles:["admin"],children:d.jsx(jb,{})})},{path:"trust-agent/dashboard",element:d.jsx(B,{allowedRoles:["trust_agent"],children:d.jsx(Pb,{})})},{path:"trust-agent/moderation",element:d.jsx(B,{allowedRoles:["trust_agent"],children:d.jsx(Tb,{})})},{path:"trust-agent/mediation",element:d.jsx(B,{allowedRoles:["trust_agent"],children:d.jsx(Cb,{})})},{path:"trust-agent/analytics",element:d.jsx(B,{allowedRoles:["trust_agent"],children:d.jsx(Rb,{})})},{path:"notifications/preferences",element:d.jsx(B,{children:d.jsx(Ab,{})})},{path:"mes-litiges",element:d.jsx(B,{children:d.jsx(Ob,{})})},{path:"creer-litige",element:d.jsx(B,{children:d.jsx(Nb,{})})},{path:"litige/:id",element:d.jsx(B,{children:d.jsx(Ib,{})})},{path:"*",element:d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:d.jsxs("div",{className:"text-center",children:[d.jsx("h1",{className:"text-6xl font-bold text-gray-900 mb-4",children:"404"}),d.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-4",children:"Page non trouve"}),d.jsx("p",{className:"text-gray-600 mb-8",children:"La page que vous recherchez n'existe pas."}),d.jsx("a",{href:"/",className:"inline-block px-6 py-3 bg-terracotta-500 text-white rounded-lg hover:bg-terracotta-600 transition-colors",children:"Retour  l'accueil"})]})})}]},{path:"*",element:d.jsx(Ck,{})}],Fb=zS($b);function Bb(){return d.jsx(QS,{router:Fb})}const Vb=Gw();yx();wg(document.getElementById("root")).render(d.jsx(x.StrictMode,{children:d.jsx(gx,{children:d.jsx(Qw,{client:Vb,children:d.jsx(mx,{children:d.jsx(Bb,{})})})})}));export{mv as A,rE as B,yv as C,lE as D,gv as E,wv as F,Df as G,Ks as H,uE as I,Ct as J,cc as K,rj as L,pE as M,yE as P,xE as R,sc as S,bE as T,ds as U,_d as X,L as _,SE as a,tl as b,Z as c,kE as d,fE as e,_v as f,oE as g,hE as h,nj as i,d as j,Bi as k,aE as l,tj as m,vv as n,iE as o,PE as p,xv as q,x as r,fe as s,sE as t,fd as u,IE as v,Uo as w,EE as x,Mf as y,mE as z};
